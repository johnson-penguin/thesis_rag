![](media/image1.wmf){width="7.0875in" height="0.9722222222222222in"}

Contents {#contents .TT}
========

[4](#foreword)

[5](#scope)

[5](#references)

[5](#abbreviations)

[5](#modulation-format-for-gmsk)

[5](#modulating-symbol-rate)

[6](#start-and-stop-of-the-burst)

[6](#differential-encoding)

[6](#filtering)

[7](#output-phase)

[7](#modulation)

[8](#overlaid-cdma)

[8](#modulation-format-for-8psk)

[8](#modulating-symbol-rate-1)

[8](#symbol-mapping)

[9](#start-and-stop-of-the-burst-1)

[10](#symbol-rotation)

[10](#pulse-shaping)

[10](#modulation-1)

[11](#modulation-format-for-16qam-and-32qam-at-the-normal-symbol-rate)

[11](#modulating-symbol-rate-2)

[11](#symbol-mapping-1)

[12](#start-and-stop-of-the-burst-2)

[13](#symbol-rotation-1)

[13](#pulse-shaping-1)

[13](#modulation-2)

[13](#modulation-format-for-qpsk-16qam-and-32qam-at-the-higher-symbol-rate)

[13](#modulating-symbol-rate-3)

[14](#symbol-mapping-2)

[14](#start-and-stop-of-the-burst-3)

[14](#symbol-rotation-2)

[14](#pulse-shaping-2)

[15](#modulation-3)

[15](#modulation-format-for-aqpsk)

[15](#modulating-symbol-rate-4)

[15](#symbol-mapping-3)

[16](#start-and-stop-of-the-burst-4)

[17](#symbol-rotation-3)

[17](#pulse-shaping-3)

[17](#modulation-4)

[18](#annex-a-normative-tx-filter-coefficients-for-the-spectrally-wide-pulse-shape)

[19](#annex-b-informative-change-history)Foreword 1 Scope 1.1 References
1.2 Abbreviations 2 Modulation format for GMSK 2.1 Modulating symbol
rate 2.2 Start and stop of the burst 2.3 Differential encoding 2.4
Filtering 2.5 Output phase 2.6 Modulation 2.7 Overlaid CDMA 3 Modulation
format for 8PSK 3.1 Modulating symbol rate 3.2 Symbol mapping 3.3 Start
and stop of the burst 3.4 Symbol rotation 3.5 Pulse shaping 3.6
Modulation 4 Modulation format for 16QAM and 32QAM at the normal symbol
rate 4.1 Modulating symbol rate 4.2 Symbol mapping 4.3 Start and stop of
the burst 4.4 Symbol rotation 4.5 Pulse shaping 4.6 Modulation 5
Modulation format for QPSK, 16QAM and 32QAM at the higher symbol rate
5.1 Modulating symbol rate 5.2 Symbol mapping 5.3 Start and stop of the
burst 5.4 Symbol rotation 5.5 Pulse shaping 5.6 Modulation 6 Modulation
format for AQPSK 6.1 Modulating symbol rate 6.2 Symbol mapping 6.3 Start
and stop of the burst 6.4 Symbol rotation 6.5 Pulse shaping 6.6
Modulation Annex A (normative): Tx filter coefficients for the
spectrally wide pulse shape Annex B (informative): Change history

Foreword
========

This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).

The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:

Version x.y.z

where:

x the first digit:

1 presented to TSG for information;

2 presented to TSG for approval;

3 or greater indicates TSG approved document under change control.

y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.

z the third digit is incremented when editorial only changes have been
incorporated in the document.

1 Scope
=======

The modulator receives the bits from the encryption unit, see 3GPP TS
45.001, and produces an RF signal. The filtering of the Radio Frequency
(RF) signal necessary to obtain the spectral purity is not defined,
neither are the tolerances associated with the theoretical filter
requirements specified. These are contained in 3GPP TS 45.005.

1.1 References
==============

The following documents contain provisions which, through reference in
this text, constitute provisions of the present document.

\- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.

\- For a specific reference, subsequent revisions do not apply.

\- For a non-specific reference, the latest version applies. In the case
of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document *in the same Release as the present document*.

\[1\] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".

\[2\] 3GPP TS 45.001: \"Physical Layer on the Radio Path (General
Description)\".

\[3\] 3GPP TS 45.002: \"Multiplexing and multiple access on the radio
path\".

\[4\] 3GPP TS 45.005: \"Radio transmission and reception\".

\[5\] 3GPP TS 45.010: \"Radio subsystem synchronization\".

\[6\] 3GPP TS 44.060: \"Radio Link Control/ Medium Access Control
(RLC/MAC) protocol\".

\[7\] 3GPP TS 43.064: \"General Packet Radio Service (GPRS)\".

\[8\] 3GPP TS 45.003: \"Channel Coding\".

1.2 Abbreviations
=================

Abbreviations used in this specification are listed in 3GPP TR 21.905.
In addition to abbreviations in 3GPP TR 21.905 the following
abbreviation apply:

AQPSK Adaptive Quadrature Phase Shift Keying

EC Extended Coverage

ESAB Extended Synchronization Access Burst

2 Modulation format for GMSK
============================

2.1 Modulating symbol rate
--------------------------

The modulating symbol rate is the normal symbol rate which is defined as
1/T = 1 625/6 ksymb/s (i.e. approximately 270.833 ksymb/s), which
corresponds to 1 625/6 kbit/s (i.e. 270.833 kbit/s). T is the normal
symbol period (see 3GPP TS 45.010).

2.2 Start and stop of the burst
-------------------------------

Before the first bit of the bursts as defined in 3GPP TS 45.002 enters
the modulator, the modulator has an internal state as if a modulating
bit stream consisting of consecutive ones (*di = 1*) had entered the
differential encoder. Also after the last bit of the time slot, the
modulator has an internal state as if a modulating bit stream consisting
of consecutive ones (*di* *= 1*) had continued to enter the differential
encoder. These bits are called dummy bits and define the start and the
stop of the active and the useful part of the burst as illustrated in
figure 1. Nothing is specified about the actual phase of the modulator
output signal outside the useful part of the burst. In case of EC
operation, the phase during the useful part of contiguous bursts,
belonging to the same blind physical layer transmissions within a TDMA
frame, has a fixed relation, see subclauses 2.6 and 2.7.

Figure 1: Relation between active part of burst, tail bits and dummy
bits. For the normal burst the useful part lasts for 147 modulating
bits.

2.3 Differential encoding
-------------------------

Each data value *di* *= \[0,1\]* is differentially encoded. The output
of the differential encoder is:

${\hat{d}}_{i} = d_{i}{Åd}_{i - 1}(d_{i}Î\left\{ 0,1 \right\})$

where ⊕ denotes modulo 2 addition.

The modulating data value *αi* input to the modulator is:

$\alpha_{i} = 1 - 2{\hat{d}}_{i}(\alpha_{i}Î\left\{ - 1, + 1 \right\})$

2.4 Filtering
-------------

The modulating data values *αi* as represented by Dirac pulses excite a
linear filter with impulse response defined by:

$g(t) = h(t) \ast \text{rect}\left( \frac{t}{T} \right)$

where the function *rect(x)* is defined by:

$\text{rect}\left( \frac{t}{T} \right) = \frac{1}{T}\text{for}\left| t \right| < \frac{T}{2}$

$\text{rect}\left( \frac{t}{T} \right) = 0\text{otherwise}$

and \* means convolution. *h(t)* is defined by:

$h(t) = \frac{\text{exp}\left( \frac{- t^{2}}{2d^{2}T^{2}} \right)}{\sqrt{(2p})\text{.}\text{dT}}$

where
$d = \frac{\sqrt{\text{ln}(2)}}{2p\text{BT}}\text{and}\text{BT} = 0\text{.}3$

where B is the 3 dB bandwidth of the filter with impulse response
*h(t)*. This theoretical filter is associated with tolerances defined in
3GPP TS 45.005.

2.5 Output phase
----------------

The phase of the modulated signal is:

$j(t') = \sum_{i}^{}\alpha_{i}\text{ph}\underset{}{\overset{}{\int_{\text{-¥}}^{t' - \text{iT}}{g(u)\text{du}}}}$

where the modulating index *h* is 1/2 (maximum phase change in radians
is π/2 per data interval).

The time reference *t\'* *= 0* is the start of the active part of the
burst as shown in figure 1. This is also the start of the bit period of
bit number 0 (the first tail bit) as defined in 3GPP TS 45.002.

2.6 Modulation
--------------

The modulated RF carrier, except for start and stop of the TDMA burst,
or ESAB (see 3GPP TS 45.002 \[3\]) may therefore be expressed as:

$x(t') = \sqrt{\frac{2E_{c}}{T}}\text{.}\text{cos}(2\text{pf}_{0}t' + j(t') + j_{0})$

where *Ec* is the energy per modulating bit, *f0* is the centre
frequency and *ϕ0* is a random phase and is constant during one burst or
ESAB (see 3GPP TS 45.002 \[3\]).

In case of EC operation when using blind physical layer transmissions
(see 3GPP TS 43.064 \[7\]), the modulated RF carrier, except for start
and stop of the burst, may, for each blind physical layer transmission
of a burst for which phase and amplitude coherency is required (see 3GPP
TS 45.005 \[4\]), be expressed as:

$x(t') = \sqrt{\frac{2E_{c}}{T}}\text{}\text{.}\text{}\text{cos}(2\pi f_{0}(t' + t_{0}) + \phi(t') + \phi_{\text{157}} + \phi_{0})$

where

\- *t~0~* is a burst-specific time offset, constant during one burst,
and is defined as the time difference between the start of the active
part (time instant *t\'* *= 0*) of the current burst and the start of
the active part (*t\'* *= 0*) of the first transmission of the same
burst in the current TDMA frame.

\- *ϕ157* is a phase shift of either 0 or πh, and is constant during one
burst.

\- *ϕ0* is a random phase and is constant during all blind physical
layer transmissions of the same burst within the same TDMA frame.

For EC-GSM-IoT, only integer timeslot lengths are allowed (see 3GPP TS
45.010 \[5\]). If any blind physical layer transmission is transmitted
in the uplink on timeslot 0 or timeslot 4, which are 157 symbols long,
all following blind physical layer transmissions of the same burst in
that TDMA frame shall be shifted in phase by πh, i.e. *ϕ157* = πh,
otherwise *ϕ157* = 0. For the downlink this phase shift shall not be
applied, i.e. *ϕ157* = 0.

2.7 Overlaid CDMA
-----------------

In the case of Overlaid CDMA, the modulated RF carrier may be expressed
with an additional term compared to subclause 2.6 representing the
Overlaid CDMA code:

$x(t') = \sqrt{\frac{2E_{c}}{T}}\text{}\text{.}\text{}\text{cos}(2\pi f_{0}(t' + t_{0}) + \phi(t') + \phi_{\text{157}} + \phi_{0} + \text{OC} \cdot \pi)$

where *OC* equals 0 or 1 in accordance with the applied Overlaid CDMA
code (see 3GPP TS 45.002 \[3\]) and is constant during one burst. For
each blind physical layer transmission within a TDMA frame, *OC* equals
its respective Overlaid CDMA code element. For example for Overlaid CDMA
code sequence \'0011\', *OC* equals 0 for the first two blind physical
layer transmissions and 1 for the last two blind physical layer
transmissions within a TDMA frame.

NOTE: If the blind physical layer transmissions within a TDMA frame are
continuously modulated, a phase shift of π for bursts with *OC*=1 can be
well approximated by inverting all the data values *di* (cf. subclause
2.3), i.e. replacing their data values by 1-*di*, including three to
five guard bits preceding and following the tail bits, respectively.

3 Modulation format for 8PSK
============================

3.1 Modulating symbol rate
--------------------------

The modulating symbol rate is the normal symbol rate which is defined as
1/T = 1 625/6 ksymb/s (i.e. approximately 270.833 ksymb/s), which
corresponds to 3\*1 625/6 kbit/s (i.e. 812.5 kbit/s). T is the normal
symbol period (see 3GPP TS 45.010).

3.2 Symbol mapping
------------------

The modulating bits are Gray mapped in groups of three to 8PSK symbols
by the rule

![](media/image4.wmf){width="0.7361111111111112in"
height="0.2638888888888889in"}

where *l* is given by table 1.

Table 1: Mapping between modulating bits and the 8PSK symbol parameter
*l.*

+----------------------------+----------------------+
| Modulating bits            | Symbol parameter *l* |
|                            |                      |
| *d~3i~,, d~3i+1~, d~3i+2~* |                      |
+----------------------------+----------------------+
| (1,1,1)                    | 0                    |
+----------------------------+----------------------+
| (0,1,1)                    | 1                    |
+----------------------------+----------------------+
| (0,1,0)                    | 2                    |
+----------------------------+----------------------+
| (0,0,0)                    | 3                    |
+----------------------------+----------------------+
| (0,0,1)                    | 4                    |
+----------------------------+----------------------+
| (1,0,1)                    | 5                    |
+----------------------------+----------------------+
| (1,0,0)                    | 6                    |
+----------------------------+----------------------+
| (1,1,0)                    | 7                    |
+----------------------------+----------------------+

This is illustrated in figure 2.

![](media/image5.wmf){width="2.9854166666666666in"
height="2.1597222222222223in"}

Figure 2: Symbol mapping of modulating bits into 8PSK symbols.

3.3 Start and stop of the burst
-------------------------------

Before the first bit of the bursts as defined in 3GPP TS 45.002 enters
the modulator, the state of the modulator is undefined. Also after the
last bit of the burst, the state of the modulator is undefined. The tail
bits (see 3GPP TS 45.002) define the start and the stop of the active
and the useful part of the burst as illustrated in figure 3. Nothing is
specified about the actual phase of the modulator output signal outside
the useful part of the burst.

![](media/image6.wmf){width="5.792361111111111in"
height="2.3444444444444446in"}

Figure 3: Relation between active part of burst and tail bits. For the
normal burst the useful part lasts for 147 modulating symbols

3.4 Symbol rotation
-------------------

The 8PSK symbols are continuously rotated with 3π/8 radians per symbol
before pulse shaping. The rotated symbols are defined as

3.5 Pulse shaping
-----------------

The modulating 8PSK symbols ${\hat{s}}_{i}$ as represented by Dirac
pulses excite a linear pulse shaping filter. This filter is a linearised
GMSK pulse, i.e. the main component in a Laurant decomposition of the
GMSK modulation. The impulse response is defined by:

where

$S(t) = \left\{ \begin{matrix}
\text{sin}(\pi\int_{0}^{t}{g(t´)\text{dt}´),\ \text{for}\ 0 \leq t \leq 4T} \\
\text{sin}(\frac{\pi}{2} - \pi\int_{0}^{t - 4T}{g(t´)\text{dt}´),\ \text{for}\ 4T < t \leq 8T} \\
0,\ \text{else} \\
\end{matrix} \right.\ $

$g(t) = \frac{1}{2T}\left( Q(2\pi \cdot 0\text{.}3\frac{t - 5\frac{T}{2}}{T\sqrt{\text{log}_{e}(2)}}) - Q(2\pi \cdot 0\text{.}3\frac{t - 3\frac{T}{2}}{T\sqrt{\text{log}_{e}(2)}}) \right)$

and

$Q(t) = \frac{1}{\sqrt{2\pi}}\int_{t}^{\infty}e^{- \frac{\tau^{2}}{2}}\text{dτ}$.

The base band signal is

$y(t') = \sum_{i}^{}{{\hat{s}}_{i} \cdot c_{0}(t' - \text{iT} + 2T)}$

The time reference *t\'* *= 0* is the start of the active part of the
burst as shown in figure 3. This is also the start of the symbol period
of symbol number 0 (containing the first tail bit) as defined in 3GPP TS
45.002.

3.6 Modulation
--------------

The modulated RF carrier during the useful part of the burst is
therefore:

where *Es* is the energy per modulating symbol, *f0* is the centre
frequency and *ϕ0* is a random phase and is constant during one burst.

4 Modulation format for 16QAM and 32QAM at the normal symbol rate 
=================================================================

4.1 Modulating symbol rate
--------------------------

The modulating symbol rate is the normal symbol rate which is defined as
1/T = 1625/6 ksymb/s (i.e. approximately 270.833 ksymb/s), which
corresponds to 4\*1625/6 kbit/s (i.e. approximately 1083.3 kbit/s) for
16QAM and to 5\*1625/6 kbit/s (i.e. approximately 1354.2 kbit/s) for
32QAM. T is the normal symbol period (see 3GPP TS 45.010).

4.2 Symbol mapping
------------------

The modulating bits are mapped to symbols according to Table 2 for 16QAM
and Table 3 for 32QAM.

*Table 2: Mapping between modulating bits and 16QAM symbols*.

+------------------------------------+--------------+---+
| Modulating bits                    | 16QAM symbol |   |
|                                    |              |   |
| *d~4i~, d~4i+1~, d~4i+2~, d~4i+3~* | *s~i~*       |   |
+------------------------------------+--------------+---+
|                                    | I            | Q |
+------------------------------------+--------------+---+
| (0,0,0,0)                          |              |   |
+------------------------------------+--------------+---+
| (0,0,0,1)                          |              |   |
+------------------------------------+--------------+---+
| (0,0,1,0)                          |              |   |
+------------------------------------+--------------+---+
| (0,0,1,1)                          |              |   |
+------------------------------------+--------------+---+
| (0,1,0,0)                          |              |   |
+------------------------------------+--------------+---+
| (0,1,0,1)                          |              |   |
+------------------------------------+--------------+---+
| (0,1,1,0)                          |              |   |
+------------------------------------+--------------+---+
| (0,1,1,1)                          |              |   |
+------------------------------------+--------------+---+
| (1,0,0,0)                          |              |   |
+------------------------------------+--------------+---+
| (1,0,0,1)                          |              |   |
+------------------------------------+--------------+---+
| (1,0,1,0)                          |              |   |
+------------------------------------+--------------+---+
| (1,0,1,1)                          |              |   |
+------------------------------------+--------------+---+
| (1,1,0,0)                          |              |   |
+------------------------------------+--------------+---+
| (1,1,0,1)                          |              |   |
+------------------------------------+--------------+---+
| (1,1,1,0)                          |              |   |
+------------------------------------+--------------+---+
| (1,1,1,1)                          |              |   |
+------------------------------------+--------------+---+

*Table 3: Mapping between modulating bits and 32QAM symbols*.

+---------------------------------------------+--------------+---+
| Modulating bits                             | 32QAM symbol |   |
|                                             |              |   |
| *d~5i~, d~5i+1~, d~5i+2~, d~5i+3~, d~5i+4~* | *s~i~*       |   |
+---------------------------------------------+--------------+---+
|                                             | I            | Q |
+---------------------------------------------+--------------+---+
| (0,0,0,0,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,0,0,0,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,0,0,1,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,0,0,1,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,0,1,0,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,0,1,0,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,0,1,1,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,0,1,1,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,1,0,0,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,1,0,0,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,1,0,1,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,1,0,1,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,1,1,0,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,1,1,0,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,1,1,1,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (0,1,1,1,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,0,0,0,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,0,0,0,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,0,0,1,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,0,0,1,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,0,1,0,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,0,1,0,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,0,1,1,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,0,1,1,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,1,0,0,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,1,0,0,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,1,0,1,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,1,0,1,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,1,1,0,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,1,1,0,1)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,1,1,1,0)                                 |              |   |
+---------------------------------------------+--------------+---+
| (1,1,1,1,1)                                 |              |   |
+---------------------------------------------+--------------+---+

4.3 Start and stop of the burst
-------------------------------

Before the first bit of the bursts as defined in 3GPP TS 45.002 enters
the modulator, the state of the modulator is undefined. Also after the
last bit of the burst, the state of the modulator is undefined. The tail
symbols (see 3GPP TS 45.002) define the start and the stop of the active
and the useful part of the burst as illustrated in figure 4. Nothing is
specified about the actual phase of the modulator output signal outside
the useful part of the burst.

Figure 4: Relation between active part of burst and tail symbols. For
the normal burst the useful part lasts for 147 modulating symbols.

4.4 Symbol rotation
-------------------

The symbols are continuously rotated with φ radians per symbol before
pulse shaping, where φ = π/4 and -π/4 for 16QAM and 32QAM respectively.
The rotated symbols are defined as

4.5 Pulse shaping
-----------------

The modulating symbols ${\hat{s}}_{i}$ as represented by Dirac pulses
excite a linear pulse shaping filter. This filter is the linearised GMSK
pulse as defined in 3.5.

4.6 Modulation
--------------

The modulated RF carrier during the useful part of the burst is:

where *y(t\')* is the base band signal (see 3.5),, *Es* is the energy
per modulating symbol, *f0* is the centre frequency and *ϕ0* is a random
phase and is constant during one burst.

5 Modulation format for QPSK, 16QAM and 32QAM at the higher symbol rate
=======================================================================

5.1 Modulating symbol rate
--------------------------

The modulating symbol rate is the higher symbol rate which is defined as
1/T = 325 ksymb/s, which corresponds to 650 kbit/s for QPSK, to 1300
kbit/s for 16QAM and to 1625 kbit/s for 32QAM. T is the reduced symbol
period (see 3GPP TS 45.010).

5.2 Symbol mapping
------------------

The modulating bits are mapped to symbols according to Table 4 for QPSK,
Table 2 for 16QAM and Table 3 for 32QAM..

Table 4: Mapping between modulating bits and QPSK symbols*.*

+------------------+-------------+---+
| Modulating bits  | QPSK symbol |   |
|                  |             |   |
| *d~2i~, d~2i+1~* | *s~i~*      |   |
+------------------+-------------+---+
|                  | I           | Q |
+------------------+-------------+---+
| (0,0)            |             |   |
+------------------+-------------+---+
| (0,1)            |             |   |
+------------------+-------------+---+
| (1,0)            |             |   |
+------------------+-------------+---+
| (1,1)            |             |   |
+------------------+-------------+---+

5.3 Start and stop of the burst
-------------------------------

Before the first bit of the bursts as defined in 3GPP TS 45.002 enters
the modulator, the state of the modulator is undefined. Also after the
last bit of the burst, the state of the modulator is undefined. The tail
symbols (see 3GPP TS 45.002) define the start and the stop of the active
and the useful part of the burst as illustrated in figure 5. Nothing is
specified about the actual phase of the modulator output signal outside
the useful part of the burst.

Figure 5: Relation between active part of burst and tail symbols. For
the higher symbol rate burst (see 3GPP TS 45.001) the useful part lasts
for 176 modulating symbols.

5.4 Symbol rotation
-------------------

The symbols are continuously rotated with φ radians per symbol before
pulse shaping, where φ = 3π/4, π/4 and -π/4 for QPSK, 16QAM and 32QAM
respectively. The rotated symbols are defined as

5.5 Pulse shaping
-----------------

The modulating symbols ${\hat{s}}_{i}$ as represented by Dirac pulses
excite one of the following linear pulse shaping filters:

\- A spectrally wide pulse shape *c*\'(*t*), where *c*\'(*t*) is the
continuous time representation of a discrete time pulse shape *c~n~* =
*c*\'(*(n-1)T*~s~), which is defined in Annex A, where *T*~s~ is the
sampling period which for the purpose of the pulse shape definition, is
*T*/16, and *n* = 1, 2, \..., 97.

The base band signal is

NOTE: A closed-form expression of *c*\'(*t*) is not available because
the spectrally wide pulse shape was numerically optimised based on a set
of discrete filter coefficients. The continuous time function can be
obtained by:

\- low-pass filtering the discrete time function with a pass-band of 400
kHz and a stop-band beginning at 2600 kHz and;

\- truncating the duration to the time interval \[0, 6T\].

An example for such a low-pass filter is a raised cosine filter with the
impulse response

r(t) = si(2πt•2600 kHz)•cos(2πt•2200 kHz)/(1--(4 t•2200 kHz)²)

with si(x)=sin(x)/x,

resulting in *c*\'(*t*)
=$\sum_{n = 1}^{\text{97}}c_{n}r(t - (n - 1)T_{s})$ for 0 ≤ *t* ≤ 6*T*
and *c*\'(*t*) = 0 for *t* \< 0 or *t* \> 6*T*.

\- A spectrally narrow pulse shape, c~0~(t), which is the linearised
GMSK pulse as defined in subclause 3.5 for the normal symbol period.

NOTE: The linearised GMSK pulse is not scaled to the reduced symbol
period. Hence its duration in terms of the reduced symbol period is 6T.

The base band signal is

The time reference t\' = 0 is the start of the active part of the burst
as shown in figure 3. This is also the start of the symbol period of
symbol number 0 (containing the first tail bit) as defined in 3GPP TS
45.002.

For the uplink, the pulse shape that shall be used when transmitting a
burst is dependent on the parameter \'Pulse format\' that is sent during
assignment (see 3GPP TS 44.060). For the downlink the spectrally narrow
pulse shape shall be used.

5.6 Modulation
--------------

The modulated RF carrier during the useful part of the burst is:

where *Es* is the energy per modulating symbol, *f0* is the centre
frequency and *ϕ0* is a random phase and is constant during one burst.

6 Modulation format for AQPSK
=============================

6.1 Modulating symbol rate
--------------------------

The modulating symbol rate is the normal symbol rate which is defined as
1/T = 1 625/6 ksymb/s (i.e. approximately 270,833 ksymb/s), which
corresponds to 2\*1 625/6 kbit/s (i.e. 541,666 kbit/s). T is the normal
symbol period (see 3GPP TS 45.010).

6.2 Symbol mapping
------------------

The modulating bits are mapped to the quaternary symbols according to
Table 5.

Table 5: Mapping between modulating bits and quaternary symbols*.*

+---------------------+--------------------------------+
| Modulating bits for | AQPSK symbol in polar notation |
|                     |                                |
| *a~i~, b~i~*        | *s~i~*                         |
+---------------------+--------------------------------+
|                     |                                |
+---------------------+--------------------------------+
| (0,0)               |                                |
+---------------------+--------------------------------+
| (0,1)               |                                |
+---------------------+--------------------------------+
| (1,0)               |                                |
+---------------------+--------------------------------+
| (1,1)               |                                |
+---------------------+--------------------------------+

This is illustrated in Figure 5.

![](media/image9.wmf){width="2.432638888888889in"
height="2.770138888888889in"}

Figure 5: Mapping of modulating bits to AQPSK symbols

The ratio of power between the Q and I channels is defined as the
Subchannel Power Imbalance Ratio (SCPIR).

The value of the SCPIR is given by

$\text{SCPIR} = \text{20} \times \text{log}_{\text{10}}\left( \text{tan}\left( \alpha \right) \right)\ \text{dB}$.

The value of $\alpha$shall be chosen such that
$\left| \text{SCPIR} \right| \leq \text{10}\ \text{dB}$.

6.3 Start and stop of the burst
-------------------------------

Before the first bit of the burst as defined in 3GPP TS 45.002 enters
the modulator, the state of the modulator is undefined. Also after the
last bit of the burst, the state of the modulator is undefined. The tail
symbols (see 3GPP TS 45.002) define the start and the stop of the active
and the useful part of the burst as illustrated in Figure 6. Nothing is
specified about the actual phase of the modulator output signal outside
the useful part of the burst.

Figure 6: Relation between active part of burst and tail symbols. For
the normal burst (see 3GPP TS 45.001) the useful part lasts for 147
modulating symbols.

6.4 Symbol rotation
-------------------

The symbols are continuously rotated with φ radians per symbol before
pulse shaping, where φ = π/2. The rotated symbols are defined as

6.5 Pulse shaping
-----------------

The modulating symbols ${\hat{s}}_{i}$ as represented by Dirac pulses
excite the following linear pulse shaping filter:

• c0(t), which is the linearised GMSK pulse as defined in subclause 3.5
for the normal symbol period.

The base band signal is

$y(t') = \sum_{i}^{}{{\hat{s}}_{i} \cdot c_{0}(t' - \text{iT} + 2T)}$

The time reference *t\'* *= 0* is the start of the active part of the
burst as shown in figure 6. This is also the start of the symbol period
of symbol number 0 (containing the first tail bit) as defined in 3GPP TS
45.002.

6.6 Modulation
--------------

The modulated RF carrier during the useful part of the burst is:

where *Es* is the energy per modulating symbol, *f0* is the centre
frequency and *ϕ0* is a random phase and is constant during one burst.

######## Annex A (normative): Tx filter coefficients for the spectrally wide pulse shape

For an oversampling factor of 16, i.e. 5200 ksamples/s, there are 97 Tx
filter coefficients *c*~1~ to *c*~97~ for the spectrally wide pulse
shape. The coefficients are symmetric to *c*~49~, i.e. *c*~49--*k*~ =
*c*~49+*k*~. The coefficients of *c*~1~ to *c*~49~ are listed:

0.00225918460000

0.00419757900000

0.00648420700000

0.00931957020000

0.01259397500000

0.01605878900000

0.01959156100000

0.02292214900000

0.02570190500000

0.02767928100000

0.02852115300000

0.02791904300000

0.02568913000000

0.02166792700000

0.01579963100000

0.00821077000000

-0.00089211394000

-0.01114601700000

-0.02201830600000

-0.03289439200000

-0.04302811700000

-0.05156392200000

-0.05764086800000

-0.06034025400000

-0.05876224400000

-0.05209962100000

-0.03961692000000

-0.02072323500000

0.00496039200000

0.03765364500000

0.07732192300000

0.12369249000000

0.17639444000000

0.23478700000000

0.29768326000000

0.36418213000000

0.43311409000000

0.50316152000000

0.57298225000000

0.64120681000000

0.70645485000000

0.76744762000000

0.82295721000000

0.87187027000000

0.91325439000000

0.94628290000000

0.97030623000000

0.98493838000000

0.99006899000000

######## Annex B (informative): Change history

  ----------- ---------- ---------- --------------- ----------- -----------------------------------------------------------
  **SMG\#**   **SPEC**   **VERS**   **NEW\_VERS**   **PHASE**   **SUBJECT**
  S27         05.04      5.0.1      6.0.0 (Ph.2)    R97         Conversion to Release 97 EN
  S28         05.04      6.0.0      8.0.0           R99         Introduction of 8PSK for EDGE
  S30b        05.04      8.0.0      8.1.0           R99         Correction of mistake for range alpha-sub-i in Clause 2.3
                         8.1.0      8.1.1                       Figure 3 replaced (as it was corrupted)
  G03         05.04      8.1.1      8.2.0           R99         Correction of symbol period notation
  G04         45.004     8.2.0      4.0.0           Rel-4       New version for Release 4
  G05         45.004     4.0.0      4.1.0           Rel-4       Correction of Timing Alignment for GMSK and 8-PSK Signals
  ----------- ---------- ---------- --------------- ----------- -----------------------------------------------------------

  -------------------- ------------ -------------- -------- --------- ----------------------------------------------------------------------- --------- ---------
  **Change history**                                                                                                                                    
  **Date**             **TSG \#**   **TSG Doc.**   **CR**   **Rev**   **Subject/Comment**                                                     **Old**   **New**
  2001-11              07           GP-012359      002                Correction of tail bits for 8PSK normal burst                           4.1.0     4.2.0
  2001-11              07           GP-012372      004                Correction of references to relevant 3GPP TSs                           4.1.0     4.2.0
  2001-11              07           GP-012360      003                Correction of tail bits for 8PSK normal burst                           4.2.0     5.0.0
  2002-06              10           GP-021436      005                Corrections and clean up                                                5.0.0     5.1.0
  2003-09                                                             Correction of wrong Release number in the front page                    5.1.0     5.1.1
                                                                                                                                                        
  2005-01              23                                             Version for Release 6                                                   5.1.1     6.0.0
  2007-08              35           GP-071544      0006     2         Introduction of QPSK, 16QAM and 32QAM for RED HOT and HUGE              6.0.0     7.0.0
  2007-11              36           GP-072015      0008               Spectrally wide pulse shape for HUGE B                                  7.0.0     7.1.0
  2008-02              37           GP-080105      0009               Spectrally wide pulse shape for HUGE B                                  7.1.0     7.2.0
  2008-08              39           GP-081068      0010               Correction of modulating bit rate for 32QAM at the higher symbol rate   7.2.0     7.3.0
  2008-12              40                                             Version for Release 8                                                   7.3.0     8.0.0
  2009-12              44                                             Version for Release 9                                                   8.0.0     9.0.0
  2010-05              46           GP-101048      0017     1         Introduction of VAMOS modulation                                        9.0.0     9.1.0
  2011-03              49                                             Version for Release 10                                                  9.1.0     10.0.0
  2012-09              55                                             Version for Release 11                                                  10.0.0    11.0.0
  2014-09              63                                             Version for Release 12 (frozen at SP-65)                                11.0.0    12.0.0
  2015-12              68                                             Version for Release 13 (frozen at SP-70)                                12.0.0    13.0.0
  2016-02              69           GP-160178      0020     5         Introduction of EC-EGPRS                                                13.0.0    13.1.0
  2016-02              69           GP-160195      0023               Corrections to Overlaid CDMA                                            13.0.0    13.1.0
  -------------------- ------------ -------------- -------- --------- ----------------------------------------------------------------------- --------- ---------

  -------------------- ------------- ----------- -------- --------- --------- ------------------------------------------------------------------------------------ -----------------
  **Change history**                                                                                                                                               
  **Date**             **Meeting**   **TDoc**    **CR**   **Rev**   **Cat**   **Subject/Comment**                                                                  **New version**
  2016-05              70            GP-160286   0024     \-        F         Clarifications and miscellaneous corrections to EC-GSM-IoT (including name change)   13.2.0
  2016-09              73            RP-161392   0025     2         F         Corrections to EC-GSM-IoT                                                            13.3.0
  2016-12              74            RP-162070   0026     1         F         Correction to Overlaid CDMA realisation                                              13.4.0
  2017-03              75                                                     Release 14 version (frozen at TSG-75)                                                14.0.0
  2017-06              76            RP-170924   0027     2         B         Introduction of ESAB                                                                 14.1.0
  2018-06              80                                                     Release 15 version (frozen at TSG-80)                                                15.0.0
  2019-03              83            RP-190061   0028     \-        F         Correction to Overlaid CDMA requirements for EC-GSM-IoT                              16.0.0
  -------------------- ------------- ----------- -------- --------- --------- ------------------------------------------------------------------------------------ -----------------
