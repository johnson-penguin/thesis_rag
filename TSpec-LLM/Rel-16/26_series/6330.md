+--------+--------+--------+---+--------+-------+--------+--------+---+
|        |        |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
| **CAN  |        |        |   |        |       |        |        |   |
| DIDATE |        |        |   |        |       |        |        |   |
| CHANGE |        |        |   |        |       |        |        |   |
| REQ    |        |        |   |        |       |        |        |   |
| UEST** |        |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
|        |        |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
|       | **26   | **CR** |   |       | **-** |       | **11   |  |
|        | .346** |        |   | *      |       | C      | .3.0** |   |
|        |        |        |   | *rev** |       | urrent |        |   |
|        |        |        |   |        |       | ve     |        |   |
|        |        |        |   |        |       | rsion: |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
|        |        |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
|        |        |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
| ***Tit | 6330   |        |   |        |       |        |        |   |
| le:*** | code   |        |   |        |       |        |        |   |
|       | as     |        |   |        |       |        |        |   |
|        | MBMS   |        |   |        |       |        |        |   |
|        | Appli  |        |   |        |       |        |        |   |
|        | cation |        |   |        |       |        |        |   |
|        | Layer  |        |   |        |       |        |        |   |
|        | FEC    |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
|        |        |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
|        |        |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
| ***C   | > 2,   |        |   |        |       |        |        |   |
| lauses | >      |        |   |        |       |        |        |   |
| affect | 7.2.2, |        |   |        |       |        |        |   |
| ed:*** | >      |        |   |        |       |        |        |   |
|       | 7.2.3, |        |   |        |       |        |        |   |
|        | >      |        |   |        |       |        |        |   |
|        | 7.2.7, |        |   |        |       |        |        |   |
|        | > 7.2  |        |   |        |       |        |        |   |
|        | .10.4, |        |   |        |       |        |        |   |
|        | > 7.2  |        |   |        |       |        |        |   |
|        | .12.1, |        |   |        |       |        |        |   |
|        | > 7.   |        |   |        |       |        |        |   |
|        | 3.2.8, |        |   |        |       |        |        |   |
|        | >      |        |   |        |       |        |        |   |
|        | 7.3.3, |        |   |        |       |        |        |   |
|        | > 8.   |        |   |        |       |        |        |   |
|        | 2.2.0, |        |   |        |       |        |        |   |
|        | > 8.2. |        |   |        |       |        |        |   |
|        | 2.10a, |        |   |        |       |        |        |   |
|        | > 8.2  |        |   |        |       |        |        |   |
|        | .2.15, |        |   |        |       |        |        |   |
|        | > 8.   |        |   |        |       |        |        |   |
|        | 2.2.16 |        |   |        |       |        |        |   |
|        | >      |        |   |        |       |        |        |   |
|        | (new), |        |   |        |       |        |        |   |
|        | >      |        |   |        |       |        |        |   |
|        |  Annex |        |   |        |       |        |        |   |
|        | > B    |        |   |        |       |        |        |   |
|        | >      |        |   |        |       |        |        |   |
|        | (void) |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+
|        |        |        |   |        |       |        |        |   |
+--------+--------+--------+---+--------+-------+--------+--------+---+

  ------------------
  **First Change**
  ------------------

2 References
============

The following documents contain provisions which, through reference in
this text, constitute provisions of the present document.

-   References are either specific (identified by date of publication,
    > edition number, version number, etc.) or non‑specific.

-   For a specific reference, subsequent revisions do not apply.

-   For a non-specific reference, the latest version applies. In the
    > case of a reference to a 3GPP document (including a GSM document),
    > a non-specific reference implicitly refers to the latest version
    > of that document *in the same Release as the present document*.

\[1\] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".

\[2\] 3GPP TS 22.146: \"Multimedia Broadcast/Multicast Service; Stage
1\".

\[3\] 3GPP TS 22.246: \"Multimedia Broadcast/Multicast Service (MBMS)
user services; Stage 1\".

\[4\] 3GPP TS 23.246: \"Multimedia Broadcast/Multicast Service (MBMS);
Architecture and functional description\".

\[5\] 3GPP TS 25.346: \"Introduction of Multimedia Broadcast/Multicast
Service (MBMS) in the Radio Access Network (RAN); Stage 2\".

\[6\] IETF STD 0064/RFC 3550 (July 2003): \"RTP: A Transport Protocol
for Real-Time Applications\", H. Schulzrinne, S. Casner, R. Frederick,
V. Jacobson.

\[7\] IETF STD 0006/RFC 0768 (August 1980): \"User Datagram Protocol\",
J. Postel.

\[8\] IETF STD 0005/RFC 0791 (September 1981): \"Internet Protocol\", J.
Postel.

\[9\] IETF RFC 3926 (October 2004): \"FLUTE - File Delivery over
Unidirectional Transport\", T. Paila, M. Luby, R. Lehtonen, V. Roca, R.
Walsh.

\[10\] IETF RFC 3450 (December 2002): \"Asynchronous Layered Coding
(ALC) Protocol Instantiation\", M. Luby, J. Gemmell, L. Vicisano, L.
Rizzo, J. Crowcroft.

\[11\] IETF RFC 3451 (December 2002): \"Layered Coding Transport (LCT)
Building Block\", M. Luby, J. Gemmell, L. Vicisano, L. Rizzo, M.
Handley, J. Crowcroft.

\[12\] IETF RFC 5052 (August 2007): \"Forward Error Correction (FEC)
Building Block\", M. Luby, M. Watson, L. Vicisano.

\[13\] IETF RFC 3695 (February 2004): \"Compact Forward Error Correction
(FEC) Schemes\", M. Luby, L. Vicisano.

\[14\] IETF RFC 4566 (July 2006): \"SDP: Session Description Protocol\",
M. Handley, V. Jacobson and C. Perkins.

\[15\] IETF RFC 4570 (July 2006): \"Session Description Protocol (SDP)
Source Filters\", B. Quinn, R. Finlayson.

\[16\] Void.

\[17\] IETF RFC 3048 (January 2001): \"Reliable Multicast Transport
Building Blocks for One-to-Many Bulk-Data Transfer\", B. Whetten, L.
Vicisano, R. Kermode, M. Handley, S. Floyd, M. Luby.

\[18\] IETF RFC 2616 (June 1999): \"Hypertext Transfer Protocol \--
HTTP/1.1\".

\[19\] IETF STD 0066/RFC 3986 (January 2005): \"Uniform Resource
Identifier (URI)\".

\[20\] 3GPP TS 33.246: \"3G Security; Security of Multimedia
Broadcast/Multicast Service (MBMS)\".

\[21\] OMG: \"Unified Modeling Language (UML), version 1.5\"
(formal/03-03-01).

\[22\] W3C Recommendation 28 October 2004: \"XML Schema Part 2:
Datatypes Second Edition\".

\[23\] IETF RFC 5234 (January 2008): \"Augmented BNF for Syntax
Specifications: ABNF\", D. Crocker and P. Overell.

\[24\] 3GPP TS 26.290: \"Audio codec processing functions; Extended
Adaptive Multi-Rate - Wideband (AMR-WB+) codec; Transcoding functions\".

\[25\] 3GPP TS 26.304: \"Floating-point ANSI-C code for the Extended
Adaptive Multi-Rate - Wideband (AMR-WB+) codec\".

\[26\] 3GPP TS 26.273: \"Speech codec speech processing functions;
Extended Adaptive Multi-Rate - Wideband (AMR-WB+) speech codec;
Fixed-point ANSI-C code\".

\[27\] Void.

\[28\] 3GPP TS 26.401: \"General audio codec audio processing functions;
Enhanced aacPlus general audio codec; General description\".

\[29\] 3GPP TS 26.410: \"General audio codec audio processing functions;
Enhanced aacPlus general audio codec; Floating-point ANSI-C code\".

\[30\] 3GPP TS 26.411: \"General audio codec audio processing functions;
Enhanced aacPlus general audio codec; Fixed-point ANSI-C code\".

\[31\] W3C Recommendation 04 February 2004: \"Extensible Markup Language
(XML) 1.1\", T. Bray, J. Paoli, C. Sperberg-McQueen, E. Maler, F.
Yergeau and J. Cowan.

\[32\] 3GPP TS 26.244: \"Transparent end-to-end streaming service; 3GPP
file format (3GP)\".

\[33\] IETF RFC 4867 (April 2007): \"RTP Payload Format and File Storage
Format for the Adaptive Multi-Rate (AMR) and Adaptive Multi-Rate
Wideband (AMR-WB) Audio Codecs\", J. Sjoberg, M. Westerlund, A.
Lakaniemi, Q. Xie.

\[34\] IETF RFC 4352 (January 2006): \"RTP Payload Format for the
Extended Adaptive Multi-Rate Wideband (AMR-WB+) Audio Codec\", Sjoberg
J. et al.

\[35\] IETF RFC 6184 (2011): \"RTP Payload Format for H.264 Video\",
Y.-K. Wang, R. Even, T. Kristensen, R. Jesup.

\[36\] Void.

\[37\] IETF RFC 2557 (March 1999): \"MIME Encapsulation of Aggregate
Documents, such as HTML (MHTML)\", J. Palme, A. Hopmann, N. Shelness.

\[38\] IETF RFC 3890 (September 2004): \"A Transport Independent
Bandwidth Modifier for the Session Description Protocol (SDP)\", M.
Westerlund.

\[39\] IETF RFC 3556 (July 2003): \"Session Description Protocol (SDP)
Bandwidth Modifiers for RTP Control Protocol (RTCP) Bandwidth\", S.
Casner.

\[40\] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification;
Core network protocols; Stage 3\".

\[41\] IETF RFC 3640 (November 2003): \"RTP Payload Format for Transport
of MPEG-4 Elementary Streams\", J. van der Meer, D. Mackie, V.
Swaminathan, D. Singer, P. Gentric.

\[42\] IETF RFC 1952 (May 1996): \"GZIP file format specification
version 4.3\", P. Deutsch.

\[43\] ITU-T Recommendation H.264 (01/2012): \"Advanced video coding for
generic audiovisual services\" \| ISO/IEC 14496-10:2010: \"Information
technology - Coding of audio-visual objects - Part 10: Advanced Video
Coding\".

\[44\] Void.

\[45\] ITU-T Recommendation H.263 (1998): \"Video coding for low bit
rate communication\".

\[46\] ITU-T Recommendation H.263 - Annex X (04/01): \"Annex X: Profiles
and levels definition\".

\[47\] 3GPP TS 26.234: \"Transparent end-to-end streaming service;
Protocols and codecs\".

\[48\] 3GPP TS 26.071: \"AMR speech codec; General description\".

\[49\] 3GPP TS 26.090: \"AMR speech codec; Transcoding functions\".

\[50\] 3GPP TS 26.073: \"AMR speech Codec; C-source code\".

\[51\] 3GPP TS 26.104: \"ANSI-C code for the floating-point Adaptive
Multi-Rate (AMR) speech codec\".

\[52\] 3GPP TS 26.171: \"AMR speech codec, wideband; General
description\".

\[53\] 3GPP TS 26.190: \"Mandatory Speech Codec speech processing
functions AMR Wideband speech codec; Transcoding functions\".

\[54\] 3GPP TS 26.173: \"ANCI-C code for the Adaptive Multi Rate -
Wideband (AMR-WB) speech codec\".

\[55\] 3GPP TS 26.204: \"ANSI-C code for the floating-point Adaptive
Multi-Rate Wideband (AMR‑WB) speech codec\".

\[56\] Scalable Polyphony MIDI Specification Version 1.0, RP-34, MIDI
Manufacturers Association, Los Angeles, CA, February 2002.

\[57\] Scalable Polyphony MIDI Device 5-to-24 Note Profile for 3GPP
Version 1.0, RP-35, MIDI Manufacturers Association, Los Angeles, CA,
February 2002.

\[58\] \"Standard MIDI Files 1.0\", RP-001, in \"The Complete MIDI 1.0
Detailed Specification, Document Version 96.1\", The MIDI Manufacturers
Association, Los Angeles, CA, USA, February 1996.

\[59\] Mobile DLS, MMA specification v1.0, RP-41 Los Angeles, CA, USA.
2004.

\[60\] Mobile XMF Content Format Specification, MMA specification v1.0,
RP-42, Los Angeles, CA, USA. 2004.

\[61\] ITU-T Recommendation T.81 (1992) \| ISO/IEC 10918-1:1993:
\"Information technology - Digital compression and coding of
continuous-tone still images - Requirements and guidelines\".

\[62\] C-Cube Microsystems (September 1992): \"JPEG File Interchange
Format\", Version 1.02.

\[63\] CompuServe Incorporated (1987): \"GIF Graphics Interchange
Format: A Standard defining a mechanism for the storage and transmission
of raster-based graphics information\", Columbus, OH, USA. See at
<http://www.dcs.ed.ac.uk/home/mxr/gfx/2d/GIF87a.txt>.

\[64\] CompuServe Incorporated (1990): \"Graphics Interchange Format:
Version 89a\", Columbus, OH, USA.

\[65\] IETF RFC 2083 (March 1997): \"PNG (Portable Networks Graphics)
Specification Version 1.0\", T. Boutell.

\[66\] **W3C Working Draft 27 October 2004: \"**Scalable Vector Graphics
(SVG) 1.2\", <http://www.w3.org/TR/2004/WD-SVG12-20041027/>.

\[67\] W3C Working Draft 13 August 2004: \"Mobile SVG Profile: SVG Tiny,
Version 1.2\", <http://www.w3.org/TR/2004/WD-SVGMobile12-20040813/>.

\[68\] Standard ECMA-327 (June 2001): \"ECMAScript 3rd Edition Compact
Profile\".

\[69\] WAP Forum Specification (Octobeer 2001): \"XHTML Mobile
Profile\",
<http://www.openmobilealliance.org/tech/affiliates/wap/wap-277-xhtmlmp-20011029-a.pdf>.

\[70\] ISO/IEC 10646-1 (2000): \"Information technology - Universal
Multiple-Octet Coded Character Set (UCS) - Part 1: Architecture and
Basic Multilingual Plane\".

\[71\] The Unicode Consortium: \"The Unicode Standard\", Version 3.0
Reading, MA, Addison-Wesley Developers Press, 2000, ISBN 0-201-61633-5.

\[72\] 3GPP TS 26.245: \"Transparent end-to-end Packet switched
Streaming Service (PSS); Timed text format\".

\[73\] IETF RFC 4646: \"**Tags for the Identification of Languages**\".

\[74\] ISO 639: \"Codes for the representation of names of languages\".

\[75\] ISO 3166: "*Codes for the representation of names of countries
and their subdivisions*".

\[76\] Void.

\[77\] 3GPP TS 23.003: "Numbering, addressing and identification"

\[78\] IETF RFC 1305 (March 1992): \"Network Time Protocol (Version 3)
Specification, Implementation\".

\[79\] OMA Push OTA Protocol (25-April-2001): WAP-235-PushOTA-20010425-a

<http://www.openmobilealliance.org/tech/affiliates/LicenseAgreement.asp?DocName=/wap/wap-235-pushota-20010425-a.pdf>

\[80\] IETF RFC 3711 (March 2004): \"The Secure Real-time Transport
Protocol (SRTP)\", M. Baugher, D. McGrew, M. Naslund, E. Carrara, K.
Norrman.

\[81\] IETF STD065/RFC 3551: \"RTP Profile for Audio and Video
Conferences with Minimal Control\", Schulzrinne H. and Casner S., July
2003.

\[82\] IETF RFC 4648: \"The Base16, Base32, and Base64 Data Encodings\",
Josefsson S., Ed., October 2006.

\[83\] IETF RFC 3023: \"XML Media Types\", M. Murata, S. St.Laurent, D.
Kohn, January 2001.

\[84\] IETF RFC 2030: \"Simple Network Time Protocol (SNTP) Version 4
for IPv4, IPv6 and OSI\", D. Mills, October 1996.

\[85\] OMA OMNA Registered PUSH Application ID list

<http://www.openmobilealliance.org/tech/omna/omna-push-app-id.htm>

\[86\] 3GPP TR 26.936: "Performance characterization of 3GPP audio
codecs".

\[87\] 3GPP TS 25.413: \"UTRAN Iu interface Radio Access Network
Application Part (RANAP) signalling\".

\[88\] IETF RFC 2326: \"Real Time Streaming Protocol (RTSP)\",
Schulzrinne H., Rao A. and Lanphier R., April 1998.

\[89\] 3GPP TS 26.142: \"Dynamic and Interactive Multimedia Scene\".

\[90\] \"Service Guide for Mobile Broadcast Services\", Open Mobile
Alliance, OMA-TS-BCAST\_ServiceGuide-V1\_0, Candidate Version 1.0 -- 29
May 2007.

\[91\] (void)

\[92\] IETF RFC 5285: \"A General Mechanism for RTP Header Extensions\",
D. Singer, H. Desineni, July 2008.

\[93\] IETF RFC 4396: \"RTP Payload Format for 3rd Generation
Partnership Project (3GPP) Timed Text\", Rey J. and Matsui Y., February
2006.

\[94\] OMA-ERELD-DM-V1\_2-20070209-A: \"Enabler Release Definition for
OMA Device Management, Approved Version 1.2\".

\[95\] 3GPP TS 26.430: \"Timed Graphics\".

\[96\] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access
(E-UTRA) and Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); Overall description; Stage 2\".

\[97\] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access
(E-UTRA); Radio Resource Control (RRC); Protocol specification\".

\[98\] 3GPP TS 26.247: \"Transparent end-to-end Packet-switched
Streaming Service (PSS); Progressive Download and Dynamic Adaptive
Streaming over HTTP (3GP-DASH)\".

\[99\] 3GPP TS 29.061: \" Interworking between the Public Land Mobile
Network (PLMN) supporting packet based services and Packet Data Networks
(PDN)\".

\[100\] IETF RFC 6064: \"SDP and RTSP Extensions Defined for 3GPP
Packet-Switched Streaming Service and Multimedia Broadcast/Multicast
Service\", M. Westerlund, P. Frojdh, January 2011.

\[101\] void

\[102\] void

\[103\] void

\[104\] 3GPP TS 36.443: "Evolved Universal Terrestrial Radio Access
Network (E-UTRAN); M2 Application Protocol (M2AP)".

\[105\] 3GPP TS 36.101: \"Evolved Universal Terrestrial Radio Access
(E-UTRA); User Equipment (UE) radio transmission and reception\".

\[106\] IETF RFC6681, \"Raptor FEC Schemes for FECFRAME,\" M.Watson, T.
Stockhammer and M. Luby, August 2012.

\[107\] IETF RFC6363, \"Forward Error Correction (FEC) Framework,\"
M.Watson, A. Begen and V. Roca, October 2011.

\[108\] 3GPP TS 36.304: \"User Equipment (UE) procedures in idle mode\".

\[X1\] IETF RFC6330, \"RaptorQ Forward Error Correction Scheme for
Object Delivery,\" M. Luby, A. Shokrollahi, M.Watson, T. Stockhammer and
L. Minder, August 2011.

  -------------------------
  **End of First Change**
  -------------------------

  -------------------
  **Second Change**
  -------------------

### 7.2.2 Symbol Encoding Algorithm

The \"Compact No-Code FEC scheme\" - \[12\] (FEC Encoding ID 0, also
known as \"Null-FEC\") shall be supported.

A UE that supports MBMS User Services shall support a compliant decoder
for FEC Encoding ID 6 as defined in IETF RFC 6330 \[X1\]. The compliant
decoder is defined in clause 5.8 of IETF RFC 6330 \[X1\].

Note that the example decoder described in clause 5.4 of IETF RFC 6330
\[X1\] fulfils this requirement.

  --------------------------
  **End of Second Change**
  --------------------------

  ------------------
  **Third Change**
  ------------------

### 7.2.3 Blocking Algorithm

In the case of the Compact No-Code FEC scheme \[12\] (FEC Encoding ID
0), then the \"Algorithm for Computing Source Block Structure\"
described within the FLUTE specification (RFC 3926 \[9\]) shall be used.

In the case of FEC Encoding ID 6 as defined in IETF RFC 6330 \[X1\],
then the algorithm defined in \[X1\] shall be used.

Clause 4.3 of IETF RFC6330 \[X1\] provides recommendations for the
derivation of the three transport parameters, *T*, *Z* and *N*. The
values of *N*, *Z*, *T* and *Al* should be set such that the sub-block
size, *WS,* as at least 256 kByte and is at most 16 MByte. The
recommended value for *Al* is 8 and for SS is 2.

  -------------------------
  **End of Third Change**
  -------------------------

  -------------------
  **Fourth Change**
  -------------------

### 7.2.7 Signalling of Parameters with Basic ALC/FLUTE Headers 

FLUTE and ALC mandatory header fields shall be as specified in \[9, 10\]
with the following additional specializations:

1.  The length of the CCI (Congestion Control Identifier) field shall be
    32 bits and it is assigned a value of zero (C=0).

2.  The Transmission Session Identifier (TSI) field shall be of length
    16 bits (S=0, H=1, 16 bits).

3.  The Transport Object Identifier (TOI) field should be of length 16
    bits (O=0, H=1).

4.  Only Transport Object Identifier (TOI) 0 (zero) shall be used for
    FDT Instances.

5.  The following features may be used for signalling the end of session
    and end of object transmission to the receiver:

\- The Close Session flag (A) for indicating the end of a session.

\- The Close Object flag (B) for indicating the end of an object.

In FLUTE the following applies:

6.  The Sender Current Time present flag (T) shall be set to zero.

7.  The Expected Residual Time present flag (R) shall be set to zero.

8.  The LCT header length (HDR\_LEN) shall be set to the total length of
    the LCT header in units of 32-bit words.

9.  For \"Compact No-Code FEC scheme\" \[12\], the FEC Payload ID shall
    be set according to RFC 3695 \[13\] such that a 16 bit SBN (Source
    Block Number) and then the 16 bit ESI (Encoding Symbol ID) are
    given.

10. For FEC Encoding ID 6 "", the FEC Payload ID shall be set according
    to Section 3.3 of IETF RFC 6330 \[X1\]. .

  --------------------------
  **End of Fourth Change**
  --------------------------

  ------------------
  **Fifth Change**
  ------------------

#### 7.2.10.4 Example of FDT

\<?xml version=\"1.0\" encoding=\"UTF-8\"?\>

\<FDT-Instance

xmlns=\"urn:IETF:metadata:2005:FLUTE:FDT\"

xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"

xmlns:mbms2007=\"urn:3GPP:metadata:2007:MBMS:FLUTE:FDT\"

xmlns:mbms2008=\"urn:3GPP:metadata:2008:MBMS:FLUTE:FDT\_ext\"

xmlns:mbms2009=\"urn:3GPP:metadata:2009:MBMS:FLUTE:FDT\_ext\"
xmlns:sv=\"urn:3gpp:metadata:2009:MBMS:schemaVersion\"

xsi:schemaLocation=\"urn:IETF:metadata:2005:FLUTE:FDT
FLUTE-FDT-3GPP-Main.xsd\"

FEC-OTI-FEC-Encoding-ID=\"6\"

Complete=\"true\"

Content-Encoding=\"gzip\"

FEC-OTI-Encoding-Symbol-Length=\"512\"

Expires=\"331129600\"\>

mbms2008:FullFDT=\"true\"\>

\<File

Content-Type=\"application/sdp\"

Content-Length=\"7543\"

Transfer-Length=\"4294\"

TOI=\"2\"

FEC-OTI-Encoding-Symbol-Length=\"16\"

FEC-OTI-Scheme-Specific-Info=\"AAEBBA==\"

Content-Location=\"http://www.example.com/fancy-session/main.sdp\"

mbms2009:Decryption-KEY-URI=\"http://www.example.com/key-uri\"\>

\<mbms2007:Cache-Control\>

\<mbms2007:Expires\>30\</mbms2007:Expires\>

\</mbms2007:Cache-Control\>

\<sv:delimiter\>0\</sv:delimiter\>

\<sv:delimiter\>0\</sv:delimiter\>
\<MBMS-Session-Identity\>93\</MBMS-Session-Identity\>

\</File\>

\<File

Content-Type=\"String\"

Content-Length=\"161934\"

Transfer-Length=\"157821\"

TOI=\"3\"

FEC-OTI-Encoding-Symbol-Length=\"512\"

Content-Location=\"http://www.example.com/fancy-session/trailer.3gp\"\>

\<sv:delimiter\>0\</sv:delimiter\>

\<sv:delimiter\>0\</sv:delimiter\>

\<MBMS-Session-Identity\>93\</MBMS-Session-Identity\>

\</File\>

\<sv:schemaVersion\>2\</sv:schemaVersion\>

\<sv:delimiter\>0\</sv:delimiter\>

\<MBMS-Session-Identity-Expiry
value=\"3311288760\"\>93\</MBMS-Session-Identity-Expiry\>

\</FDT-Instance\>

  -------------------------
  **End of Fifth Change**
  -------------------------

  ------------------
  **Sixth Change**
  ------------------

#### 7.2.12.1 General

This clause defines an FEC encoding scheme for the MBMS forward error
correction code defined in \[X1\] for the download delivery method. This
scheme is identified by FEC Encoding ID 6. The FEC Payload ID format and
FEC Object Transmission Information format are as defined in \[X1\],
sub-clauses 3.2 and 3.3 respectively.

  -------------------------
  **End of Sixth Change**
  -------------------------

  --------------------
  **Seventh Change**
  --------------------

#### 7.3.2.8 FEC capabilities and related parameters

A new FEC-declaration attribute is defined which results in, e.g.:

1.  a=FEC-declaration:0 encoding-id=6

This attribute may be used on both session-level and media-level.
Multiple instances are allowed to specify several different FEC
declarations. The attribute is used on session level to define FEC
declarations used by multiple media components. On media level it is
used to define FEC declarations which are only valid for a single media
component. If FEC declarations on both session and media level use the
same reference number (fec-ref) then the media level declaration takes
precedence for that media component. Each media component references one
FEC declaration using the "a=FEC" attribute.

This attribute is optional to use for the download delivery method as
the information will be available elsewhere (e.g. FLUTE FDT Instances).
If this attribute is not used, and no other FEC-OTI information is
signalled to the UE by other means, the UE may assume that support for
FEC id 0 is sufficient capability to enter the session.

A new FEC-declaration reference attribute is defined which results in,
e.g.:

2.  a=FEC:0

This is a media-level only attribute, used as a short hand to reference
one of one or more FEC-declarations.

The syntax for the attributes in ABNF \[23\] is:

fec-declaration-line = \"a=FEC-declaration:\" fec-ref SP fec-enc-id
\[\";\" SP fec-inst-id\] CRLF

fec-ref = 1\*3DIGIT ; value is the SDP-internal identifier for
FEC-declaration.

fec-enc-id = \"encoding-id=\" enc-id

enc-id = 1\*DIGIT ; value is the FEC encoding ID used

fec-inst-id = \"instance-id=\" inst-id

inst-id = 1\*DIGIT ; value is the FEC Instance ID used.

fec-line = \"a=FEC:\" fec-ref CRLF

  ---------------------------
  **End of Seventh Change**
  ---------------------------

  -------------------
  **Eighth Change**
  -------------------

### 7.3.3 SDP Examples for FLUTE Session

Here is a full example of SDP description describing a FLUTE session:

*v=0*

*o=user123 2890844526 2890842807 IN IP6 2201:056D::112E:144A:1E24*

*s=File delivery session example*

*i=More information*

*t=2873397496 2873404696*

*a=mbms-mode:broadcast* 123869108302929 *1*

*a=FEC-declaration:0 encoding-id=6*

*a=source-filter: incl IN IP6 \* 2001:210:1:2:240:96FF:FE25:8EC9*

*a=flute-tsi:3*

*m=application 12345 FLUTE/UDP 0*

*c=IN IP6 FF1E:03AD::7F2E:172A:1E24/1*

*b=64*

*a=lang:EN*

*a=FEC:0*

  --------------------------
  **End of Eighth Change**
  --------------------------

  -------------------
  **Nineth Change**
  -------------------

#### 8.2.2.0 Overview

The "MBMS FEC scheme" shall be the fully-specified FEC scheme defined in
\[106\], section 6 with ID 2.

The source flows for the MBMS FEC scheme are UDP flows including RTP,
RTCP, SRTP and MIKEY packets. The payload of such UDP packets constitute
an Application Data Unit (ADU) as defined in RFC6363 \[107\]. The source
data flow with which the ADUs are associated is the UDP flow identity of
the corresponding UDP flow.

A UE that supports MBMS User Services shall support a decoder for the
"MBMS FEC scheme". The use of MBMS FEC by the sender is recommended, but
it is permitted not to use it. In the case where the FEC is not used by
the sender, the FEC Layer should not be used (i.e. RTP is mapped onto
UDP directly).

The mechanism does not place any restrictions on the source data which
can be protected together, except that the source data is carried over
UDP. The data may be from several different UDP flows that are protected
jointly.

A UE supporting the streaming delivery method shall support the packet
format for FEC packets..

If any FEC source packets have been lost, but sufficient FEC source and
FEC repair packets have been received, FEC decoding can be performed to
recover the FEC source block. The original packets UDP payload and UDP
flow identity can then be extracted from the source block and provided
to the upper layer. If not enough FEC source and repair packets were
received, only the original packets that were received as FEC source
packets will be available. The rest of the original packets are lost.

A UE that supports MBMS User Services shall support a compliant decoder
for FEC Encoding ID 6 as defined in IETF RFC 6330 \[X1\]. The compliant
decoder is defined in clause 5.8 of IETF RFC 6330 \[X1\].

Note that the receiver must be able to buffer all the original packets
and allow time for the FEC repair packets to arrive and FEC decoding to
be performed before media playout begins. The min-buffer-time parameter
specified in sub-clause 8.3.1.8 helps the receiver to determine a
sufficient duration for initial start-up delay.

The protocol architecture is illustrated in figure 11.

Figure 11: FEC mechanism for the streaming delivery method interaction
diagram

Figure 11 depicts how one or more out of several possible packet flows
of different types (Audio, video, DIMS, text RTP and RTCP flows, MIKEY
flow) are sent to the FEC layer for protection. The source packets are
modified to carry the FEC payload ID and a new flow with repair data is
generated. The receiver takes the source and repair packets and buffers
them to perform, if necessary, the FEC decoding. After appropriate
buffering received and recovered source packets are forwarded to the
higher layers. The arrows in the figure indicate distinct data flows.

  --------------------------
  **End of Nineth Change**
  --------------------------

  -------------------
  **Ten-th Change**
  -------------------

#### 8.2.2.10a FEC Object Transmission information

The FEC Object Transmission information consists of:

-   the maximum source block length, in symbols

-   the symbol size, in bytes

The FEC Object Transmission information shall be the FEC Scheme Specific
Information in section 6.2.1.2 of RFC6681 \[106\].

The Source Block Length signalled within the Repair FEC Payload ID of
any packet of a stream shall not exceed the Maximum Source Block Length
signalled within the FEC Object Transmission Information for the stream.

The FEC Object Transmission Information shall be communicated as
described in sub-clause 8.2.2.14. Note, the FEC Object Transmission
Information is only communicated in SDP.

  --------------------------
  **End of Ten-th Change**
  --------------------------

  ---------------------
  **Eleventh Change**
  ---------------------

#### 8.2.2.15 Signalling example for FEC

This sub-clause contains a complete signalling example for a MBMS
multicast mode session using FEC with a Service description, a SDP for
the streaming delivery method, a SDP for the FEC repair stream, and a
security description.

The following is an example bundleDescription.

> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<bundleDescription\
> xmlns=\"urn:3GPP:metadata:2005:MBMS:userServiceDescription\"\
> xmlns:xsi=\"<http://www.w3.org/2001/XMLSchema-instance>\"
>
> fecDescriptionURI=\"http://www.example.com/3gpp/mbms/session1-fec.sdp\"\>
>
> \<userServiceDescription
>
> serviceId=\"urn:3gpp:0010120123hotdog\"\>\
> \<deliveryMethod\
> sessionDescriptionURI=\"<http://www.example.com/3gpp/mbms/session1.sdp>\"
>
> protectionDescriptionURI=\"http://www.example.com/3gpp/mbms/sec-descript\"/\>
>
> \</userServiceDescription\>
>
> \</bundleDescription\>

The security description has the URI:
<http://www.example.com/3gpp/mbms/sec-descript>

> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<securityDescription
>
> xmlns=\"urn:3GPP:metadata:2005:MBMS:securityDescription\"
>
> xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"
>
> confidentialityProtection=\"true\"
>
> integrityProtection=\"true\"
>
> uiccKeyManagement=\"true\"
>
> \<keyManagement
>
> waitTime=\"5\"
>
> maxBackOff=\"10\"\>
>
> \<serverURI\>http://register.example.com/\</serverURI\>
>
> \<serverURI\>http://register2.example.com/\</serverURI\>
>
> \</keyManagement\>
>
> \<keyId\>
>
> \<mediaFlow flowID=\"FF1E:03AD::7F2E:172A:1E24/4002\"\>
>
> \<MSK\>
>
> \<keyDomainID\>aMoM\</keyDomainID\>
>
> \<MSKID\>aMoAAA==\</MSKID\>
>
> \</MSK\>
>
> \</mediaFlow\>
>
> \<mediaFlow flowID=\"FF1E:03AD::7F2E:172A:1E24/4004\"\>
>
> \<MSK\>
>
> \<keyDomainID\>GM8M\</keyDomainID\>
>
> \<MSKID\>aMkAAA==\</MSKID\>
>
> \</MSK\>
>
> \</mediaFlow\>
>
> \</keyId\>
>
> \<fecProtection
>
> fecEncodingId=\"2\"
>
> fecOtiExtension=\"ACAEAA==\"/\>

\</securityDescription\>

An example of how the SDP
<http://www.example.com/3gpp/mbms/session1.sdp> could look for a session
containing two media streams that are FEC protected. In this example we
have assumed an audiovisual stream, using 56 kbps for video and 12 kbps
for audio. In addition another 300 bits/second of RTCP packets from the
source is used for the each of the sessions. Hence, the total media
session bandwidth is 56+12+0.3+0.3 = 68.6 kbps.

v=0\
o=ghost 2890844526 2890842807 IN IP6 *2001:210:1:2:240:96FF:FE25:8EC9*\
s=3GPP MBMS Streaming SDP Example\
i=Example of MBMS streaming SDP file\
u=http://www.infoserver.example.com/ae600\
e=ghost\@mailserver.example.com\
c=IN IP6 FF1E:03AD::7F2E:172A:1E24\
t=3034423619 3042462419

b=AS:62

b=TIAS: 60500

a=maxprate: 25

a=source-filter: incl IN IP6 \* 2001:210:1:2:240:96FF:FE25:8EC9

a=FEC-declaration:0 encoding-id=2

m=video 4002 UDP/MBMS-FEC/RTP/AVP 96

b=TIAS:55000

b=RR:0

b=RS:300

a=rtpmap:96 H263-2000/90000\
a=fmtp:96 profile=3;level=10\
a=framesize:96 176-144

a=FEC:0

a=maxprate:15

m=audio 4004 UDP/MBMS-FEC/RTP/AVP 98

b=TIAS: 11500

b=RR:0

b=RS:300

a=rtpmap:98 AMR/8000

a=fmtp:98 octet-align=1

a=FEC:0

a=maxprate:10

The FEC stream used to protect the above RTP sessions and a MIKEY key
stream has the below SDP
(http://www.example.com/3gpp/mbms/session1-fec.sdp):

v=0\
o=ghost 2890844526 2890842807 IN IP6 *2001:210:1:2:240:96FF:FE25:8EC9*\
s=3GPP MBMS Streaming FEC SDP Example\
i=Example of MBMS streaming SDP file\
u=http://www.infoserver.example.com/ae600\
e=ghost\@mailserver.example.com\
c=IN IP6 FF1E:03AD::7F2E:172A:1E24\
t=3034423619 3042462419

b=AS:15

a=FEC-declaration:0 encoding-id=2

a=FEC-OTI-extension:0 ACAEAA==

a=mbms-repair: 0 min-buffer-time=2600

*a=source-filter: incl IN IP6 \* 2001:210:1:2:240:96FF:FE25:8EC9*

m=application 4006 UDP/MBMS-REPAIR \*

b=AS:15

a=FEC:0

a=mbms-flowid: 1=FF1E:03AD::7F2E:172A:1E24/4002,
2=FF1E:03AD::7F2E:172A:1E24/4003, 3=FF1E:03AD::7F2E:172A:1E24/4004,
4=FF1E:03AD::7F2E:172A:1E24/4005, 5=FF1E:03AD::7F2E:172A:1E24/2269

a=X-3gpp-FEC-Interleaving: 1=\"reverse\", 2=\"ordered\"

A more traditional FEC configuration is shown below. The audio and video
media components use different FEC repair flows. The same principle can
also be applied when bundling several user services together.

> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<bundleDescription\
> xmlns=\"urn:3GPP:metadata:2005:MBMS:userServiceDescription\"\
> xmlns:xsi=\"<http://www.w3.org/2001/XMLSchema-instance>\"
>
> fecDescriptionURI=\"http://www.example.com/3gpp/mbms/session2-fec.sdp\"\>
>
> \<userServiceDescription
>
> serviceId=\"urn:3gpp:0010120123hotdog\"\>\
> \<deliveryMethod\
> sessionDescriptionURI=\"<http://www.example.com/3gpp/mbms/session2.sdp>\"/\>
>
> \</userServiceDescription\>
>
> \</bundleDescription\>

The SDP file from above is modified to use two different FEC flows.

v=0\
o=ghost 2890844526 2890842807 IN IP6 *2001:210:1:2:240:96FF:FE25:8EC9*\
s=3GPP MBMS Streaming SDP Example\
i=Example of MBMS streaming SDP file\
u=http://www.infoserver.example.com/ae600\
e=ghost\@mailserver.example.com\
c=IN IP6 FF1E:03AD::7F2E:172A:1E24\
t=3034423619 3042462419

b=AS:62

b=TIAS: 60500

a=maxprate: 25

a=source-filter: incl IN IP6 \* 2001:210:1:2:240:96FF:FE25:8EC9

m=video 4002 UDP/MBMS-FEC/RTP/AVP 96

b=TIAS:55000

b=RR:0

b=RS:300

a=FEC-declaration:0 encoding-id=2

a=rtpmap:96 H263-2000/90000\
a=fmtp:96 profile=3;level=10\
a=framesize:96 176-144

a=FEC:0

a=maxprate:15

m=audio 4004 UDP/MBMS-FEC/RTP/AVP 98

b=TIAS: 11500

b=RR:0

b=RS:300

a=FEC-declaration:1 encoding-id=2

a=rtpmap:98 AMR/8000

a=fmtp:98 octet-align=1

a=FEC:1

a=maxprate:10

The SDP file for the two FEC streams

v=0\
o=ghost 2890844526 2890842807 IN IP6 *2001:210:1:2:240:96FF:FE25:8EC9*\
s=3GPP MBMS Streaming FEC SDP Example\
i=Example of MBMS streaming SDP file\
u=http://www.infoserver.example.com/ae600\
e=ghost\@mailserver.example.com\
t=3034423619 3042462419

b=AS:15

*a=source-filter: incl IN IP6 \* 2001:210:1:2:240:96FF:FE25:8EC9*

m=application 4006 UDP/MBMS-REPAIR \*

c=IN IP6 FF1E:03AD::7F2E:172A:1E24

b=AS:15

a=FEC-declaration:0 encoding-id=2

a=FEC-OTI-extension:0 ACAEAA==

a=mbms-repair: 0 min-buffer-time=2600

a=FEC:0

a=mbms-flowid: 1=FF1E:03AD::7F2E:172A:1E24/4002,
2=FF1E:03AD::7F2E:172A:1E24/4003

m=application 4008 UDP/MBMS-REPAIR \*

c=IN IP6 FF1E:03AD::7F2E:172A:1E24

b=AS:15

a=FEC-declaration:1 encoding-id=2

a=FEC-OTI-extension:1 ACAEAA==

a=mbms-repair: 1 min-buffer-time=2600

a=FEC:1

a=mbms-flowid: 3=FF1E:03AD::7F2E:172A:1E24/4004,
4=FF1E:03AD::7F2E:172A:1E24/4005

  ----------------------------
  **End of Eleventh Change**
  ----------------------------

  ---------------------
  **Twelveth Change**
  ---------------------

#### 8.2.2.16 Parameter derivation algorithm (informative)

This sub-clause provides recommendations for the derivation of the
transport parameter *T*. This recommendation is based on the following
input parameters:

\- *B* the maximum source block size, in bytes

\- *P* the maximum repair packet payload size, in bytes, which is a
multiple of *Al*

\- *Al* the symbol alignment factor, in bytes

\- *S*~\_min~ the minimum symbol size in units of *Al*

\- *K'\_*~max~ the maximum number of source symbols per source block,
equal to 56,403.

A requirement on these inputs is that ceil(*B*/*P*) ≤ *K'\_*~max~. Based
on the above inputs, the transport parameter *T* is calculated as
follows:

Let,

*G* = floor(*P*/(*S*~\_min~\**Al*)) - the approximate number of symbols
per packet

*T =* floor(*P*/(*Al*·*G*))·*Al*

The value of *T* derived above should be considered as a guide to the
actual value of *T* used. It may be advantageous to ensure that *T*
divides into *P*, or it may be advantageous to set the minimum value
*Al*\**S*~\_min~ of *T* smaller to minimize wastage when full size
repair symbols are used to recover partial source symbols at the end of
lost source packets. Furthermore, the choice of *T* may depend on the
source packet size distribution, e.g., if all source packets are the
same size then it is advantageous to choose *T* so that the actual
payload size of a repair packet *P'*, where *P'* is a multiple of *T*,
is equal to (or as few bytes as possible larger than) the number of
bytes each source packet occupies in the source block.

Recommended settings for the input parameters, *Al* and *S*~\_min~ are
as follows:

*Al* = 8 *S*~\_min~ = 4

  ----------------------------
  **End of Twelveth Change**
  ----------------------------

  -----------------------
  **Thirteenth Change**
  -----------------------

######## Annex B: (void) 

  -- -- -- -- -- -- -- -- -- -- --
                                
                                
                                
                                
                                
                                
                                
  -- -- -- -- -- -- -- -- -- -- --

### 

  -- -- -- --
           
           
           
           
  -- -- -- --

  -------------------------
  **End of Third Change**
  -------------------------
