![](media/image1.jpeg){width="7.0875in" height="3.4229166666666666in"}

  {#section .TT}

Contents {#contents .TT}
========

[6](#foreword)

[7](#scope)

[7](#references)

[8](#definitions-symbols-and-abbreviations)

[8](#definitions)

[8](#abbreviations)

[8](#ussd-using-ims)

[8](#introduction)

[9](#description)

[9](#operational-requirements)

[9](#coding-requirements)

[9](#signalling-requirements)

[9](#general)

[12](#sdp-offeranswer-user-initiated)

[12](#a-sdp-offeranswer-network-initiated)

[13](#activationdeactivation)

[13](#invocation-and-operation-user-initiated)

[13](#actions-at-the-originating-ua)

[14](#actions-at-the-ussi-as)

[15](#invocation-and-operation-network-initiated-ussd-request-and-network-initiated-ussd-notification)

[15](#actions-at-the-originating-ussi-as)

[16](#actions-at-the-ue)

[18](#interaction-with-other-services)

[18](#originating-identification-presentation-oip)

[19](#originating-identification-restriction-oir)

[19](#terminating-identification-presentation-tip)

[19](#terminating-identification-restriction-tir)

[19](#communication-diversion-cdiv)

[19](#communication-hold-hold)

[19](#communication-barring-cb)

[19](#message-waiting-indication-mwi)

[19](#conference-conf)

[19](#explicit-communication-transfer-ect)

[19](#advice-of-charge-aoc)

[19](#closed-user-groups-cug)

[19](#three-party-3pty)

[19](#flexible-alerting-fa)

[19](#communication-waiting-cw)

[20](#completion-of-communications-to-busy-subscriber-ccbs)

[20](#completion-of-communications-by-no-reply-ccnr)

[20](#customized-alerting-tones-cat)

[20](#customized-ringing-signal-crs)

[20](#personal-network-management-pnm)

[20](#malicious-communication-identification-mcid)

[20](#sip-based-user-configuration)

[20](#service-configuration)

[20](#extensions-within-the-present-document)

[20](#info-package-for-transport-of-ussd-information)

[20](#scope-1)

[21](#g.3gpp.ussd-info-package)

[21](#overall-description)

[21](#applicability)

[21](#info-package-name)

[21](#info-package-parameters)

[22](#sip-options-tags)

[22](#info-message-body-parts)

[22](#info-package-usage-restrictions)

[22](#rate-of-info-requests)

[22](#info-package-security-considerations)

[22](#implementation-details-and-examples)

[22](#applicationvnd.3gpp.ussdxml-mime-type)

[22](#scope-2)

[22](#applicationvnd.3gpp.ussdxml)

[23](#data-semantics)

[23](#xml-schema)

[24](#a-further-syntax-rules-of-mime-bodies-of-applicationvnd.3gpp.ussdxml-mime-type)

[24](#iana-registration)

[24](#name)

[25](#email)

[25](#mime-media-type-name)

[25](#mime-subtype-name)

[25](#required-parameters)

[25](#optional-parameters)

[25](#encoding-considerations)

[25](#security-considerations)

[25](#interoperability-considerations)

[25](#published-specification)

[25](#applications-which-use-this-media)

[25](#applications-that-manipulate-mime-typed-objects-messaging-download-etc.)

[25](#additional-information)

[26](#intended-usage)

[26](#other-informationgeneral-comment)

[26](#person-to-contact-for-further-information)

[27](#annex-a-informative-signalling-flows)

[27](#a.1-ue-sending-ussd-request-no-further-information-required)

[29](#a.2-ue-sending-ussd-request-further-information-required-from-network)

[33](#a.3-ussi-as-sending-ussd-request-no-further-information-required)

[37](#a.4-ussi-as-sending-ussd-request-further-information-required-from-network)

[42](#annex-b-normative-media-feature-tags-defined-within-the-current-document)

[42](#b.1-general)

[42](#b.2-definition-of-media-feature-tag-g.3gpp.nw-init-ussi)

[43](#annex-c-normative-ip-connectivity-access-network-specific-concepts-when-using-gprs-to-access-im-cn-subsystem)

[43](#c.1-scope)

[43](#c.2-application-usage-of-sip)

[43](#c.2.1-procedures-at-the-ue)

[43](#c.2.1.1-3gpp-ps-data-off)

[43](#c.2.1.1.1-general)

[43](#c.2.1.1.2-enforcement)

[44](#c.2.2-procedures-at-the-ussi-as)

[44](#c.2.2.1-3gpp-ps-data-off)

[45](#annex-d-normative-ip-connectivity-access-network-specific-concepts-when-using-eps-to-access-im-cn-subsystem)

[45](#d.1-scope)

[45](#d.2-application-usage-of-sip)

[45](#d.2.1-procedures-at-the-ue)

[45](#d.2.1.1-3gpp-ps-data-off)

[45](#d.2.1.1.1-general)

[45](#d.2.1.1.2-enforcement)

[46](#d.2.2-procedures-at-the-ussi-as)

[46](#d.2.2.1-3gpp-ps-data-off)

[47](#annex-e-normative-ip-connectivity-access-network-specific-concepts-when-using-5gs-to-access-im-cn-subsystem)

[47](#e.1-scope)

[47](#e.2-application-usage-of-sip)

[47](#e.2.1-procedures-at-the-ue)

[47](#e.2.1.1-3gpp-ps-data-off)

[47](#e.2.1.1.1-general)

[47](#e.2.1.1.2-enforcement)

[48](#e.2.2-procedures-at-the-ussi-as)

[48](#e.2.2.1-3gpp-ps-data-off)

[48](#annex-f-informative-change-history)Foreword 1 Scope 2 References 3
Definitions, symbols and abbreviations 3.1 Definitions 3.2 Abbreviations
4 USSD using IMS 4.1 Introduction 4.2 Description 4.3 Operational
requirements 4.4 Coding requirements 4.5 Signalling requirements 4.5.1
General 4.5.2 SDP Offer/Answer (user initiated) 4.5.2A SDP offer/answer
(network initiated) 4.5.3 Activation/deactivation 4.5.4 Invocation and
operation (user initiated) 4.5.4.1 Actions at the originating UA 4.5.4.2
Actions at the USSI AS 4.5.5 Invocation and operation (network initiated
USSD request and network initiated USSD notification) 4.5.5.1 Actions at
the originating USSI AS 4.5.5.2 Actions at the UE 4.6 Interaction with
other services 4.6.1 Originating Identification Presentation (OIP) 4.6.2
Originating Identification Restriction (OIR) 4.6.3 Terminating
Identification Presentation (TIP) 4.6.4 Terminating Identification
Restriction (TIR) 4.6.5 Communication Diversion (CDIV) 4.6.6
Communication Hold (HOLD) 4.6.7 Communication Barring (CB) 4.6.8 Message
Waiting Indication (MWI) 4.6.9 Conference (CONF) 4.6.10 Explicit
Communication Transfer (ECT) 4.6.11 Advice Of Charge (AOC) 4.6.12 Closed
User Groups (CUG) 4.6.13 Three-Party (3PTY) 4.6.14 Flexible Alerting
(FA) 4.6.15 Communication Waiting (CW) 4.6.16 Completion of
Communications to Busy Subscriber (CCBS) 4.6.17 Completion of
Communications by No Reply (CCNR) 4.6.18 Customized Alerting Tones (CAT)
4.6.19 Customized Ringing Signal (CRS) 4.6.20 Personal Network
Management (PNM) 4.6.21 Malicious Communication Identification (MCID)
4.6.22 SIP based user configuration 4.7 Service configuration 5
Extensions within the present document 5.1 INFO Package for transport of
USSD information 5.1.1 Scope 5.1.2 g.3gpp.ussd info package 5.1.2.1
Overall description 5.1.2.2 Applicability 5.1.2.3 Info package name
5.1.2.4 Info package parameters 5.1.2.5 SIP options tags 5.1.2.6 INFO
message body parts 5.1.2.7 Info package usage restrictions 5.1.2.8 Rate
of INFO Requests 5.1.2.9 Info package security considerations 5.1.2.10
Implementation details and examples 5.1.3 application/vnd.3gpp.ussd+xml
MIME type 5.1.3.1 Scope 5.1.3.2 application/vnd.3gpp.ussd+xml 5.1.3.3
Data semantics 5.1.3.4 XML schema 5.1.3.4A Further syntax rules of MIME
bodies of application/vnd.3gpp.ussd+xml MIME type 5.1.3.5 IANA
registration 5.1.3.5.1 Name 5.1.3.5.2 Email 5.1.3.5.3 MIME media type
name 5.1.3.5.4 MIME subtype name 5.1.3.5.5 Required parameters 5.1.3.5.6
Optional parameters 5.1.3.5.7 Encoding considerations 5.1.3.5.8 Security
considerations 5.1.3.5.9 Interoperability considerations 5.1.3.5.10
Published specification 5.1.3.5.11 Applications which use this media
5.1.3.5.12 Applications that manipulate MIME typed objects (messaging,
download etc.) 5.1.3.5.13 Additional information 5.1.3.5.14 Intended
usage 5.1.3.5.15 Other information/general comment 5.1.3.5.16 Person to
contact for further information Annex A (informative): Signalling flows
A.1 UE sending USSD request, no further information required A.2 UE
sending USSD request, further information required from network A.3 USSI
AS sending USSD request, no further information required A.4 USSI AS
sending USSD request, further information required from network Annex B
(normative): Media feature tags defined within the current document B.1
General B.2 Definition of media feature tag g.3gpp.nw-init-ussi Annex C
(normative): IP-Connectivity Access Network specific concepts when using
GPRS to access IM CN subsystem C.1 Scope C.2 Application usage of SIP
C.2.1 Procedures at the UE C.2.1.1 3GPP PS data off C.2.1.1.1 General
C.2.1.1.2 Enforcement C.2.2 Procedures at the USSI AS C.2.2.1 3GPP PS
data off Annex D (normative): IP-Connectivity Access Network specific
concepts when using EPS to access IM CN subsystem D.1 Scope D.2
Application usage of SIP D.2.1 Procedures at the UE D.2.1.1 3GPP PS data
off D.2.1.1.1 General D.2.1.1.2 Enforcement D.2.2 Procedures at the USSI
AS D.2.2.1 3GPP PS data off Annex E (normative): IP-Connectivity Access
Network specific concepts when using 5GS to access IM CN subsystem E.1
Scope E.2 Application usage of SIP E.2.1 Procedures at the UE E.2.1.1
3GPP PS data off E.2.1.1.1 General E.2.1.1.2 Enforcement E.2.2
Procedures at the USSI AS E.2.2.1 3GPP PS data off Annex F
(informative): Change history

Foreword
========

This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).

The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:

Version x.y.z

where:

x the first digit:

1 presented to TSG for information;

2 presented to TSG for approval;

3 or greater indicates TSG approved document under change control.

Y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.

z the third digit is incremented when editorial only changes have been
incorporated in the document.

1 Scope
=======

The present document describes the procedures for using Unstructured
Supplementary Service Data (USSD) operations for mobile initiated MMI
mode over IP Multimedia Core Network Subsystem (IMS) and for network
initiated MMI mode over IP Multimedia Core Network Subsystem (IMS). MMI
mode is for the transparent transport of MMI strings entered by the user
to the Application Servers (AS) and for the transparent transport of
text strings back to the User Equipment (UE) to be displayed for user
information. Support of either mode of USSD service is optional and only
applicable for an operator\'s Public Land Mobile Network (PLMN).

The current version of the document describes procedures for USSD
operation over IMS where the USSD application in the network resides on
an AS. Signalling from the AS to other core network functional entities
is left out of scope.

The present document is applicable to UE and AS which are intended to
support USSD operations over IMS in mobile initiated MMI mode and
network initiated MMI mode.

2 References
============

The following documents contain provisions which, through reference in
this text, constitute provisions of the present document.

\- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.

\- For a specific reference, subsequent revisions do not apply.

\- For a non-specific reference, the latest version applies. In the case
of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document *in the same Release as the present document*.

\[1\] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".

\[2\] IETF RFC 6086 (January 2011): \"Session Initiation Protocol (SIP)
INFO Method and Package Framework\".

\[3\] 3GPP TS 24.090: \" Unstructured Supplementary Service Data (USSD);
Stage 3\".

> \[4\] 3GPP2 X.S0065-0 v1.0 (April 2012): \"Unstructured Supplementary
> Service Data (USSD) Support\".

\[5\] 3GPP TS 24.080: \"Mobile radio interface layer 3 supplementary
services specification; Formats and coding\".

\[6\] 3GPP TS 24.229: \"IP multimedia call control protocol based on
Session Initiation Protocol (SIP) and Session Description Protocol
(SDP); Stage 3\".

\[7\] IETF RFC 4967 (July 2007): \"Dial String Parameter for the Session
Initiation Protocol Uniform Resource Identifier\".

\[8\] 3GPP TS 24.238: \"Session Initiation Protocol (SIP) based user
configuration; Stage 3\".

\[9\] IETF RFC 4288 (December 2005): \"Media Type Specifications and
Registration Procedures\".

\[10\] IETF RFC 3023: \"XML Media Types\".

\[11\] IETF RFC 3261: \"SIP: Session Initiation Protocol\".

\[12\] IETF RFC 5646 (September 2009): \"Tags for Identifying
Languages\".

\[13\] 3GPP TS 24.391: \"Unstructured Supplementary Service Data (USSD)
using IP Multimedia (IM) Core Network (CN) subsystem (IMS) Management
Object (MO)\".

\[14\] 3GPP TS 23.221: \"Architectural requirements\".

\[15\] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".

\[16\] IETF RFC 3840 (August 2004): \"Indicating User Agent Capabilities
in the Session Initiation Protocol (SIP)\".

\[17\] 3GPP TS 22.011: \"Service accessibility\".

\[18\] 3GPP TS 31.102: \"Characteristics of the Universal Subscriber
Identity Module (USIM) application\".

\[19\] 3GPP TS 23.122: \"Non-Access-Stratum functions related to Mobile
Station (MS) in idle mode\".

3 Definitions, symbols and abbreviations
========================================

3.1 Definitions
---------------

For the purposes of the present document, the terms and definitions
given in 3GPP TR 21.905 \[1\] and the following apply. A term defined in
the present document takes precedence over the definition of the same
term, if any, in 3GPP TR 21.905 \[1\].

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 22.011 \[17\] apply:

**3GPP PS data off**

**3GPP PS data off exempt service**

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 24.229 \[6\] apply:

**3GPP PS data off status**

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 23.122 \[19\] apply:

**Equivalent Home (EHPLMN)**

**Home PLMN (HPLMN)**

**Visited PLMN (VPLMN)**

3.2 Abbreviations
-----------------

For the purposes of the present document, the abbreviations given in
3GPP TR 21.905 \[1\] and the following apply. An abbreviation defined in
the present document takes precedence over the definition of the same
abbreviation, if any, in 3GPP TR 21.905 \[1\].

AS Application Server

IMS IP Multimedia core network Subsystem

PS Packet Switched

UE User Equipment

USSD Unstructured Supplementary Service Data

USSI Unstructured Supplementary Service Data over IM CN subsystem

4 USSD using IMS
================

4.1 Introduction
----------------

This service provides the support for UE initiated MMI-mode USSD
operations and network initiated MMI-mode USSD operations, which enables
the transparent transport of MMI strings entered by the user to the IM
core network and enables the transparent transport of text strings from
the IM core network which are displayed by the UE for user information.

Support of the UE initiated MMI-mode USSD operations, the network
initiated MMI-mode USSD operations or both is optional.

The network initiated USSD can be:

\- a single network initiated USSD notification;

\- a single network initiated USSD request;

\- a dialog consisting of multiple network initiated USSD notifications
only;

\- a dialog consisting of multiple network initiated USSD requests only;
or

\- a dialog consisting of one or more network initiated USSD
notifications and one or more network initiated USSD requests in any
order.

4.2 Description
---------------

There is no service description.

4.3 Operational requirements
----------------------------

There are no operational requirements.

4.4 Coding requirements
-----------------------

There are no coding requirements over and above those specified in
3GPP°TS°24.229°\[6\].

4.5 Signalling requirements
---------------------------

### 4.5.1 General

In the IM CN subsystem USSD messages can be transported in SIP INFO
requests, SIP INVITE requests and SIP BYE requests, using a
application/vnd.3gpp.ussd+xml MIME body.

Figure 4.1, figure 4.2, figure 4.3 and figure 4.4 give an overview of
the supported USSD operations:

UE USSI AS

INVITE

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--\>

language, ussd-String

BYE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

language, ussd-String

BYE

\<- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - - - - - - - - - - -

Error

Figure 4.1: UE initiated USSD operation, network does not request
further information

UE USSI AS

INVITE

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--\>

language, ussd-String

INFO

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

language, ussd-String

INFO

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--\>

language, ussd-String

INFO

\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - - - - - - - - -\>

Error

.

.

.

BYE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

language, ussd-String

BYE

\<- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - - - - - - - - -

Error

Figure 4.2: UE initiated USSD operation, network requests further
information

UE USSI AS

INVITE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

language, UnstructuredSS-Request, ussd-String, alertingPattern

INFO

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--
\>

language, UnstructuredSS-Request, ussd-String

INFO

\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - - - - - - - - - - \>

Error

BYE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Figure 4.3: Single network initiated USSD request

UE USSI AS

INVITE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

language, UnstructuredSS-Request, ussd-String, alertingPattern

INFO

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--\>

language, UnstructuredSS-Request, ussd-String

INFO

\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - - - - - - - - - - \>

Error

INFO

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

language, UnstructuredSS-Request, ussd-String, alertingPattern

INFO

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--\>

language, UnstructuredSS-Request, ussd-String

INFO

\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - - - - - - - - - \>

Error

.

.

.

BYE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Figure 4.4: Multiple Network initiated USSD request

NOTE: The second USSD operation can also be an USSD notification. Only
one additional USSD request is shown.

INVITE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

language, UnstructuredSS-Notification, ussd-String, alertingPattern

INFO

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--
\>

UnstructuredSS-Notification

INFO

\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - - - - - - - - - - \>

Error

BYE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Figure 4.5: Single network initiated USSD notification

UE USSI AS

INVITE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

language, UnstructuredSS-Notification, ussd-String, alertingPattern

INFO

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--\>

UnstructuredSS-Notification

INFO

\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - - - - - - - - - - \>

Error

INFO

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

language, UnstructuredSS-Notification, ussd-String, alertingPattern

INFO

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--\>

UnstructuredSS-Notification

INFO

\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - - - - - - - - - \>

Error

.

.

.

BYE

\<\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Figure 4.6: Multiple network initiated USSD notification

NOTE: The second USSD operation can also be an USSD request. Only one
additional USSD notification is shown.

### 4.5.2 SDP Offer/Answer (user initiated)

When a UE sends an initial INVITE request, in order to establish a USSD
session, it shall include an SDP offer with one media description,
according to subclause 6.1.2 of 3GPP TS 24.229 \[6\]. The UE shall add a
zero port number value to the media descriptions of the SDP offer, in
order to inform network entities that media resources are not requested
for the session.

A pre-existing network initiated USSD session cannot be used to carry a
user initiated USSD session.

When the USSI AS sends an SDP answer, it shall also add a zero port
number value to any media description received in the associated SDP
offer.

### 4.5.2A SDP offer/answer (network initiated)

When a USSI AS sends an initial INVITE request, in order to establish a
USSD session, it shall include an SDP offer with one media description,
according to subclause 6.6.1 of 3GPP TS 24.229 \[6\], but also in
accordance with the UE procedures in subclause 6.1.2 of
3GPP TS 24.229 \[6\]. The USSI AS shall add a zero port number value to
the media descriptions of the SDP offer, in order to inform the user
that media resources are not requested for the session.

A pre-existing user initiated USSD session cannot be used to carry a
network initiated USSD session.

When the UE sends an SDP answer, it shall also add a zero port number
value to any media description received in the associated SDP offer.

### 4.5.3 Activation/deactivation

If:

1\) the domain selection for originating voice calls specified in
3GPP TS 23.221 \[y\] determines that the UE uses the IMS to originate
voice calls; and

2\) the UE is not configured with HPLMN operator preference for
invocation of originating USSD requests using CS domain (e.g. see
3GPP TS 24.391 \[13\]);

or if the UE does not support the CS domain, then the UE can invoke the
procedures in subclause 4.5.4, otherwise the UE shall not invoke the
procedures in subclause 4.5.4.

If the network initiated USSD over IMS is supported by the UE, then when
the UE registers to IM CN subsystem the UE shall include a
g.3gpp.nw-init-ussi media feature tag in the Contact header field.

NOTE: The g.3gpp.nw-init-ussi media feature tag is specified in
annex B.2.

For this version of this document, network domain selection procedures
for network initiated USSD requests is outside the scope.

### 4.5.4 Invocation and operation (user initiated)

#### 4.5.4.1 Actions at the originating UA

NOTE 1: The Content-Language SIP header field is not used to determine
the language of the USSD string. Only the \<language\> XML element is
used.

In order to send the initial USSD message, the UE shall send an initial
INVITE request, according to 3GPP TS 24.229 \[6\]. The UE shall populate
the request as follows:

1\) Request-URI set to a SIP URI with user part including the USSD
string and a \"phone-context\" parameter set to the home network domain
name used in REGISTER request according to TS 24.229 \[6\], a host part
set to the home netwok domain name used in REGISTER request as defined
in TS 24.229 \[6\] a \"user\" URI parameter set to value \"dialstring\"
as specified in RFC 4967 \[7\];

2\) Recv-Info header field containing the g.3gpp.ussd info-package name;

3\) Accept header field containing the application/vnd.3gpp.ussd+xml,
application/sdp and multipart/mixed MIME types;

4\) the Content-Type header, which shall contain \"multipart/mixed\";

5\) SDP offer as described in subclause 4.5.2; and

6\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3 with a Content-Disposition header field set to
\"render\" and with \"handling\" header field parameter set to
\"optional\". The XML document shall contain a single \<ussd-string\>
element and may contain a \<language\> element.

When receiving an INFO request with Info-Package header field containing
the g.3gpp.ussd info-package and containing
application/vnd.3gpp.ussd+xml MIME body associated with the info package
according to IETF RFC 6086 \[2\], the UE shall, in addition to the
procedures specified in 3GPP TS 24.229 \[6\]:

1\) if the UE is able to process the received information, send an INFO
request within the dialog, according to 3GPP TS 24.229 \[6\]. The UE
shall populate the INFO request as follows:

a\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

b\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\] containing the user\'s response in a \<ussd-string\>
element and optionally a \<language\> element; and

2\) if the UE is not able to process the received information or rejects
the received information, send an INFO request within the dialog,
according to 3GPP TS 24.229 \[6\]. The UE shall populate the INFO
request as follows:

a\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

b\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\] containing an \<error-code\> element.

When receiving a BYE request containing application/vnd.3gpp.ussd+xml
MIME body, the UE shall, in addition to the procedures specified in
3GPP TS 24.229 \[6\], handle the application/vnd.3gpp.ussd+xml MIME
body.

NOTE 2: According to 3GPP TS 24.229 \[6\], the UE can receive a BYE
request without the application/vnd.3gpp.ussd+xml MIME body and in this
case the dialog is terminated immediately.

When receiving a 404 (Not Found) response to INVITE request, the UE
shall determine that an attempt to deliver the USSD request using IMS
fails due to missing network support.

NOTE 3: 3GPP TS 23.221 \[14\] gives requirements related to failure of
the USSD request using IMS due to missing network support.

#### 4.5.4.2 Actions at the USSI AS

In addition to the procedures specified in this subclause, the USSI AS
shall support the procedures specified in 3GPP TS 24.229 \[6\] for an
AS.

NOTE 1: The Content-Language SIP header field is not used to determine
the language of the USSD string. Only the \<language\> XML element is
used.

Upon receiving an initial INVITE request with Request-URI containing the
SIP URI including the USSD string and a \"user\" URI parameter set to
value \"dialstring\" as specified in RFC 4967 \[7\], if the
application/vnd.3gpp.ussd+xml MIME body contained in the request is
accepted by the USSI AS, the USSI AS shall:

1\) pass the USSD data received in the body of the SIP INVITE request to
the USSD application handling and wait for the response of the
application;

NOTE 2: How the USSD data are processed at the USSI AS is outside the
scope of this specification. The USSI AS can handle the USSD dialogs or
forward the USSD requests and responses to/from a legacy USSD server.

NOTE 3: The USSD string in the request-URI is not passed to the USSD
application handling. In case of discrepancy between this string and the
\<ussd-string\> element contained in the MIME body, the behaviour of the
USSI AS is determined by the \<ussd-string\> in the MIME body.

2\) send 200 (OK) response to the request following the procedures
specified for AS acting as a terminating UA in 3GPP TS 24.229 \[6\]. The
USSI AS shall populate the 200 (OK) response to the request as follows:

a\) Recv-Info header field containing the g.3gpp.ussd info-package name;

b\) Accept header field containing the application/vnd.3gpp.ussd+xml,
application/sdp and multipart/mixed MIME types; and

c\) SDP answer as described in subclause 4.5.2.

Upon receiving an ACK request associated with the INVITE request, the
USSI AS shall:

1\) if the network requests further information in order to perform the
USSD operation, send an INFO request within the dialog created by the
INVITE request. The USSI AS shall populate the INFO request as follows:

a\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

b\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\] including a \<ussd-string\> element and a
\<language\> element;

2\) if the network successfully performed the USSD information and does
not need any further information, send a BYE request in order to
terminate the dialog. The USSI AS shall populate the BYE request with
application/vnd.3gpp.ussd+xml MIME body, as described in subclause 5.1.3
including a \<ussd-string\> element and a \<language\> element; and

3\) if the network informs the UE that the network is unable to process
the USSD request or the network informs the UE that the network rejects
the USSD request, send a BYE request in order to terminate the dialog.
The USSI AS shall populate the BYE request with
application/vnd.3gpp.ussd+xml MIME body, as described in
subclause 5.1.3, including, a \<error-code\> element.

Upon receiving a SIP INFO request with Info-Package header field
containing the g.3gpp.ussd info-package and a
application/vnd.3gpp.ussd+xml MIME body associated with the info package
according to IETF RFC 6086 \[2\], the USSI AS shall handle the SIP INFO
request following the procedures specified for AS acting as a
terminating UA in 3GPP TS 24.229 \[6\] and generate a SIP response as
described in 3GPP TS 24.229 \[6\]. If the SIP response is a 2xx
response, the USSI AS shall:

1\) pass the USSD data received in the body of the SIP INFO request to
the USSD application handling and wait for the response of the
application;

NOTE 4: How the USSD data are processed at the USSI AS is outside the
scope of this specification. The USSI AS can handle the USSD dialogs or
forward the USSD requests and responses to/from a legacy USSD server.

2\) if the network requests further information in order to perform the
USSD operation, send an INFO request within the dialog. The USSI AS
shall populate the INFO request as follows:

a\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

b\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\] including a \<ussd-string\> element and a
\<language\> element;

3\) if the network successfully performed the USSD information and does
not need any further information, send a BYE request in order to
terminate the dialog. The USSI AS shall populate the BYE request with
application/vnd.3gpp.ussd+xml MIME body, as described in subclause 5.1.3
including a \<ussd-string\> element and a \<language\> element; and

4\) if the network informs the UE that the network is unable to process
the USSD request, or the network informs the UE that the network rejects
the USSD request, send a BYE request in order to terminate the dialog.
The USSI AS shall populate the BYE request with
application/vnd.3gpp.ussd+xml MIME body, as described in
subclause 5.1.3, including, a \<error-code\> element.

### 4.5.5 Invocation and operation (network initiated USSD request and network initiated USSD notification)

#### 4.5.5.1 Actions at the originating USSI AS

NOTE 1: The Content-Language SIP header field is not used to determine
the language of the USSD string. Only the \<language\> XML element is
used.

In order to send the initial USSD message, the USSI AS shall send an
initial INVITE request, according to 3GPP TS 24.229 \[6\]. The USSI AS
shall populate the request as follows:

NOTE 2: Any received g.3gpp.nw-init-ussi media feature tag can be used
for the USSI AS to determine whether to send the USSD message towards
the UE.

1\) Request-URI set to the an identity of the target UE;

2\) Recv-Info header field containing the g.3gpp.ussd info-package name;

3\) Accept header field containing the application/vnd.3gpp.ussd+xml,
application/sdp and multipart/mixed MIME types;

4\) the Content-Type header, which shall contain \"multipart/mixed\";

5\) SDP offer as described in subclause 4.5.2A; and

6\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3. The XML document:

\- shall contain a single \<ussd-string\> element;

\- shall contain an \<UnstructuredSS-Request\> element or an
\<UnstructuredSS-Notify\> element;

\- may contain a \<language\> element; and

\- may contain an \<alertingPattern\> element.

The USSI AS should not include an Alert-Info header field into the
initial INVITE request.

NOTE 3: Information provided in the Alert-Info header field can be in
conflict with the content of the \<alertingPattern\> element of the
application/vnd.3gpp.ussd+xml MIME body of the initial INVITE request.

When receiving an INFO request with Info-Package header field containing
the g.3gpp.ussd info-package and containing
application/vnd.3gpp.ussd+xml MIME body associated with the info package
according to IETF RFC 6086 \[2\], if the application/vnd.3gpp.ussd+xml
MIME body contains:

\- the \<UnstructuredSS-Request\> element; or

\- the \<UnstructuredSS-Notify\> element;

the USSI AS shall, in addition to the procedures specified in
3GPP TS 24.229 \[6\]:

1\) if the USSI AS is able to process the received information and needs
to send further information, send an INFO request within the dialog,
according to 3GPP TS 24.229 \[6\]. The USSI AS shall populate the INFO
request as follows:

a\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

b\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\], containing:

\- the further information to be sent to the US in a \<ussd-string\>
element;

\- a \<UnstructuredSS-Request\> element or a \<UnstructuredSS-Notify\>
element;

\- optionally a \<language\> element; and

\- optionally an \<alertingPattern\> element.

If the USSI AS considers the USSD procedure complete, then the USSI AS
shall generate a BYE request.

When receiving a 415 (Unsupported Media Type) response to the initial
INVITE request, the USSI AS shall determine that an attempt to deliver
the USSD request using IMS fails due to missing UE support.

#### 4.5.5.2 Actions at the UE

In addition to the procedures specified in this subclause, the UE shall
support the procedures specified in 3GPP TS 24.229 \[6\] for an UE.

NOTE 1: The Content-Language SIP header field is not used to determine
the language of the USSD string. Only the \<language\> XML element is
used.

Upon receiving an initial INVITE request with the
application/vnd.3gpp.ussd+xml MIME body, if the body contains:

\- the \<UnstructuredSS-Request\> element; or

\- the \<UnstructuredSS-Notify\> element;

and if the request is accepted by the UE, the UE shall:

1\) pass the USSD data received in the body of the SIP INVITE request to
the USSD application handling and wait for the response of the
application; and

2\) send 200 (OK) response to the request following the procedures
specified for AS acting as a terminating UA in 3GPP TS 24.229 \[6\]. The
UE shall populate the 200 (OK) response to the request as follows:

a\) Recv-Info header field containing the g.3gpp.ussd info-package name;

b\) Accept header field containing the application/vnd.3gpp.ussd+xml,
application/sdp and multipart/mixed MIME types; and

c\) SDP answer as described in subclause 4.5.2A.

Upon receiving an ACK request associated with the INVITE request, the UE
shall:

1\) if the application/vnd.3gpp.ussd+xml MIME body of the INVITE request
contains the \<UnstructuredSS-Request\> element:

a\) when the application in the UE provides further information in order
to perform the USSD operation, send an INFO request within the dialog
created by the INVITE request. The UE shall populate the INFO request as
follows:

A\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

B\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\] including a \<ussd-string\> element, a
\<UnstructuredSS-Request\> element, and a \<language\> element; and

b\) if the UE informs the network that the UE is unable to process the
USSD request or the UE informs the network that the UE rejects the USSD
request, send an INFO request. The UE shall populate the INFO request as
follows:

A\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

B\) application/vnd.3gpp.ussd+xml MIME body, as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\], including a \<error-code\> element and a
\<UnstructuredSS-Request\> element; and

2\) if the application/vnd.3gpp.ussd+xml MIME body of the INVITE request
contains the \<UnstructuredSS-Notify\> element:

a\) if the UE acknowledges the USSD operation, send an INFO request
within the dialog created by the INVITE request. The UE shall populate
the INFO request as follows:

A\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

B\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\] including a \<UnstructuredSS-Notify\> element; and

b\) if the UE informs the network that the UE is unable to process the
USSD request or the UE informs the network that the UE rejects the USSD
request, send an INFO request. The UE shall populate the INFO request as
follows:

A\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

B\) application/vnd.3gpp.ussd+xml MIME body, as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\], including a \<error-code\> element and a
\<UnstructuredSS-Notify\> element.

Upon receiving a SIP INFO request with Info-Package header field
containing the g.3gpp.ussd info-package and a
application/vnd.3gpp.ussd+xml MIME body associated with the info package
according to IETF RFC 6086 \[2\],if the MIME body contains:

\- an \<UnstructuredSS-Request\> element; or

\- an \<UnstructuredSS-Notify\> element;

the UE shall handle the SIP INFO request following the procedures
specified for a terminating UE in 3GPP TS 24.229 \[6\] and generate a
SIP response as described in 3GPP TS 24.229 \[6\]. If the SIP response
is a 2xx response, the UE shall:

1\) pass the USSD data received in the body of the SIP INFO request to
the USSD application handling and wait for the response of the
application;

2\) if the application/vnd.3gpp.ussd+xml MIME body of the INFO request
contains the \<UnstructuredSS-Request\> element:

a\) when the application in the UE provides further information in order
to perform the USSD operation, send an INFO request within the dialog.
The UE shall populate the INFO request as follows:

A\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

B\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\] including a \<ussd-string\> element, a
\<UnstructuredSS-Request\> element and optionally a \<language\>
element; and

b\) if the UE informs the network that the UE is unable to process the
USSD request, or the UE informs the network that the UE rejects the USSD
request, send a INFO request within the dialog. The UE shall populate
the INFO request as follows:

A\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

B\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\], including an \<error-code\> element; and

3\) if the application/vnd.3gpp.ussd+xml MIME body of the INFO request
contains the \<UnstructuredSS-Notify\> element:

a\) if the UE acknowledges the USSD operation, send an INFO request
within the dialog. The UE shall populate the INFO request as follows:

A\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

B\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\] including a \<UnstructuredSS-Notify\> element; and

b\) if the UE informs the network that the UE is unable to process the
USSD request, or the UE informs the network that the UE rejects the USSD
request, send a INFO request within the dialog. The UE shall populate
the INFO request as follows:

A\) Info-Package header field containing the g.3gpp.ussd info-package
name; and

B\) application/vnd.3gpp.ussd+xml MIME body as described in
subclause 5.1.3, associated with the info package according to
IETF RFC 6086 \[2\], including an \<error-code\> element and a
\<UnstructuredSS-Notify\> element.

If:

\- the UE receives a USSD operation in parallel to any call independent
supplementary service transaction;

\- the UE receives a USSD operation while another USSD transaction
(network or mobile initiated) is in progress; or

\- the UE receives a USSD operation when the UE is in a state where the
MMI required is not possible (e.g. during dialling);

the UE shall inform the network that the UE is unable to process the
USSD request according to the preceding procedures and shall set the
\<error-code\> element to \"USSD-busy\".

The UE can terminate the dialog at any time in accordance with the
procedures from 3GPP TS 24.229 \[6\].

4.6 Interaction with other services
-----------------------------------

### 4.6.1 Originating Identification Presentation (OIP)

There are no interaction requirements with OIP.

### 4.6.2 Originating Identification Restriction (OIR)

There are no interaction requirements with OIR.

### 4.6.3 Terminating Identification Presentation (TIP)

There are no interaction requirements with TIP.

### 4.6.4 Terminating Identification Restriction (TIR)

There are no interaction requirements with TIR.

### 4.6.5 Communication Diversion (CDIV)

There are no interaction requirements with CDIV. CDIV is not applicable
for USSI.

### 4.6.6 Communication Hold (HOLD)

There are no interaction requirements with HOLD.

### 4.6.7 Communication Barring (CB)

There are no interaction requirements with CB. CB is not applicable for
USSI.

### 4.6.8 Message Waiting Indication (MWI)

There are no interaction requirements with MWI.

### 4.6.9 Conference (CONF)

There are no interaction requirements with CONF.

### 4.6.10 Explicit Communication Transfer (ECT)

There are no interaction requirements with ECT.

### 4.6.11 Advice Of Charge (AOC)

There are no interaction requirements with AOC.

### 4.6.12 Closed User Groups (CUG)

There are no interaction requirements with CUG.

### 4.6.13 Three-Party (3PTY)

There are no interaction requirements with CUG.

### 4.6.14 Flexible Alerting (FA)

There are no interaction requirements with FA.

### 4.6.15 Communication Waiting (CW)

There are no interaction requirements with CW.

### 4.6.16 Completion of Communications to Busy Subscriber (CCBS)

There are no interaction requirements with CCBS.

### 4.6.17 Completion of Communications by No Reply (CCNR)

There are no interaction requirements with CCNR.

### 4.6.18 Customized Alerting Tones (CAT)

There are no interaction requirements with CAT.

### 4.6.19 Customized Ringing Signal (CRS)

There are no interaction requirements with CRS.

### 4.6.20 Personal Network Management (PNM)

There are no interaction requirements with PNM.

### 4.6.21 Malicious Communication Identification (MCID)

There are no interaction requirements with MCID.

### 4.6.22 SIP based user configuration

Based on filter criteria, an initial INVITE request including a
dialstring and an optional XML body as described in subclause 4.5.1 can
be forwarded either to an USSI AS supporting SIP based user
configuration as specified in 3GPP TS 24.238 \[8\] or to an AS
supporting USSI as specified in this specification.

An USSI AS and SIP based user configuration as specified in
3GPP TS 24.238 \[8\], shall handle an initial INVITE request as
described in subclause 4.5.1 according to this specification.

NOTE: If an AS supports only SIP based user configuration as specified
in 3GPP TS 24.238 \[8\], an initial INVITE request as described in
subclause 4.5.1 is handled according to 3GPP TS 24.238 \[8\].

4.7 Service configuration
-------------------------

User self configuration is not applicable to USSD using IMS.

5 Extensions within the present document
========================================

5.1 INFO Package for transport of USSD information
--------------------------------------------------

### 5.1.1 Scope

This subclause contains the information required for the IANA
registration of info package g.3gpp.ussd in accordance with
IETF RFC 6086 \[2\].

### 5.1.2 g.3gpp.ussd info package

#### 5.1.2.1 Overall description

3GPP TS 24.390 describes the procedures for using Unstructured
Supplementary Service Data (USSD) (3GPP TS 24.090 \[3\] and 3GPP2 X.
S0065 \[4\]) operations in the IP Multimedia Core Network Subsystem
(IMS). SIP INFO requests are used to carry information associated with
USSD, using the g.3gpp.ussd info package.

Every SIP INFO request associated with the g.3gpp.ussd info package
carries a single application/vnd.3gpp.ussd+xml MIME body associated with
the info package according to IETF RFC 6086 \[2\].

NOTE: According to the procedures in IETF RFC 6086 \[2\], the SIP INFO
response will not contain a MIME body. A message associated with a USSD
operation is always sent in SIP INFO request.

In a given dialog, when a UA sends an INFO request associated with the
g.3gpp.ussd info package, then until receiving an INFO request
associated with the g.3gpp.ussd info package, the UA does not send
another INFO request associated with the g.3gpp.ussd info package.

#### 5.1.2.2 Applicability

A number of solutions were discussed for the transportation of USSD
information between the UE and the USSD AS. The solutions were:

1\) use of subscription to the USSD event package as specified in
IETF RFC 4575;

2\) use of the session related methods (e.g. SIP 200 (OK) response to
the SIP INVITE request);

3\) use of the SIP MESSAGE method;

4\) use of media plane mechanisms; and

5\) use of the SIP INFO method as described in IETF RFC 6086, by
defining a new info package.

Furthermore, each of the solutions 1), 2), 3), 4) and 5) were evaluated.

The use of a USSD event package was discounted as the usage of
subscribe/notify mechanism for two-way communication is not appropriate
since subscribe/notify mechanism is to provide one-way communication
consisting of notifications from notifier to subscriber indicating that
certain events in notifier have occurred.

The use of session related methods for USSD messages other than the
initial USSD message and last USSD message was discounted as it was
concluded that usage of UPDATE method for transport of USSD message
would have side effect of impacting dialog configuration (e.g. possibly
changing the remote contact URI).

Use of the SIP MESSAGE method was discounted since USSD is dialog based
and all information exchange has to be part of the related session.

Use of the media plane mechanisms was discounted because the amount of
USSD messages in a dialog is normally very small (normally only 2) and
overhead caused by user plane setup (e.g. if MSRP is used as transport)
would be disproportionately big in comparion to the actual USSD message
size.

Based on the above analyses, the SIP INFO method was chosen to transport
the USSD information between the UE and the USSD AS.

#### 5.1.2.3 Info package name

g.3gpp.ussd

#### 5.1.2.4 Info package parameters

None defined.

#### 5.1.2.5 SIP options tags

None defined.

#### 5.1.2.6 INFO message body parts

The MIME type of the message body carrying the information associated
with USSD is application/vnd.3gpp.ussd+xml.
application/vnd.3gpp.ussd+xml MIME type is defined in 3GPP TS 24.390.

When associated with the g.3gpp.ussd info package, the
Content-Disposition value of the message body carrying the information
associated with USSD is \"info-package\".

#### 5.1.2.7 Info package usage restrictions

None defined.

#### 5.1.2.8 Rate of INFO Requests

No maximum rate or minimum rate is defined for sending INFO requests
associated with the g.3gpp.ussd info package.

For most USSD usages, normally zero, one, or a few, SIP INFO requests
are generated in the SIP session by each participating user agent.

#### 5.1.2.9 Info package security considerations

The security is based on the generic security mechanism provided for the
underlying SIP signalling. No additional security mechanism is defined.

#### 5.1.2.10 Implementation details and examples

UAC generation of INFO requests: See 3GPP TS 24.390:\" Unstructured
Supplementary Service Data (USSD) using IP Multimedia (IM) Core Network
(CN) subsystem IMS; Stage 3\"

Examples: See 3GPP TS 24.390: \" Unstructured Supplementary Service Data
(USSD) using IP Multimedia (IM) Core Network (CN) subsystem IMS; Stage
3\"

### 5.1.3 application/vnd.3gpp.ussd+xml MIME type

#### 5.1.3.1 Scope

This subclause contains the information required for the IANA
registration of the application/vnd.3gpp.ussd+xml MIME type in
accordance with IANA registration procedures.

#### 5.1.3.2 application/vnd.3gpp.ussd+xml

The MIME type is used to carry USSD related information between the UE
and the network. It is coded as an XML document and contains one or more
of the following information:

\- USSD language

\- USSD string

\- USSD error code as defined in subclause 5.1.3.3 of this specification

\- alerting pattern

NOTE: The information elements cannot be present twice in the XML body.

An instance of the XML document is shown below:

\<?xml version=\"1.0\" encoding=\"UTF-8\"?\>

\<ussd-data\>

\<language\>en\</language\>

\<ussd-string\>\*135\#\</ussd-string\>

\</ussd-data\>

#### 5.1.3.3 Data semantics

\<language\> is coded as defined in IETF RFC 5646 \[12\] and shall
contain exactly one subtag.

\<ussd-string\> is coded as a string.

\<error-code\> is an integer. The following values are defined. If the
received value is not listed below, it must be treated as 1.

1 error - unspecified

2 language/alphabet not supported

3 unexpected data value

4 USSD-busy

\<anyExt\> contains optional extension elements.

\<UnstructuredSS-Request\> element indicates the network initiated
unstructured supplementary service data request.

\<UnstructuredSS-Notify\> element indicates the network initiated
unstructured supplementary service data notify.

\<alertingPattern\> element contains alerting pattern coded as defined
for AlertingPattern in 3GPP TS 29.002 \[15\]. This element is used by
the USSD application in the UE to alert the user in a specific manner in
the case of the network initiated USSD request and the network initiated
USSD notification.

Entity receiving the XML body ignores any unknown XML element and any
unknown XML attribute.

NOTE 1: \"unexpected data value\" is used in case of interworking with
the MAP protocol (i.e. in case such an error is received from the MAP
interface). It is not used for the case where the string sent by the UE
in response to a query from the network does not match any expected
response. Procedures covering such cases are part of the USSD
application handling. The application will usually send back another
USSD string to the UE asking for a new input from the user or indicating
that the transaction cannot be completed.

NOTE 2: Alerting pattern is application level information which can be
present in any network initiated USSI message, including both the
initial network initiated USSI message and any later network initiated
USSI message, sent in the same USSD dialog as the initial network
initiated USSI message. The Alert-Info header field cannot be used as it
is not allowed in SIP INFO request.

#### 5.1.3.4 XML schema

Implementations in compliance with the present document shall implement
the XML schema defined below.

\<?xml version=\"1.0\" encoding=\"UTF-8\"?\>

\<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"

elementFormDefault=\"qualified\"

attributeFormDefault=\"unqualified\"\>

\<xs:element name=\"ussd-data\"\>

\<xs:annotation\>

\<xs:documentation\>

Unstructured Supplementary Services Data

\</xs:documentation\>

\</xs:annotation\>

\<xs:complexType\>

\<xs:sequence\>

\<xs:element name=\"language\" type=\"xs:string\" minOccurs=\"0\"
maxOccurs=\"1\"/\>

\<xs:element name=\"ussd-string\" type=\"xs:string\" minOccurs=\"0\"
maxOccurs=\"1\"/\>

\<xs:element name=\"error-code\" type=\"xs:int\" minOccurs=\"0\"
maxOccurs=\"1\"/\>

\<xs:element name=\"anyExt\" type=\"anyExtType\" minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\</xs:element\>

\<xs:complexType name=\"anyExtType\"\>

\<xs:sequence\>

\<xs:any namespace=\"\#\#any\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\</xs:complexType\>

\<xs:element name=\"UnstructuredSS-Request\" type=\"emptyType\"/\>

\<xs:element name=\"UnstructuredSS-Notify\" type=\"emptyType\"/\>

\<xs:element name=\"alertingPattern\" type=\"xs:unsignedByte\"/\>

\<xs:complexType name=\"emptyType\"/\>

\</xs:schema\>

NOTE: The USSI AS can take the information received in the MIME body,
formulate a MAP USSD message and route the message over SS7 to the USSD
server via the HSS. Alternatively, the USSI AS can extract the USSD
information from the received MIME body, and communicate with USSD
server using other protocol.

#### 5.1.3.4A Further syntax rules of MIME bodies of application/vnd.3gpp.ussd+xml MIME type

If:

\- an \<UnstructuredSS-Request\> element;

\- an \<UnstructuredSS-Notify\> element; or

\- an \<alertingPattern\> element;

is included in a MIME body of the application/vnd.3gpp.ussd+xml MIME
type, the XML element is included in the \<anyExt\> element included in
the \<ussd-data\> root element.

NOTE: The XML elements are validated by the \<xs:any
namespace=\"\#\#any\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\> particle of the \<anyExt\> element.

#### 5.1.3.5 IANA registration

NOTE: RFC 4288 \[9\], subclause 9, states the process that applies in
case of changes to the registry of media types. Any changes to the
format or to subclause 5.1.3.5 after the registration with IANA would
invoke this procedure.

##### 5.1.3.5.1 Name

Frederic Firmin

##### 5.1.3.5.2 Email

frederic.firmin\@etsi.org

##### 5.1.3.5.3 MIME media type name

Application

##### 5.1.3.5.4 MIME subtype name

Vendor Tree -- vnd.3gpp.ussd+xml

##### 5.1.3.5.5 Required parameters

None

##### 5.1.3.5.6 Optional parameters

None

##### 5.1.3.5.7 Encoding considerations

Binary.

##### 5.1.3.5.8 Security considerations

Same as general security considerations for application/xml as specified
in section 10 of IETF RFC 3023 \[10\]. In addition, this content type
provides a format for exchanging information in SIP, so the security
considerations from IETF RFC 3261 \[11\] apply.

The information transported in this MIME media type does not include
active or executable content.

Mechanisms for privacy and intregrity protection of protocol parameters
exist. Those mechanisms as well as authentication and further security
mechanisms are described in 3GPP TS 24.229 \[6\].

##### 5.1.3.5.9 Interoperability considerations

The MIME type allows interoperability of USSD information between mobile
networks and other systems.

##### 5.1.3.5.10 Published specification

3GPP TS 24.390

(<http://www.3gpp.org/ftp/Specs/html-info/24390.htm>)

##### 5.1.3.5.11 Applications which use this media

n/a

##### 5.1.3.5.12 Applications that manipulate MIME typed objects (messaging, download etc.)

n/a

##### 5.1.3.5.13 Additional information

1\. Magic number(s): n/a

2\. File extension(s): n/a

3\. Macintosh file type code: n/a

4\. Object Identifiers: n/a

##### 5.1.3.5.14 Intended usage

Common.

The USSD is a very common service available on most mobile networks. The
registration of the associated MIME type allows the USSD service to be
incorporated in messages from other messaging systems.

##### 5.1.3.5.15 Other information/general comment

n/a

##### 5.1.3.5.16 Person to contact for further information

1\. Name: Frederic Firmin

2\. Email: frederic.firmin\@etsi.org

3\. Author/Change controller: Frederic Firmin

######## Annex A (informative): Signalling flows

A.1 UE sending USSD request, no further information required
============================================================

In the example flow at the figure A.1-1, UE 1 sends a USSD request. The
USSD application does not require further information, the USSD
operation is successful and the USSI AS sends a USSD response towards UE
1.

Figure A.1-1: UE sends USSD request

NOTE: For clarity, the SIP 100 (Trying) responses are not shown in the
signalling flow.

**1. UE-1 sends INVITE request containing the USSD request --- see
example in table A.1-1**

UE sends the INVITE request.

By including the Recv-Info header field, the UE indicates its support
for the g.3gpp.ussd info package.

Table A.1-1: INVITE request (UE-1 to P-CSCF)

> INVITE sip:\*135%23;phone-context=home1.net\@home1.net;user=dialstring
> SIP/2.0
>
> Via: SIP/2.0/UDP \[5555::aaa:bbb:ccc:ddd\]:1357;branch=z9hG4bKnashds7
>
> Max-Forwards: 70
>
> Route: \<sip:pcscf1.visited1.net:7531;lr\>,
> \<sip:scscf1.home1.net;lr\>
>
> Accept-Contact:
> \*;+g.3gpp.icsi-ref=\"urn%3Aurn-7%3gpp-service.ims.icsi.mmtel\"
>
> P-Preferred-Identity: \"John Doe\" \<sip:user1\_public1\@home1.net\>
>
> P-Access-Network-Info: 3GPP-UTRAN-TDD;
> utran-cell-id-3gpp=234151D0FCE11
>
> Privacy: none
>
> From: \<sip:user1\_public1\@home1.net\>;tag=171828
>
> To: \<sip:\*135%23;phone-context=home1.net;user=dialstring\>
>
> Call-ID: cb03a0s09a2sdfglkj490333
>
> Cseq: 127 INVITE
>
> Require: sec-agree
>
> Supported: precondition, 100rel, gruu
>
> Proxy-Require: sec-agree
>
> Security-Verify: ipsec-3gpp; q=0.1; alg=hmac-sha-1-96; ealg=aes-cbc;
> spi-c=98765432; spi-s=87654321; port-c=8642; port-s=7531
>
> Contact: \<sip:user1\_public1\@home1.net;gr=hdg7777ad7aflzig8sf7\>;
> +g.3gpp.icsi-ref=\"urn%3Aurn-7%3gpp-service.ims.icsi.mmtel\"
>
> Allow: INVITE, ACK, CANCEL, BYE, PRACK, UPDATE, REFER, MESSAGE, INFO
>
> Accept: application/sdp; application/3gpp-ims+xml;
> application/vnd.3gpp.ussd+xml
>
> Recv-Info: g.3gpp.ussd
>
> Content-Type: multipart/mixed; boundary=outer
>
> Content-Length: (...)
>
> \--outer
>
> Content-Type: application/sdp
>
> v=0
>
> o=- 2987933615 2987933615 IN IP6 5555::aaa:bbb:ccc:ddd
>
> s=-
>
> c=IN IP6 5555::aaa:bbb:ccc:ddd
>
> t=0 0
>
> m=audio 0 RTP/AVP 97 96
>
> a=rtpmap:97 AMR
>
> a=fmtp:97 mode-set=0,2,5,7; maxframes=2
>
> a=rtpmap:96 telephone-event
>
> \--outer
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>\*135\#\</ussd-string\>
>
> \</ussd-data\>
>
> \--outer---

Request-URI: in this example, the USSD message is \*135\#, and is
represented as a dialstring.

Application/vnd.3gpp.ussd+xml MIME body: USSD message. The content of
the \<ussd-string\> element included in the INVITE message must be equal
to the dialstring inserted in the Request-URI.

**2. INVITE request (P-CSCF to S-CSCF)**

The P-CSCF forwards the INVITE request based on the Route header field.

**3. INVITE request (S-CSCF to USSI AS)**

The S-CSCF forwards the INVITE request containing the USSD message based
on iFC to the USSI AS.

**4. 200 (OK) response (USSI AS to S-CSCF)**

The USSI AS sends a 200 (OK) response confirming the receipt of the
INVITE request and to establish the dialog. The SIP 200 (OK) response
will contain a Recv-Info header field set to g.3gpp.ussd.

**5. 200 (OK) response (S-CSCF to P-CSCF)**

The S-CSCF forwards the 200 (OK) response along the Via header field.

**6. 200 (OK) response (P-CSCF to UE-1)**

The P-CSCF forwards the 200 (OK) response along the Via header field to
the UE.

**7. ACK request (UE-1 to P-CSCF)**

The UE responds to the 200 (OK) response with an ACK request sent to the
P-CSCF.

**8. ACK request (P-CSCF to S-CSCF)**

The P-CSCF forwards the ACK request to the S-CSCF.

**9. ACK request (S-CSCF to USSI AS)**

The S-CSCF forwards the ACK request to the USSI AS.

**10. USSD operation**

The USSI AS performs the requested USSD operation. Details of USSD
processing are outside the scope of this specification.

In this example the USSD operation is successful and a response
indicating success will be sent to the UE.

**11. BYE request (USSI AS to S-CSCF) --- see example in table A.1-2**

Table A.1-2: BYE request (USSI AS to S-CSCF)

> BYE <sip:user1_public1@home1.net;gr=hdg7777ad7aflzig8sf7> SIP/2.0
>
> Via SIP/2.0/UDP <sip:as1.home1.net;branch=z9hG4bK332b23.1>
>
> Max-Forwards: 70
>
> Route: \<<sip:scscf1.home1.net;lr>\>,
> \<sip:pcscf1.visited1.net:7531;lr\>
>
> From: \<tel: +1-237-555-3333\>;tag=314159
>
> To: \<tel:+1-237-555-1111\>;tag=171828
>
> Call-ID: cb03a0s09a2sdfglkj490334
>
> Cseq: 129 BYE
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> Content-Length:
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>
>
> Hello, your credit is \$175.50. Thanks for your query.
>
> We are happy to assist. Your operator
>
> \</ussd-string\>
>
> \</ussd-data\>

Application/vnd.3gpp.ussd+xml MIME body: USSD message.

**12. BYE request (S-CSCF to P-CSCF)**

The S-CSCF forwards the BYE request to the P-CSCF.

**13. BYE request (P-CSCF to UE-1)**

The P-CSCF forwards the BYE request to the UE. The UE recognizes the
application/vnd.3gpp.ussd+xml and displays the string.

**14. 200 (OK) response (UE-1 to P-CSCF)**

The UE sends a 200 (OK) confirming the BYE request.

**15. 200 (OK) response (P-CSCF to S-CSCF)**

The P-CSCF forwards the 200 (OK) to the S-CSCF.

**16. 200 (OK) response (S-CSCF to USSI AS)**

The S-CSCF forwards the 200 (OK) response to USSI AS.

A.2 UE sending USSD request, further information required from network
======================================================================

In the example flow at the figure A.2-1, UE 1 sends a USSD request. The
USSD application requires further information, and UE 1 sends further
information in a USSD request. After the USSD operation is successful,
the USSI AS sends a USSD response towards UE 1.

Figure A.2-1: UE sends USSD request

NOTE: For clarity, the SIP 100 (Trying) responses are not shown in the
signalling flow.

**1. UE A sends INVITE request containing the USSD request --- see
example in table A.2-1**

UE sends the INVITE request.

By including the Recv-Info header field, the UE indicates its support
for the g.3gpp.ussd info package.

Table A.2-1: INVITE request (UE-1 to P-CSCF)

> INVITE sip:\*135%23;phone-context=home1.net\@home1.net;user=dialstring
> SIP/2.0
>
> Via: SIP/2.0/UDP \[5555::aaa:bbb:ccc:ddd\]:1357;branch=z9hG4bKnashds7
>
> Max-Forwards: 70
>
> Route: \<sip:pcscf1.visited1.net:7531;lr\>,
> \<sip:scscf1.home1.net;lr\>
>
> Accept-Contact:
> \*;+g.3gpp.icsi-ref=\"urn%3Aurn-7%3gpp-service.ims.icsi.mmtel\"
>
> P-Preferred-Identity: \"John Doe\" \<sip:user1\_public1\@home1.net\>
>
> P-Access-Network-Info: 3GPP-UTRAN-TDD;
> utran-cell-id-3gpp=234151D0FCE11
>
> Privacy: none
>
> From: \<sip:user1\_public1\@home1.net\>;tag=171828
>
> To: \<sip:\*135%23;phone-context=home1.net;user=dialstring\>
>
> Call-ID: cb03a0s09a2sdfglkj490333
>
> Cseq: 127 INVITE
>
> Require: sec-agree
>
> Supported: precondition, 100rel, gruu
>
> Proxy-Require: sec-agree
>
> Security-Verify: ipsec-3gpp; q=0.1; alg=hmac-sha-1-96; ealg=aes-cbc;
> spi-c=98765432; spi-s=87654321; port-c=8642; port-s=7531
>
> Contact: \<sip:user1\_public1\@home1.net;gr=hdg7777ad7aflzig8sf7\>;
> +g.3gpp.icsi-ref=\"urn%3Aurn-7%3gpp-service.ims.icsi.mmtel\"
>
> Allow: INVITE, ACK, CANCEL, BYE, PRACK, UPDATE, REFER, MESSAGE, INFO
>
> Accept: application/sdp; application/3gpp-ims+xml;
> application/vnd.3gpp.ussd+xml
>
> Recv-Info: g.3gpp.ussd
>
> Content-Type: multipart/mixed; boundary=outer
>
> Content-Length: (...)
>
> \--outer
>
> Content-Type: application/sdp
>
> v=0
>
> o=- 2987933615 2987933615 IN IP6 5555::aaa:bbb:ccc:ddd
>
> s=-
>
> c=IN IP6 5555::aaa:bbb:ccc:ddd
>
> t=0 0
>
> m=audio 0 RTP/AVP 97 96
>
> a=rtpmap:97 AMR
>
> a=fmtp:97 mode-set=0,2,5,7; maxframes=2
>
> a=rtpmap:96 telephone-event
>
> \--outer
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>\*135\#\</ussd-string\>
>
> \</ussd-data\>
>
> \--outer---

Request-URI: in this example, the USSD message is \*135\#, and is
represented as a dialstring.

Application/vnd.3gpp.ussd+xml MIME body: USSD message. The content of
the \<ussd-string\> element in the INVITE message must be equal to the
dialstring inserted in the Request-URI.

**2. INVITE request (P-CSCF to S-CSCF)**

The P-CSCF forwards the INVITE request based on the Route header field.

**3. INVITE request (S-CSCF to USSI AS)**

The S-CSCF forwards the INVITE request containing the USSD message based
on iFC to the USSI AS.

**4. 200 (OK) response (USSI AS to S-CSCF)**

The USSI AS sends a 200 (OK) response confirming the receipt of the
INVITE request and to establish the dialog. The SIP 200 (OK) response
will contain a Recv-Info header field set to g.3gpp.ussd.

**5. 200 (OK) response (S-CSCF to P-CSCF)**

The S-CSCF forwards the 200 (OK) response along the Via header field.

**6. 200 (OK) response (P-CSCF to UE-1)**

The P-CSCF forwards the 200 (OK) response along the Via header field to
the UE.

**7. ACK request (UE-1 to P-CSCF)**

The UE responds to the 200 (OK) response with an ACK request sent to the
P-CSCF.

**8. ACK request (P-CSCF to S-CSCF)**

The P-CSCF forwards the ACK request to the S-CSCF.

**9. ACK request (S-CSCF to USSI AS)**

The S-CSCF forwards the ACK request to the USSI AS.

**10. USSD operation**

The USSI AS performs the requested USSD operation. Details of USSD
processing are outside the scope of this specification.

In this example, the USSI AS requires further information from the UE.

**11-13. INFO request (USSI AS to UE) - see example in table A.2-11**

Table A.2-11: INFO request (USSI AS to S-CSCF)

> INFO sip:user1\_public1\@home1.net;gr=hdg7777ad7aflzig8sf7 SIP/2.0
>
> Via: SIP/2.0/UDP ussias.home1.net:6677;branch=z9hG4bKnashds75454
>
> Max-Forwards: 70
>
> Route: \<sip:scscf1.home1.net:46545;lr\>,
> \<sip:pcscf1.visited1.net:7531;lr\>
>
> From:
> \<sip:\*135%23;phone-context=home1.net;user=dialstring\>;tag=t45543543
>
> To: \<sip:user1\_public1\@home1.net\>;tag=171828
>
> Call-ID: cb03a0s09a2sdfglkj490333
>
> Cseq: 4665 INFO
>
> Info-Package: g.3gpp.ussd
>
> Content-Length: (...)
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> Content-Disposition: Info-Package
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>
>
> Enter password:
>
> \</ussd-string\>
>
> \</ussd-data\>

**14-16. 200 (OK) response (UE-1 to USSI AS)**

> The UE sends a SIP 200 (OK) response to the USSI AS confirming the SIP
> INFO request.

**17-19. INFO request (UE-1 to USSI AS) - see example in table A.2-17**

> The UE sends the SIP INFO request containing the further USSD
> information required.

Table A.2-17: INFO request (UE to P-CSCF)

> INFO sip:ussias.home1.net:12456 SIP/2.0
>
> Via: SIP/2.0/UDP
> \[5555::aaa:bbb:ccc:ddd\]:1357;branch=z9hG4bKnashds76565465
>
> Max-Forwards: 70
>
> Route: \<sip:pcscf1.visited1.net:7531;lr\>,
> \<sip:scscf1.home1.net;lr\>, \<ussias.home1.net:6677;lr\>
>
> From: \<sip:user1\_public1\@home1.net\>;tag=171828
>
> To:
> \<sip:\*135%23;phone-context=home1.net;user=dialstring\>;tag=t45543543
>
> Call-ID: cb03a0s09a2sdfglkj490333
>
> Cseq: 128 INFO
>
> Info-Package: g.3gpp.ussd
>
> Content-Length: (...)
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> Content-Disposition: Info-Package
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>
>
> zAyEx1973
>
> \</ussd-string\>
>
> \</ussd-data\>

**20-21. 200 (OK) response (USSI AS to UE-1)**

> The AS sends a SIP 200 (OK) response to the UE confirming the SIP INFO
> request.

**23. USSD operation**

The USSI AS performs the requested USSD operation. Details of USSD
processing are outside the scope of this specification.

In this example, the USSD operation is successful and USSI AS sends a
response indicating success will be sent to the UE.

**24-26 BYE request (USSI AS -- UE-1) --- see example in table A.2-24**

The AS sends a SIP BYE request towards UE containing a USSD response.

Table A.2-24: BYE request (USSI AS to S-CSCF)

> BYE <sip:user1_public1@home1.net;gr=hdg7777ad7aflzig8sf7> SIP/2.0
>
> Via SIP/2.0/UDP <sip:as1.home1.net;branch=z9hG4bK332b23.1>
>
> Max-Forwards: 70
>
> Route: \<<sip:scscf1.home1.net;lr>\>,
> \<sip:pcscf1.visited1.net:7531;lr\>
>
> From: \<tel: +1-237-555-3333\>;tag=314159
>
> To: \<tel:+1-237-555-1111\>;tag=171828
>
> Call-ID: cb03a0s09a2sdfglkj490334
>
> Cseq: 129 BYE
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> Content-Length:
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>
>
> Hello, your credit is \$175.50. Thanks for your query.
>
> We are happy to assist. Your operator
>
> \</ussd-string\>
>
> \</ussd-data\>

Application/vnd.3gpp.ussd+xml MIME body: USSD message.

**27-29. 200 (OK) response (UE to USSI AS)**

The UE sends a 200 (OK) response to the USSI AS confirming the BYE
request.

A.3 USSI AS sending USSD request, no further information required
=================================================================

In the example flow at the figure A.3-1, the USSI AS sends a USSD
request. The UE does not require further information, the USSD operation
is successful and the UE hosting the USSD application indicates sends a
USSD response towards USSI AS.

Figure A.3-1: USSI AS sends USSD request

NOTE: For clarity, the SIP 100 (Trying) responses are not shown in the
signalling flow.

**1. USSI AS sends INVITE request containing the USSD request --- see
example in table A.3-1**

As a result of some associated procedure between the user and the
network, a need is seen to request confirmation using USSD.

USSI AS sends the INVITE request.

By including the Recv-Info header field, the USSI AS indicates its
support for the g.3gpp.ussd info package.

Table A.3-1: INVITE request (USSI AS to S-CSCF)

> INVITE sip:user1\_public1\@home1.net SIP/2.0
>
> Via: SIP/2.0/UDP \[5555::aaa:bbb:ccc:ddd\]:1357;branch=z9hG4bKnashds7
>
> Max-Forwards: 70
>
> Route: \<sip:pcscf1.visited1.net:7531;lr\>,
> \<sip:scscf1.home1.net;lr\>
>
> Accept-Contact:
> \*;+g.3gpp.icsi-ref=\"urn%3Aurn-7%3gpp-service.ims.icsi.mmtel\"
>
> P-Preferred-Identity: \"John Doe\" \<sip:user1\_public1\@home1.net\>
>
> P-Access-Network-Info: 3GPP-UTRAN-TDD;
> utran-cell-id-3gpp=234151D0FCE11
>
> Privacy: none
>
> From: \<sip:ussias\_public1\@home1.net\>;tag=171828
>
> To: \<sip:user1\_public1\@home1.net\>
>
> Call-ID: cb03a0s09a2sdfglkj490333
>
> Cseq: 127 INVITE
>
> Supported: precondition, 100rel
>
> Contact: \<ussias\_public1\@home1.net;
>
> Allow: INVITE, ACK, CANCEL, BYE, PRACK, UPDATE, REFER, MESSAGE, INFO
>
> Accept: application/sdp; application/3gpp-ims+xml;
> application/vnd.3gpp.ussd+xml
>
> Recv-Info: g.3gpp.ussd
>
> Content-Type: multipart/mixed; boundary=outer
>
> Content-Length: (...)
>
> \--outer
>
> Content-Type: application/sdp
>
> v=0
>
> o=- 2987933615 2987933615 IN IP6 5555::aaa:bbb:ccc:ddd
>
> s=-
>
> c=IN IP6 5555::aaa:bbb:ccc:ddd
>
> t=0 0
>
> m=audio 0 RTP/AVP 97 96
>
> a=rtpmap:97 AMR
>
> a=fmtp:97 mode-set=0,2,5,7; maxframes=2
>
> a=rtpmap:96 telephone-event
>
> \--outer
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>Please verify you want require this service. If yes
> please enter PIN\</ussd-string\>
>
> \<anyExt\>
>
> \<UnstructuredSS-Request/\>
>
> \<alertingPattern\>0\</alertingPattern\>
>
> \</anyExt\>
>
> \</ussd-data\>
>
> \--outer---

Application/vnd.3gpp.ussd+xml MIME body: USSD message. The content of
the \<ussd-string\> element included in the INVITE message must be equal
to the dialstring inserted in the Request-URI.

**2. INVITE request (S-CSCF to P-CSCF)**

The S-CSCF forwards the INVITE request based on the Request-URI field.

**3. INVITE request (P-CSCF to UE-1)**

The P-CSCF forwards the INVITE request containing the USSD message to
the UE.

**4. 200 (OK) response (UE-1 to P-CSCF)**

The UE sends a 200 (OK) response confirming the receipt of the INVITE
request and to establish the dialog. The SIP 200 (OK) response will
contain a Recv-Info header field set to g.3gpp.ussd.

**5. 200 (OK) response (P-CSCF to S-CSCF)**

The P-CSCF forwards the 200 (OK) response along the Via header field.

**6. 200 (OK) response (S-CSCF to USSI AS)**

The S-CSCF forwards the 200 (OK) response along the Via header field to
the USSI AS.

**7. ACK request (USSI AS to S-CSCF)**

The USSI AS responds to the 200 (OK) response with an ACK request sent
to the S-CSCF.

**8. ACK request (S-CSCF to P-CSCF)**

The S-CSCF forwards the ACK request to the P-CSCF.

**9. ACK request (P-CSCF to UE-1)**

The P-CSCF forwards the ACK request to the UE.

**10. USSD operation**

The UE performs the requested USSD operation. Details of USSD processing
and associated MMI are outside the scope of this specification.

In this example the USSD operation is successful and a response
indicating success will be sent to the USSI AS.

**11. INFO request (UE1 to P-CSCF) --- see example in table A.3-2**

Table A.1-2: INFO request (UE-1 to P-CSCF)

> INFO sip:ussias\_public1\@home1.net SIP/2.0
>
> Via SIP/2.0/UDP sip:user\_1.home1.net;branch=z9hG4bK332b23.1
>
> Max-Forwards: 70
>
> Route: \<[sip:pcscf1.home1.net;lr](sip:scscf1.home1.net;lr)\>,
> \<sip:scscf1.visited1.net:7531;lr\>
>
> From: \<user\_1\@home1.net;tag=314159
>
> To: \<ussias\_public1\@home1.net;tag=171828
>
> Call-ID: cb03a0s09a2sdfglkj490334
>
> Cseq: 129 INFO
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> Content-Length:
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>
>
> Yes
>
> \</ussd-string\>
>
> \<anyExt\>\<UnstructuredSS-Request/\>\</anyExt\>
>
> \</ussd-data\>

Application/vnd.3gpp.ussd+xml MIME body: USSD message.

**12. INFO request (P-CSCF to S-CSCF)**

The P-CSCF forwards the INFO request to the S-CSCF.

**13. INFO request (S-CSCF to USSI AS)**

The S-CSCF forwards the INFO request to the USSI AS. The USSI AS
recognizes the application/vnd.3gpp.ussd+xml.

**14. 200 (OK) response (USSI AS to S-CSCF)**

The USSI AS sends a 200 (OK) response confirming the INFO request.

**15. 200 (OK) response (S-CSCF to P-CSCF)**

The S-CSCF forwards the 200 (OK) response to the P-CSCF.

**16. 200 (OK) response (P-CSCF to UE-1)**

The P-CSCF forwards the 200 (OK) response to the UE.

**17. BYE request (USSI AS to S-CSCF)**

The USSI AS considers the transaction complete and sends a BYE request.

**18. BYE request (S-CSCF to P-CSCF)**

The S-CSCF forwards the BYE request to the P-CSCF.

**19. BYE request (P-CSCF to UE)**

The P-CSCF forwards the BYE request to the UE.

**20. 200 (OK) response (UE to P-CSCF)**

The UE responds to the BYE request with a 200 (OK) response.

**21. 200 (OK) response (P-CSCF to S-CSCF)**

The P-CSCF forwards to the 200 (OK) response to the S-CSCF.

**22. 200 (OK) response (S-CSCF to USSI AS)**

The S-CSCF forwards the 200 (OK) response to the USSI AS.

A.4 USSI AS sending USSD request, further information required from network
===========================================================================

In the example flow at the figure A.4-1, the USSI AS sends a USSD
request. The USSD application in the UE requires further information,
and the USSI AS sends further information in a USSD request. After the
USSD operation is successful, the UE hosting the USSD application sends
a USSD response towards the USSI AS.

Figure A.2-1: USSI AS sends USSD request

NOTE: For clarity, the SIP 100 (Trying) responses are not shown in the
signalling flow.

**1. USSI AS sends INVITE request containing the USSD request --- see
example in table A.4-1**

As a result of some associated procedure between the user and the
network, a need is seen to request a password using USSD.

USSI AS sends the INVITE request.

By including the Recv-Info header field, the USSI AS indicates its
support for the g.3gpp.ussd info package.

Table A.4-1: INVITE request (USSI AS to S-CSCF)

> INVITE sip:user1\_public1\@home1.net SIP/2.0
>
> Via: SIP/2.0/UDP \[5555::aaa:bbb:ccc:ddd\]:1357;branch=z9hG4bKnashds7
>
> Max-Forwards: 70
>
> Route: \<sip:pcscf1.visited1.net:7531;lr\>,
> \<sip:scscf1.home1.net;lr\>
>
> Accept-Contact:
> \*;+g.3gpp.icsi-ref=\"urn%3Aurn-7%3gpp-service.ims.icsi.mmtel\"
>
> P-Preferred-Identity: \"John Doe\" \<sip:user1\_public1\@home1.net\>
>
> P-Access-Network-Info: 3GPP-UTRAN-TDD;
> utran-cell-id-3gpp=234151D0FCE11
>
> Privacy: none
>
> From: \<sip:ussias\_public1\@home1.net\>;tag=171828
>
> To: \<sip:user1\_public1\@home1.net\>
>
> Call-ID: cb03a0s09a2sdfglkj490333
>
> Cseq: 127 INVITE
>
> Supported: precondition, 100rel
>
> Contact: \<ussias\_public1\@home1.net;
>
> Allow: INVITE, ACK, CANCEL, BYE, PRACK, UPDATE, REFER, MESSAGE, INFO
>
> Accept: application/sdp; application/3gpp-ims+xml;
> application/vnd.3gpp.ussd+xml
>
> Recv-Info: g.3gpp.ussd
>
> Content-Type: multipart/mixed; boundary=outer
>
> Content-Length: (...)
>
> \--outer
>
> Content-Type: application/sdp
>
> v=0
>
> o=- 2987933615 2987933615 IN IP6 5555::aaa:bbb:ccc:ddd
>
> s=-
>
> c=IN IP6 5555::aaa:bbb:ccc:ddd
>
> t=0 0
>
> m=audio 0 RTP/AVP 97 96
>
> a=rtpmap:97 AMR
>
> a=fmtp:97 mode-set=0,2,5,7; maxframes=2
>
> a=rtpmap:96 telephone-event
>
> \--outer
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>Please verify you want require this
> service\</ussd-string\>
>
> \<anyExt\>
>
> \<UnstructuredSS-Request/\>
>
> \<alertingPattern\>0\</alertingPattern\>
>
> \</anyExt\>
>
> \</ussd-data\>
>
> \--outer---

Application/vnd.3gpp.ussd+xml MIME body: USSD message. The content of
the \<ussd-string\> element in the INVITE message must be equal to the
dialstring inserted in the Request-URI.

**2. INVITE request (S-CSCF to P-CSCF)**

The S-CSCF forwards the INVITE request based on the Route header field.

**3. INVITE request (P-CSCF to UE-1)**

The P-CSCF forwards the INVITE request containing the USSD message to
the UE.

**4. 200 (OK) response (UE-1 to P-CSCF)**

The UE sends a 200 (OK) response confirming the receipt of the INVITE
request and to establish the dialog. The SIP 200 (OK) response will
contain a Recv-Info header field set to g.3gpp.ussd.

**5. 200 (OK) response (P-CSCF to S-CSCF)**

The P-CSCF forwards the 200 (OK) response along the Via header field.

**6. 200 (OK) response (S-CSCF to USSI AS)**

The S-CSCF forwards the 200 (OK) response along the Via header field to
the USSI AS.

**7. ACK request (USSI AS to S-CSCF)**

The USSI AS responds to the 200 (OK) response with an ACK request sent
to the S-CSCF.

**8. ACK request (S-CSCF to P-CSCF)**

The S-CSCF forwards the ACK request to the P-CSCF.

**9. ACK request (P-CSCF to UE-1)**

The P-CSCF forwards the ACK request to the UE.

**10. USSD operation**

The UE performs the requested USSD operation. Details of USSD processing
are outside the scope of this specification.

In this example, the UE requires further information from the USSI AS.

**11-13. INFO request (UE-1 to USSI AS) - see example in table A.4-11**

Table A.4-11: INFO request (UE-1 to P-CSCF)

> INFO sip:ussias\_public1\@home1.net;gr=hdg7777ad7aflzig8sf7 SIP/2.0
>
> Via: SIP/2.0/UDP ussias.home1.net:6677;branch=z9hG4bKnashds75454
>
> Max-Forwards: 70
>
> Route: \<sip:scscf1.home1.net:46545;lr\>,
> \<sip:pcscf1.visited1.net:7531;lr\>
>
> From: \<sip:user1\_public1\@home1.net\>;tag=t45543543
>
> To: \<sip:ussias\_public1\@home1.net\>;tag=171828
>
> Call-ID: cb03a0s09a2sdfglkj490333
>
> Cseq: 4665 INFO
>
> Info-Package: g.3gpp.ussd
>
> Content-Length: (...)
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> Content-Disposition: Info-Package
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>
>
> PIN:3663
>
> \<anyExt\>\<UnstructuredSS-Request/\>\</anyExt\>
>
> \</ussd-string\>
>
> \</ussd-data\>

**14-16. 200 (OK) response (USSI AS to UE-1)**

The USSI AS sends a SIP 200 (OK) response to the AS confirming the SIP
INFO request.

**17-19. INFO request (USSI AS to UE) - see example in table A.4-17**

The USSI AS sends the SIP INFO request containing the further USSD
information required.

Table A.4-17: INFO request (USSI AS to S-CSCF)

> INFO sip:user1\_public1\@home1.net SIP/2.0
>
> Via: SIP/2.0/UDP
> \[5555::aaa:bbb:ccc:ddd\]:1357;branch=z9hG4bKnashds76565465
>
> Max-Forwards: 70
>
> Route: \<sip:pcscf1.visited1.net:7531;lr\>,
> \<sip:scscf1.home1.net;lr\>, \<ussias.home1.net:6677;lr\>
>
> From: \<sip:ussias\_public1\@home1.net\>;tag=171828
>
> To: \<sip:user1\_public1\@home1.net\>;tag=t45543543
>
> Call-ID: cb03a0s09a2sdfglkj490333
>
> Cseq: 128 INFO
>
> Info-Package: g.3gpp.ussd
>
> Content-Length: (...)
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> Content-Disposition: Info-Package
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>
>
> Thankyou
>
> \</ussd-string\>
>
> \<anyExt\>\<UnstructuredSS-Request/\>\</anyExt\>
>
> \</ussd-data\>

**20-21. 200 (OK) response (UE-1 to USSI AS)**

The UE sends a SIP 200 (OK) response to the USSI AS confirming the SIP
INFO request.

**23. USSD operation**

The UE performs the requested USSD operation. Details of USSD processing
are outside the scope of this specification.

In this example, the USSD operation is successful and the UE sends a
response indicating success will be sent to the USSI AS.

**24-26 INFO request (UE-1 -- USSI AS) --- see example in table A.4-24**

The UE sends a SIP INFO request towards USSI AS containing a USSD
response.

Table A.4-24: INFO request (UE-1 to P-CSCF)

> INFO sip:ussias\_public1\@home1.net SIP/2.0
>
> Via SIP/2.0/UDP <sip:as1.home1.net;branch=z9hG4bK332b23.1>
>
> Max-Forwards: 70
>
> Route: \<[sip:pcscf1.visited1.net;lr](sip:scscf1.home1.net;lr)\>,
> \<sip:scscf1.home1.net:7531;lr\>
>
> From: \<sip:ussias\_public1\@home1.net\>;tag=314159
>
> To: \<sip:user1\_public1\@home1.net\>;tag=171828
>
> Call-ID: cb03a0s09a2sdfglkj490334
>
> Cseq: 129 INFO
>
> Content-Type: application/vnd.3gpp.ussd+xml
>
> Content-Length:
>
> \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>
>
> \<ussd-data\>
>
> \<language\>en\</language\>
>
> \<ussd-string\>
>
> No further business
>
> \</ussd-string\>
>
> \<anyExt\>\<UnstructuredSS-Request/\>\</anyExt\>
>
> \</ussd-data\>

Application/vnd.3gpp.ussd+xml MIME body: USSD message.

**27-29. 200 (OK) response (USSI AS to UE-1)**

The USSI AS sends a 200 (OK) response to the UE confirming the INFO
request.

**30. BYE request (USSI AS to S-CSCF)**

The USSI AS considers the transaction complete and sends a BYE request.

**31. BYE request (S-CSCF to P-CSCF)**

The S-CSCF forwards the BYE request to the P-CSCF.

**32. BYE request (P-CSCF to UE)**

The P-CSCF forwards the BYE request to the UE.

**33. 200 (OK) response (UE to P-CSCF)**

The UE responds to the BYE request with a 200 (OK) response.

**34. 200 (OK) response (P-CSCF to S-CSCF)**

The P-CSCF forwards to the 200 (OK) response to the S-CSCF.

**35. 200 (OK) response (S-CSCF to USSI AS)**

The S-CSCF forwards the 200 (OK) response to the USSI AS.

######## Annex B (normative): Media feature tags defined within the current document

B.1 General
===========

This subclause describes the media feature tag definitions that are
applicable for the 3GPP IM CN subsystem for the realisation of USSD
using IMS.

B.2 Definition of media feature tag g.3gpp.nw-init-ussi
=======================================================

Media feature-tag name: g.3gpp.nw-init-ussi

ASN.1 Identifier: 1.3.6.1.8.2.26

Summary of the media feature indicated by this tag: This feature-tag
indicates support of user equipment procedures for the network initiated
USSD over IMS.

Value appropriate for use with this feature-tag: boolean.

The feature-tag is intended primarily for use in the following
applications, protocols, services, or negotiation mechanisms: This
feature-tag is most useful in a communications application, for
describing the capabilities of a device, such as a phone or PDA.

Examples of typical use: Indicating that a mobile phone supports the
network initiated USSD over IMS.

Related standards or documents: 3GPP TS 24.390: \"Unstructured
Supplementary Service Data (USSD) using IP Multimedia (IM) Core Network
(CN) subsystem IMS; Stage 3\".

Security Considerations: Security considerations for this media
feature-tag are discussed in subclause 12.1 of IETF RFC 3840.

######## Annex C (normative): IP-Connectivity Access Network specific concepts when using GPRS to access IM CN subsystem

C.1 Scope
=========

The present annex defines IP-CAN specific requirements for a
Unstructured Supplementary Service Data (USSD) using IP Multimedia (IM)
Core Network (CN) subsystem IMS, where the IP-CAN is General Packet
Radio Service (GPRS).

C.2 Application usage of SIP
============================

C.2.1 Procedures at the UE
--------------------------

### C.2.1.1 3GPP PS data off

#### C.2.1.1.1 General

The UE may support the 3GPP PS data off.

If the UE supports the 3GPP PS data off:

1\) the UE can be configured with up to two indications whether the USSI
is a 3GPP PS data off exempt service, one indication is valid for the UE
camping in the HPLMN or the EHPLMN, and the other indication is valid
for any VPLMN the UE is roaming in; and

2\) the UE may support being configured with the indications whether the
USSI is a 3GPP PS data off exempt service using one or more of the
following methods:

a\) the EF~3GPPPSDATAOFF~ file described in 3GPP TS 31.102 \[18\];

b\) the USSI\_exempt node of 3GPP TS 24.391 \[13\], if the UE is in the
HPLMN or the EHPLMN; and

c\) the USSI\_roaming\_exempt node of 3GPP TS 24.391 \[13\], if the UE
is in the VPLMN.

If the UE is configured with both the USSI\_exempt node of
3GPP TS 24.391 \[13\] and the EF~3GPPPSDATAOFF~ file described in
3GPP TS 31.102 \[18\], then EF~3GPPPSDATAOFF~ file shall take
precedence.

If the UE is configured with both the USSI\_roaming\_exempt node of
3GPP TS 24.391 \[13\] and the EF~3GPPPSDATAOFF~ file described in
3GPP TS 31.102 \[18\], then EF~3GPPPSDATAOFF~ file shall take
precedence.

When the UE is only configured with the indication valid for the UE
camping in the HPLMN or the EHPLMN, the UE shall use this indication
also when the UE is in the VPLMN.

#### C.2.1.1.2 Enforcement

If the 3GPP PS data off status is \"active\", and the UE is not
configured with indication that USSI is a 3GPP PS data off exempt
service:

1\) the UE shall terminate according to 3GPP TS 24.229 \[6\] any SIP
dialog established according to subclause 4.5.4 or subclause 4.5.5 with
a UE\'s contact address containing an IP address associated with a GPRS
IP-CAN bearer;

2\) the UE shall not invoke the procedures in subclause 4.5.4 with a
UE\'s contact address containing an IP address associated with a GPRS
IP-CAN bearer; and

NOTE 1: If the UE doesn\'t invoke the procedures in subclause 4.5.4 due
to conditions as described in bullet 2, the UE can attempt a request for
an equivalent service via the CS domain -- if supported and available --
and, otherwise, the UE can attempt the service according to
3GPP TS 24.229 \[13\] and as described in subclause 4.5.4 via non-3GPP
access.

3\) if the UE registered a binding with IM CN subsystem, such that:

a\) the contact address of the binding contains an IP address associated
with a GPRS IP-CAN bearer; and

b\) the Contact header field of the binding contains the
g.3gpp.nw-init-ussi media feature tag;

then:

a\) the UE shall de-register the binding of a UE\'s contact address
containing an IP address associated with a GPRS IP-CAN bearer from IM CN
subsystem according to 3GPP TS 24.229 \[6\]; or

b\) the UE shall re-register the binding of a UE\'s contact address
containing an IP address associated with a GPRS IP-CAN bearer with IM CN
subsystem with a Contact header field not including the
g.3gpp.nw-init-ussi media feature tag according to 3GPP TS 24.229 \[6\].

NOTE 2: Which of the bullets a), and b) the UE performs is influenced by
other 3GPP PS data off exempt services.

C.2.2 Procedures at the USSI AS
-------------------------------

### C.2.2.1 3GPP PS data off

An USSI AS supporting the 3GPP PS data off can be configured with up to
two values of whether USSI is a 3GPP PS data off exempt service, one
value is valid for non-roaming users, and the other value is valid for
users roaming in the various VPLMNs with whom roaming agreements exist.

When the USSI AS is only configured with the indication whether USSI is
a 3GP PS data off exempt service for the UE camping in the HPLMN or the
EHPLMN, the USSI AS shall use this indication also when the UE is in the
VPLMN.

If the USSI AS supports the 3GPP PS data off, the USSI AS shall support
obtaining registration state information from a received third-party SIP
REGISTER request including information contained in the body of the
third-party SIP REGISTER request as specified in 3GPP TS 24.229 \[6\],
of the served UE.

If a received registration state information of the served UE indicates
a Contact header field with the g.3gpp.ps-data-off media feature tag
with the \"active\" value, and the USSI AS is not configured with
indication that USSI is a 3GPP PS data off exempt service for the served
UE then the USSI AS shall not invoke the procedures in subclause 4.5.5
which send a SIP request towards a contact address (or via a
registration flow) of the served UE such that the contact address (or
the registration flow) was registered or re-registered by a SIP REGISTER
request with a P-Access-Network-Info header field with
\"3GPP-GERAN\",\"3GPP-UTRAN\", \"3GPP-E-UTRAN\" or \"3GPP-NR\" access
class and with the \"network-provided\" header field parameter.

######## Annex D (normative): IP-Connectivity Access Network specific concepts when using EPS to access IM CN subsystem

D.1 Scope
=========

The present annex defines IP-CAN specific requirements for a
Unstructured Supplementary Service Data (USSD) using IP Multimedia (IM)
Core Network (CN) subsystem IMS, where the IP-CAN is the Evolved Packet
System (EPS).

D.2 Application usage of SIP
============================

D.2.1 Procedures at the UE
--------------------------

### D.2.1.1 3GPP PS data off

#### D.2.1.1.1 General

The requirements in subclause C.2.1.1.1 apply.

#### D.2.1.1.2 Enforcement

If the 3GPP PS data off status is \"active\", and the UE is not
configured with indication that USSI is a 3GPP PS data off exempt
service:

1\) the UE shall terminate according to 3GPP TS 24.229 \[6\] any SIP
dialog established according to subclause 4.5.4 or subclause 4.5.5 with
a UE\'s contact address containing an IP address associated with an EPS
IP-CAN bearer;

2\) the UE shall not invoke the procedures in subclause 4.5.4 with a
UE\'s contact address containing an IP address associated with an EPS
IP-CAN bearer; and

NOTE 1: If the UE doesn\'t invoke the procedures in subclause 4.5.4 due
to conditions as described in bullet 2, the UE can attempt a request for
an equivalent service via the CS domain -- if supported and available --
and, otherwise, the UE can attempt the service according to
3GPP TS 24.229 \[13\] and as described in subclause 4.5.4 via non-3GPP
access.

3\) if the UE registered a binding with IM CN subsystem, such that:

a\) the contact address of the binding contains an IP address associated
with an EPS IP-CAN bearer; and

b\) the Contact header field of the binding contains the
g.3gpp.nw-init-ussi media feature tag;

then:

a\) the UE shall de-register the binding of a UE\'s contact address
containing an IP address associated with an EPS IP-CAN bearer from IM CN
subsystem according to 3GPP TS 24.229 \[6\]; or

b\) the UE shall re-register the binding of a UE\'s contact address
containing an IP address associated with an EPS IP-CAN bearer with IM CN
subsystem with a Contact header field not including the
g.3gpp.nw-init-ussi media feature tag according to 3GPP TS 24.229 \[6\].

NOTE 2: Which of the bullets a), and b) the UE performs is influenced by
other 3GPP PS data off exempt services.

D.2.2 Procedures at the USSI AS
-------------------------------

### D.2.2.1 3GPP PS data off

The requirements in subclause C.2.2.1 apply.

######## Annex E (normative): IP-Connectivity Access Network specific concepts when using 5GS to access IM CN subsystem

E.1 Scope
=========

The present annex defines IP-CAN specific requirements for a
Unstructured Supplementary Service Data (USSD) using IP Multimedia (IM)
Core Network (CN) subsystem IMS, where the IP-CAN is the 5G System
(5GS).

E.2 Application usage of SIP
============================

E.2.1 Procedures at the UE
--------------------------

### E.2.1.1 3GPP PS data off

#### E.2.1.1.1 General

The requirements in subclause C.2.1.1.1 apply.

#### E.2.1.1.2 Enforcement

If the 3GPP PS data off status is \"active\", and the UE is not
configured with indication that USSI is a 3GPP PS data off exempt
service:

1\) the UE shall terminate according to 3GPP TS 24.229 \[6\] any SIP
dialog established according to subclause 4.5.4 or subclause 4.5.5 with
a UE\'s contact address containing an IP address associated with a 5GS
QoS flow using NG-RAN;

2\) the UE shall not invoke the procedures in subclause 4.5.4 with a
UE\'s contact address containing an IP address associated with a 5GS QoS
flow using NG-RAN; and

NOTE 1: If the UE doesn\'t invoke the procedures in subclause 4.5.4 due
to conditions as described in bullet 2, the UE can attempt a request for
an equivalent service via the CS domain -- if supported and available --
and, otherwise, the UE can attempt the service according to
3GPP TS 24.229 \[13\] and as described in subclause 4.5.4 via non-3GPP
access.

3\) if the UE registered a binding with IM CN subsystem, such that:

a\) the contact address of the binding contains an IP address associated
with a 5GS QoS flow using NG-RAN; and

b\) the Contact header field of the binding contains the
g.3gpp.nw-init-ussi media feature tag;

then:

a\) the UE shall de-register the binding of a UE\'s contact address
containing an IP address associated with a 5GS QoS flow using NG-RAN
from IM CN subsystem according to 3GPP TS 24.229 \[6\]; or

b\) the UE shall re-register the binding of a UE\'s contact address
containing an IP address associated with a 5GS QoS flow using NG-RAN
with IM CN subsystem with a Contact header field not including the
g.3gpp.nw-init-ussi media feature tag according to 3GPP TS 24.229 \[6\].

NOTE 2: Which of the bullets a), and b) the UE performs is influenced by
other 3GPP PS data off exempt services.

E.2.2 Procedures at the USSI AS
-------------------------------

### E.2.2.1 3GPP PS data off

The requirements in subclause C.2.2.1 apply.

######## Annex F (informative): Change history

+-------+-------+-------+-------+-------+-------+-------+-------+
| **C   |       |       |       |       |       |       |       |
| hange |       |       |       |       |       |       |       |
| hist  |       |       |       |       |       |       |       |
| ory** |       |       |       |       |       |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| **D   | **TSG | **TSG | *     | **    | **Su  | **    | **    |
| ate** |  \#** | D     | *CR** | Rev** | bject | Old** | New** |
|       |       | oc.** |       |       | /Comm |       |       |
|       |       |       |       |       | ent** |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    |       |       |       |       | Ve    | 0.0.0 |       |
| 11-04 |       |       |       |       | rsion |       |       |
|       |       |       |       |       | 0.0.0 |       |       |
|       |       |       |       |       | TS    |       |       |
|       |       |       |       |       | Ske   |       |       |
|       |       |       |       |       | leton |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    |       |       |       |       | Con   | 0.0.0 | 0.1.0 |
| 11-05 |       |       |       |       | tains |       |       |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | greed |       |       |
|       |       |       |       |       | P-CRs |       |       |
|       |       |       |       |       | from  |       |       |
|       |       |       |       |       | CT1   |       |       |
|       |       |       |       |       | \#71: |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 2245, |       |       |
|       |       |       |       |       | C1-1  |       |       |
|       |       |       |       |       | 12246 |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    |       |       |       |       | Con   | 0.1.0 | 0.2.0 |
| 11-07 |       |       |       |       | tains |       |       |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | greed |       |       |
|       |       |       |       |       | P-CRs |       |       |
|       |       |       |       |       | from  |       |       |
|       |       |       |       |       | CT1   |       |       |
|       |       |       |       |       | \#72: |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 2934, |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 2935, |       |       |
|       |       |       |       |       | C1-1  |       |       |
|       |       |       |       |       | 12956 |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    |       |       |       |       | Con   | *0    | *0    |
| 11-09 |       |       |       |       | tains | .2.0* | .3.0* |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | greed |       |       |
|       |       |       |       |       | P-CRs |       |       |
|       |       |       |       |       | from  |       |       |
|       |       |       |       |       | CT1   |       |       |
|       |       |       |       |       | \#73: |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 3450, |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 3451, |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 3590, |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| *201  |       |       |       |       | Con   | *0    | *0    |
| 1-10* |       |       |       |       | tains | .3.0* | .4.0* |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | greed |       |       |
|       |       |       |       |       | P-CRs |       |       |
|       |       |       |       |       | from  |       |       |
|       |       |       |       |       | CT1   |       |       |
|       |       |       |       |       | \#74: |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 4351, |       |       |
|       |       |       |       |       | C1-1  |       |       |
|       |       |       |       |       | 14411 |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    |       |       |       |       | Ch    | 0.4.0 | 0.5.0 |
| 12-01 |       |       |       |       | anges |       |       |
|       |       |       |       |       | the   |       |       |
|       |       |       |       |       | stru  |       |       |
|       |       |       |       |       | cture |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | the   |       |       |
|       |       |       |       |       | TS in |       |       |
|       |       |       |       |       | order |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | allow |       |       |
|       |       |       |       |       | for   |       |       |
|       |       |       |       |       | colle |       |       |
|       |       |       |       |       | ction |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | ltern |       |       |
|       |       |       |       |       | ative |       |       |
|       |       |       |       |       | propo |       |       |
|       |       |       |       |       | sals: |       |       |
|       |       |       |       |       | exi   |       |       |
|       |       |       |       |       | sting |       |       |
|       |       |       |       |       | mat   |       |       |
|       |       |       |       |       | erial |       |       |
|       |       |       |       |       | in    |       |       |
|       |       |       |       |       | main  |       |       |
|       |       |       |       |       | part  |       |       |
|       |       |       |       |       | and   |       |       |
|       |       |       |       |       | Annex |       |       |
|       |       |       |       |       | A     |       |       |
|       |       |       |       |       | (     |       |       |
|       |       |       |       |       | signa |       |       |
|       |       |       |       |       | lling |       |       |
|       |       |       |       |       | f     |       |       |
|       |       |       |       |       | lows) |       |       |
|       |       |       |       |       | are   |       |       |
|       |       |       |       |       | sh    |       |       |
|       |       |       |       |       | ifted |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | new   |       |       |
|       |       |       |       |       | Annex |       |       |
|       |       |       |       |       | B.    |       |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       | Con   |       |       |
|       |       |       |       |       | tains |       |       |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | greed |       |       |
|       |       |       |       |       | P-CRs |       |       |
|       |       |       |       |       | from  |       |       |
|       |       |       |       |       | CT1   |       |       |
|       |       |       |       |       | \#75: |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 5144, |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 5145, |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 5146, |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 5147, |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 5148, |       |       |
|       |       |       |       |       | C1-11 |       |       |
|       |       |       |       |       | 5230. |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| *201  |       |       |       |       | *Edit | *0    | *0    |
| 2-01* |       |       |       |       | orial | .5.0* | .5.1* |
|       |       |       |       |       | c     |       |       |
|       |       |       |       |       | orrec |       |       |
|       |       |       |       |       | tion* |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| *201  |       |       |       |       | Con   | *0    | *0    |
| 2-02* |       |       |       |       | tains | .5.1* | .6.0* |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | greed |       |       |
|       |       |       |       |       | P-CRs |       |       |
|       |       |       |       |       | from  |       |       |
|       |       |       |       |       | CT1   |       |       |
|       |       |       |       |       | \#76: |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 0685, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 0688, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 0693, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 0694, |       |       |
|       |       |       |       |       | C1-1  |       |       |
|       |       |       |       |       | 20884 |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| *201  |       |       |       |       | *Con  | *0    | *0    |
| 2-05* |       |       |       |       | tains | .6.0* | .7.0* |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | greed |       |       |
|       |       |       |       |       | P-CR  |       |       |
|       |       |       |       |       | from  |       |       |
|       |       |       |       |       | CT1   |       |       |
|       |       |       |       |       | \#77: |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 1624* |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| *201  |       |       |       |       | *Con  | *0    | *0    |
| 2-06* |       |       |       |       | tains | .7.0* | .8.0* |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | greed |       |       |
|       |       |       |       |       | P-CRs |       |       |
|       |       |       |       |       | from  |       |       |
|       |       |       |       |       | CT1   |       |       |
|       |       |       |       |       | \#78: |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 1884, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 2234, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 2236, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 2236, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 2237* |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-56 | CP-1  |       |       | Ve    | 0.8.0 | 1.0.0 |
| 12-06 |       | 20281 |       |       | rsion |       |       |
|       |       |       |       |       | 1.0.0 |       |       |
|       |       |       |       |       | cr    |       |       |
|       |       |       |       |       | eated |       |       |
|       |       |       |       |       | by    |       |       |
|       |       |       |       |       | MCC   |       |       |
|       |       |       |       |       | for   |       |       |
|       |       |       |       |       | pr    |       |       |
|       |       |       |       |       | esent |       |       |
|       |       |       |       |       | ation |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | CT-56 |       |       |
|       |       |       |       |       | for   |       |       |
|       |       |       |       |       | i     |       |       |
|       |       |       |       |       | nform |       |       |
|       |       |       |       |       | ation |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| *201  |       |       |       |       | *Con  | *1    | *1    |
| 2-08* |       |       |       |       | tains | .0.0* | .1.0* |
|       |       |       |       |       | a     |       |       |
|       |       |       |       |       | greed |       |       |
|       |       |       |       |       | P-CRs |       |       |
|       |       |       |       |       | from  |       |       |
|       |       |       |       |       | CT1   |       |       |
|       |       |       |       |       | \#79: |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 2529, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 3260, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 3261, |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 3267, |       |       |
|       |       |       |       |       | C     |       |       |
|       |       |       |       |       | 1-123 |       |       |
|       |       |       |       |       | 353,* |       |       |
|       |       |       |       |       | *     |       |       |
|       |       |       |       |       | C1-12 |       |       |
|       |       |       |       |       | 3420* |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| *201  |       |       |       |       | *Edit | *1    | *1    |
| 2-08* |       |       |       |       | orial | .1.0* | .1.1* |
|       |       |       |       |       | cle   |       |       |
|       |       |       |       |       | anup* |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-57 | CP-1  |       |       | Ve    | 1.1.1 | 2.0.0 |
| 12-09 |       | 20608 |       |       | rsion |       |       |
|       |       |       |       |       | 2.0.0 |       |       |
|       |       |       |       |       | cr    |       |       |
|       |       |       |       |       | eated |       |       |
|       |       |       |       |       | by    |       |       |
|       |       |       |       |       | MCC   |       |       |
|       |       |       |       |       | for   |       |       |
|       |       |       |       |       | pr    |       |       |
|       |       |       |       |       | esent |       |       |
|       |       |       |       |       | ation |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | CT-57 |       |       |
|       |       |       |       |       | for   |       |       |
|       |       |       |       |       | app   |       |       |
|       |       |       |       |       | roval |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-57 |       |       |       | Ve    | 2.0.0 | 1     |
| 12-09 |       |       |       |       | rsion |       | 1.0.0 |
|       |       |       |       |       | 1     |       |       |
|       |       |       |       |       | 1.0.0 |       |       |
|       |       |       |       |       | cr    |       |       |
|       |       |       |       |       | eated |       |       |
|       |       |       |       |       | by    |       |       |
|       |       |       |       |       | MCC   |       |       |
|       |       |       |       |       | after |       |       |
|       |       |       |       |       | app   |       |       |
|       |       |       |       |       | roval |       |       |
|       |       |       |       |       | at    |       |       |
|       |       |       |       |       | CT-57 |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-58 | CP-1  | 0002  | 3     | USSI  | 1     | 1     |
| 12-12 |       | 20800 |       |       | Cl    | 1.0.0 | 1.1.0 |
|       |       |       |       |       | eanup |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | Al    |       |       |
|       |       |       |       |       | terna |       |       |
|       |       |       |       |       | tives |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-58 | CP-1  | 0003  | 2     | USSI  | 1     | 1     |
| 12-12 |       | 20800 |       |       | i     | 1.0.0 | 1.1.0 |
|       |       |       |       |       | ntera |       |       |
|       |       |       |       |       | ction |       |       |
|       |       |       |       |       | with  |       |       |
|       |       |       |       |       | SIP   |       |       |
|       |       |       |       |       | user  |       |       |
|       |       |       |       |       | con   |       |       |
|       |       |       |       |       | figur |       |       |
|       |       |       |       |       | ation |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-58 | CP-1  | 0013  | 1     | Clean | 1     | 1     |
| 12-12 |       | 20800 |       |       | up of | 1.0.0 | 1.1.0 |
|       |       |       |       |       | enc   |       |       |
|       |       |       |       |       | oding |       |       |
|       |       |       |       |       | USSD  |       |       |
|       |       |       |       |       | i     |       |       |
|       |       |       |       |       | nform |       |       |
|       |       |       |       |       | ation |       |       |
|       |       |       |       |       | as an |       |       |
|       |       |       |       |       | XML   |       |       |
|       |       |       |       |       | doc   |       |       |
|       |       |       |       |       | ument |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-59 | CP-1  | 0014  | 2     | Clar  | 1     | 1     |
| 13-03 |       | 30105 |       |       | ifica | 1.1.0 | 1.2.0 |
|       |       |       |       |       | tions |       |       |
|       |       |       |       |       | and   |       |       |
|       |       |       |       |       | C     |       |       |
|       |       |       |       |       | orrec |       |       |
|       |       |       |       |       | tions |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | USSI  |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-59 | CP-1  | 0015  | 4     | USSD  | 1     | 1     |
| 13-03 |       | 30105 |       |       | Proce | 1.1.0 | 1.2.0 |
|       |       |       |       |       | dures |       |       |
|       |       |       |       |       | clar  |       |       |
|       |       |       |       |       | ifica |       |       |
|       |       |       |       |       | tions |       |       |
|       |       |       |       |       | and   |       |       |
|       |       |       |       |       | c     |       |       |
|       |       |       |       |       | orrec |       |       |
|       |       |       |       |       | tions |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-60 | CP-1  | 0016  | 1     | IANA  | 1     | 1     |
| 13-06 |       | 30241 |       |       | re    | 1.2.0 | 1.3.0 |
|       |       |       |       |       | gistr |       |       |
|       |       |       |       |       | ation |       |       |
|       |       |       |       |       | and   |       |       |
|       |       |       |       |       | c     |       |       |
|       |       |       |       |       | orrec |       |       |
|       |       |       |       |       | tions |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | USSI  |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-60 | CP-1  | 0017  | 1     | IANA  | 1     | 1     |
| 13-06 |       | 30241 |       |       | sec   | 1.2.0 | 1.3.0 |
|       |       |       |       |       | urity |       |       |
|       |       |       |       |       | cons  |       |       |
|       |       |       |       |       | idera |       |       |
|       |       |       |       |       | tions |       |       |
|       |       |       |       |       | corre |       |       |
|       |       |       |       |       | ction |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-61 | CP-1  | 0018  | 2     | Ambi  | 1     | 1     |
| 13-09 |       | 30496 |       |       | guous | 1.3.0 | 1.4.0 |
|       |       |       |       |       | refe  |       |       |
|       |       |       |       |       | rence |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | enc   |       |       |
|       |       |       |       |       | oding |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | the   |       |       |
|       |       |       |       |       | lan   |       |       |
|       |       |       |       |       | guage |       |       |
|       |       |       |       |       | value |       |       |
|       |       |       |       |       | in    |       |       |
|       |       |       |       |       | XML   |       |       |
|       |       |       |       |       | body  |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-64 | CP-1  | 0021  | 1     | Upd   | 1     | 1     |
| 14-06 |       | 40313 |       |       | ating | 1.4.0 | 1.5.0 |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | refe  |       |       |
|       |       |       |       |       | rence |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | 3GPP2 |       |       |
|       |       |       |       |       | USSD  |       |       |
|       |       |       |       |       | spe   |       |       |
|       |       |       |       |       | cific |       |       |
|       |       |       |       |       | ation |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-64 | CP-1  | 0020  | 1     | P     | 1     | 1     |
| 14-06 |       | 40334 |       |       | rohib | 1.5.0 | 2.0.0 |
|       |       |       |       |       | ition |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | USSI  |       |       |
|       |       |       |       |       | usage |       |       |
|       |       |       |       |       | and   |       |       |
|       |       |       |       |       | iden  |       |       |
|       |       |       |       |       | tific |       |       |
|       |       |       |       |       | ation |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | mi    |       |       |
|       |       |       |       |       | ssing |       |       |
|       |       |       |       |       | ne    |       |       |
|       |       |       |       |       | twork |       |       |
|       |       |       |       |       | su    |       |       |
|       |       |       |       |       | pport |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-65 | CP-1  | 0022  | 1     | In    | 1     | 1     |
| 14-09 |       | 40669 |       |       | trodu | 2.0.0 | 2.1.0 |
|       |       |       |       |       | ction |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | ne    |       |       |
|       |       |       |       |       | twork |       |       |
|       |       |       |       |       | -init |       |       |
|       |       |       |       |       | iated |       |       |
|       |       |       |       |       | USSI, |       |       |
|       |       |       |       |       | re    |       |       |
|       |       |       |       |       | vised |       |       |
|       |       |       |       |       | scope |       |       |
|       |       |       |       |       | and   |       |       |
|       |       |       |       |       | in    |       |       |
|       |       |       |       |       | trodu |       |       |
|       |       |       |       |       | ction |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-65 | CP-1  | 0023  | 2     | In    | 1     | 1     |
| 14-09 |       | 40669 |       |       | trodu | 2.0.0 | 2.1.0 |
|       |       |       |       |       | ction |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | ne    |       |       |
|       |       |       |       |       | twork |       |       |
|       |       |       |       |       | -init |       |       |
|       |       |       |       |       | iated |       |       |
|       |       |       |       |       | USSI, |       |       |
|       |       |       |       |       | proce |       |       |
|       |       |       |       |       | dures |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-65 | CP-1  | 0024  | 1     | In    | 1     | 1     |
| 14-09 |       | 40669 |       |       | trodu | 2.0.0 | 2.1.0 |
|       |       |       |       |       | ction |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | ne    |       |       |
|       |       |       |       |       | twork |       |       |
|       |       |       |       |       | -init |       |       |
|       |       |       |       |       | iated |       |       |
|       |       |       |       |       | USSI, |       |       |
|       |       |       |       |       | ex    |       |       |
|       |       |       |       |       | ample |       |       |
|       |       |       |       |       | flows |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-65 | CP-1  | 0025  |       | Edit  | 1     | 1     |
| 14-09 |       | 40665 |       |       | orial | 2.0.0 | 2.1.0 |
|       |       |       |       |       | amend |       |       |
|       |       |       |       |       | ments |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0026  |       | C     | 1     | 1     |
| 14-12 |       | 40856 |       |       | orrec | 2.1.0 | 2.2.0 |
|       |       |       |       |       | tions |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | ne    |       |       |
|       |       |       |       |       | twork |       |       |
|       |       |       |       |       | -init |       |       |
|       |       |       |       |       | iated |       |       |
|       |       |       |       |       | USSI  |       |       |
|       |       |       |       |       | re    |       |       |
|       |       |       |       |       | quest |       |       |
|       |       |       |       |       | proce |       |       |
|       |       |       |       |       | dures |       |       |
|       |       |       |       |       | and   |       |       |
|       |       |       |       |       | c     |       |       |
|       |       |       |       |       | oding |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0027  | 1     | Add   | 1     | 1     |
| 14-12 |       | 40856 |       |       | USSN  | 2.1.0 | 2.2.0 |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | the   |       |       |
|       |       |       |       |       | signa |       |       |
|       |       |       |       |       | lling |       |       |
|       |       |       |       |       | re    |       |       |
|       |       |       |       |       | quire |       |       |
|       |       |       |       |       | ments |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0028  | 1     | Co    | 1     | 1     |
| 14-12 |       | 40856 |       |       | rrect | 2.1.0 | 2.2.0 |
|       |       |       |       |       | the   |       |       |
|       |       |       |       |       | in    |       |       |
|       |       |       |       |       | trodu |       |       |
|       |       |       |       |       | ction |       |       |
|       |       |       |       |       | se    |       |       |
|       |       |       |       |       | ction |       |       |
|       |       |       |       |       | for   |       |       |
|       |       |       |       |       | ne    |       |       |
|       |       |       |       |       | twork |       |       |
|       |       |       |       |       | -init |       |       |
|       |       |       |       |       | iated |       |       |
|       |       |       |       |       | USSD  |       |       |
|       |       |       |       |       | simul |       |       |
|       |       |       |       |       | ation |       |       |
|       |       |       |       |       | ser   |       |       |
|       |       |       |       |       | vices |       |       |
|       |       |       |       |       | in    |       |       |
|       |       |       |       |       | IMS   |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0029  | 2     | UE    | 1     | 1     |
| 14-12 |       | 40856 |       |       | su    | 2.1.0 | 2.2.0 |
|       |       |       |       |       | pport |       |       |
|       |       |       |       |       | the   |       |       |
|       |       |       |       |       | ne    |       |       |
|       |       |       |       |       | twork |       |       |
|       |       |       |       |       | init  |       |       |
|       |       |       |       |       | iated |       |       |
|       |       |       |       |       | USSD  |       |       |
|       |       |       |       |       | proce |       |       |
|       |       |       |       |       | dures |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0030  | 3     | The   | 1     | 1     |
| 14-12 |       | 40856 |       |       | USSI  | 2.1.0 | 2.2.0 |
|       |       |       |       |       | AS    |       |       |
|       |       |       |       |       | send  |       |       |
|       |       |       |       |       | the   |       |       |
|       |       |       |       |       | init  |       |       |
|       |       |       |       |       | iated |       |       |
|       |       |       |       |       | USSD  |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0031  | 2     | Rev   | 1     | 1     |
| 14-12 |       | 40856 |       |       | ision | 2.1.0 | 2.2.0 |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | signa |       |       |
|       |       |       |       |       | lling |       |       |
|       |       |       |       |       | flows |       |       |
|       |       |       |       |       | for   |       |       |
|       |       |       |       |       | ne    |       |       |
|       |       |       |       |       | twork |       |       |
|       |       |       |       |       | init  |       |       |
|       |       |       |       |       | iated |       |       |
|       |       |       |       |       | USSD  |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0032  | 1     | Co    | 1     | 1     |
| 14-12 |       | 40837 |       |       | rrect | 2.1.0 | 2.2.0 |
|       |       |       |       |       | labe  |       |       |
|       |       |       |       |       | lling |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | an    |       |       |
|       |       |       |       |       | nexes |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0033  | 1     | Scope | 1     | 1     |
| 14-12 |       | 40856 |       |       | for   | 2.1.0 | 2.2.0 |
|       |       |       |       |       | USSD  |       |       |
|       |       |       |       |       | over  |       |       |
|       |       |       |       |       | IMS   |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0034  | 1     | Re    | 1     | 1     |
| 14-12 |       | 40856 |       |       | moval | 2.1.0 | 2.2.0 |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | edit  |       |       |
|       |       |       |       |       | or\'s |       |       |
|       |       |       |       |       | note  |       |       |
|       |       |       |       |       | rel   |       |       |
|       |       |       |       |       | ating |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | mul   |       |       |
|       |       |       |       |       | tiple |       |       |
|       |       |       |       |       | use   |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | ses   |       |       |
|       |       |       |       |       | sions |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0035  |       | Re    | 1     | 1     |
| 14-12 |       | 40856 |       |       | moval | 2.1.0 | 2.2.0 |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | edit  |       |       |
|       |       |       |       |       | or\'s |       |       |
|       |       |       |       |       | note  |       |       |
|       |       |       |       |       | rel   |       |       |
|       |       |       |       |       | ating |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | d     |       |       |
|       |       |       |       |       | omain |       |       |
|       |       |       |       |       | sele  |       |       |
|       |       |       |       |       | ction |       |       |
|       |       |       |       |       | proce |       |       |
|       |       |       |       |       | dures |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-66 | CP-1  | 0036  |       | Re    | 1     | 1     |
| 14-12 |       | 40856 |       |       | moval | 2.1.0 | 2.2.0 |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | edit  |       |       |
|       |       |       |       |       | or\'s |       |       |
|       |       |       |       |       | note  |       |       |
|       |       |       |       |       | rel   |       |       |
|       |       |       |       |       | ating |       |       |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | ne    |       |       |
|       |       |       |       |       | twork |       |       |
|       |       |       |       |       | init  |       |       |
|       |       |       |       |       | iated |       |       |
|       |       |       |       |       | USSD  |       |       |
|       |       |       |       |       | no    |       |       |
|       |       |       |       |       | tific |       |       |
|       |       |       |       |       | ation |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-69 | CP-1  | 0038  | 2     | Addre | 1     | 1     |
| 15-09 |       | 50583 |       |       | ssing | 2.2.0 | 2.3.0 |
|       |       |       |       |       | IANA  |       |       |
|       |       |       |       |       | E     |       |       |
|       |       |       |       |       | xpert |       |       |
|       |       |       |       |       | R     |       |       |
|       |       |       |       |       | eview |       |       |
|       |       |       |       |       | com   |       |       |
|       |       |       |       |       | ments |       |       |
|       |       |       |       |       | on    |       |       |
|       |       |       |       |       | \"g.3 |       |       |
|       |       |       |       |       | gpp.u |       |       |
|       |       |       |       |       | ssd\" |       |       |
|       |       |       |       |       | INFO  |       |       |
|       |       |       |       |       | pa    |       |       |
|       |       |       |       |       | ckage |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-70 | CP-1  | 0039  | 2     | Addre | 1     | 1     |
| 15-12 |       | 50687 |       |       | ssing | 2.3.0 | 2.4.0 |
|       |       |       |       |       | IANA  |       |       |
|       |       |       |       |       | E     |       |       |
|       |       |       |       |       | xpert |       |       |
|       |       |       |       |       | R     |       |       |
|       |       |       |       |       | eview |       |       |
|       |       |       |       |       | com   |       |       |
|       |       |       |       |       | ments |       |       |
|       |       |       |       |       | on    |       |       |
|       |       |       |       |       | re    |       |       |
|       |       |       |       |       | gistr |       |       |
|       |       |       |       |       | ation |       |       |
|       |       |       |       |       | of    |       |       |
|       |       |       |       |       | media |       |       |
|       |       |       |       |       | fe    |       |       |
|       |       |       |       |       | ature |       |       |
|       |       |       |       |       | tag   |       |       |
|       |       |       |       |       | "     |       |       |
|       |       |       |       |       | g.3gp |       |       |
|       |       |       |       |       | p.nw- |       |       |
|       |       |       |       |       | init- |       |       |
|       |       |       |       |       | ussi" |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-70 |       |       |       | Up    | 1     | 1     |
| 15-12 |       |       |       |       | grade | 2.4.0 | 3.0.0 |
|       |       |       |       |       | to    |       |       |
|       |       |       |       |       | R     |       |       |
|       |       |       |       |       | el-13 |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-72 | CP-1  | 0042  | 1     | IANA  | 1     | 1     |
| 16-06 |       | 60299 |       |       | re    | 3.0.0 | 3.1.0 |
|       |       |       |       |       | gistr |       |       |
|       |       |       |       |       | ation |       |       |
|       |       |       |       |       | for   |       |       |
|       |       |       |       |       | g     |       |       |
|       |       |       |       |       | .3gpp |       |       |
|       |       |       |       |       | .ussd |       |       |
|       |       |       |       |       | info  |       |       |
|       |       |       |       |       | pa    |       |       |
|       |       |       |       |       | ckage |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT-72 | CP-1  | 0045  | 1     | IANA  | 1     | 1     |
| 16-06 |       | 60299 |       |       | re    | 3.0.0 | 3.1.0 |
|       |       |       |       |       | gistr |       |       |
|       |       |       |       |       | ation |       |       |
|       |       |       |       |       | for   |       |       |
|       |       |       |       |       | appl  |       |       |
|       |       |       |       |       | icati |       |       |
|       |       |       |       |       | on/vn |       |       |
|       |       |       |       |       | d.3gp |       |       |
|       |       |       |       |       | p.uss |       |       |
|       |       |       |       |       | d+xml |       |       |
|       |       |       |       |       | MIME  |       |       |
|       |       |       |       |       | type  |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+

  -------------------- ------------- ----------- -------- --------- --------- ---------------------------------------------------------------------------------- -----------------
  **Change history**                                                                                                                                             
  **Date**             **Meeting**   **TDoc**    **CR**   **Rev**   **Cat**   **Subject/Comment**                                                                **New version**
  2016-09              CT\#73        CP-160485   0046     2         A         Correcting the ussd.xsd file                                                       13.2.0
  2016-09              CT\#73        CP-160485   0051               A         USSI phone-context parameter correction                                            13.2.0
  2017-03              CT\#75        CP-170109   0054     2         A         Removing editors note on registration of media feature tag "g.3gpp.nw-init-ussi"   13.3.0
  2017-03              CT\#75        CP-170130   0052     3         B         3GPP PS Data Off and USSI                                                          14.0.0
  2018-06              CT\#80        CP-181060   0055     1         B         PS Data Off for 5GS                                                                15.0.0
  2018-06              CT\#80        CP-181074   0056     1         B         3GPP PS Data Off2 and USSI                                                         15.0.0
  2018-12              CT\#82        CP-183044   0057     1         F         Correct PS Data Off requirements for other accesses                                15.1.0
  2020-07              SA\#88e       \-          \-       \-        \-        Update to Rel-16 version (MCC)                                                     **16.0.0**
  -------------------- ------------- ----------- -------- --------- --------- ---------------------------------------------------------------------------------- -----------------
