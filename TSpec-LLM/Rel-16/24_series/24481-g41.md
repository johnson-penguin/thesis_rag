![](media/image1.jpeg){width="7.0875in" height="3.4229166666666666in"}

  {#section .TT}

Contents {#contents .TT}
========

[7](#foreword)

[8](#scope)

[8](#references)

[9](#definitions-and-abbreviations)

[9](#definitions)

[10](#abbreviations)

[10](#general)

[11](#functional-entities)

[11](#group-management-client-gmc)

[11](#group-management-server-gms)

[12](#a-mcs-server)

[12](#mcptt-server)

[12](#mcvideo-server)

[12](#mcdata-server)

[12](#procedures)

[12](#introduction)

[13](#common-procedures)

[13](#general-1)

[13](#general-client-gc-procedures)

[13](#general-2)

[13](#accessing-group-document-by-group-id)

[13](#group-management-client-gmc-procedures)

[13](#mcs-server-procedures)

[13](#group-management-server-gms-procedures)

[13](#general-3)

[14](#configuration-for-access-to-group-document-of-another-mcs-provider-or-to-mcs-gktp-document-of-another-mcs-provider)

[14](#forwarding-http-request-accessing-a-group-document-of-other-mcs-provider)

[14](#authenticated-identity-in-http-request)

[14](#sip-failure-case)

[14](#group-management-procedures)

[14](#general-4)

[15](#group-document-creation-procedure)

[15](#general-5)

[15](#client-procedures)

[15](#general-client-gc-procedures-1)

[15](#group-management-client-gmc-procedures-1)

[15](#group-management-server-gms-procedures-1)

[16](#group-document-retrieval-procedure)

[16](#general-6)

[16](#client-procedures-1)

[16](#general-client-gc-procedures-2)

[16](#group-management-client-gmc-procedures-2)

[16](#mcs-server-procedures-1)

[16](#group-management-server-gms-procedures-2)

[16](#group-document-update-procedure)

[16](#general-7)

[16](#client-procedures-2)

[16](#general-client-gc-procedures-3)

[16](#group-management-client-gmc-procedures-3)

[17](#group-management-server-gms-procedures-3)

[17](#group-document-deletion-procedure)

[17](#general-8)

[17](#client-procedures-3)

[17](#general-client-gc-procedures-4)

[17](#group-management-client-gmc-procedures-4)

[17](#group-management-server-gms-procedures-4)

[17](#group-document-element-creation-or-replacement-procedure)

[17](#general-9)

[17](#client-procedures-4)

[17](#general-client-gc-procedures-5)

[17](#group-management-client-gmc-procedures-5)

[17](#group-management-server-gms-procedures-5)

[18](#group-document-element-deletion-procedure)

[18](#general-10)

[18](#client-procedures-5)

[18](#general-client-gc-procedures-6)

[18](#group-management-client-gmc-procedures-6)

[18](#group-management-server-gms-procedures-6)

[18](#group-document-element-fetching-procedure)

[18](#general-11)

[18](#client-procedures-6)

[18](#general-client-gc-procedures-7)

[18](#group-management-client-gmc-procedures-7)

[18](#group-management-server-gms-procedures-7)

[18](#group-document-attribute-creation-or-replacement-procedure)

[18](#general-12)

[19](#client-procedures-7)

[19](#general-client-gc-procedures-8)

[19](#group-management-client-gmc-procedures-8)

[19](#group-management-server-gms-procedures-8)

[19](#group-document-attribute-deletion-procedure)

[19](#general-13)

[19](#client-procedures-8)

[19](#general-client-gc-procedures-9)

[19](#group-management-client-gmc-procedures-9)

[19](#group-management-server-gms-procedures-9)

[19](#group-document-attribute-fetching-procedure)

[19](#general-14)

[19](#client-procedures-9)

[19](#general-client-gc-procedures-10)

[20](#group-management-client-gmc-procedures-10)

[20](#group-management-server-gms-procedures-10)

[20](#group-document-namespace-binding-fetching-procedure)

[20](#general-15)

[20](#client-procedures-10)

[20](#general-client-gc-procedures-11)

[20](#group-management-client-gmc-procedures-11)

[20](#group-management-server-gms-procedures-11)

[20](#group-document-subscription-and-notification-procedure)

[20](#general-16)

[21](#client-procedures-11)

[21](#group-management-client-gmc-procedures-12)

[22](#mcs-server-procedures-2)

[23](#procedure-of-group-management-server-gms-owning-a-constituent-mcs-group-acting-as-subscriber)

[24](#group-management-server-gms-procedures-12)

[24](#general-17)

[24](#procedures-of-gms-performing-the-subscription-proxy-function)

[27](#procedures-of-gms-owning-the-mcs-group)

[28](#temporary-mcs-group-formation-procedure)

[28](#general-19)

[28](#group-management-client-gmc-procedures-13)

[28](#group-management-server-gms-procedures-13)

[28](#procedure-of-gms-creating-a-temporary-mcs-group)

[31](#procedure-of-gms-owning-an-mcs-group-to-be-combined)

[32](#temporary-mcs-group-tear-down-procedure)

[32](#general-20)

[32](#group-management-client-gmc-procedures-14)

[32](#group-management-server-gms-procedures-14)

[32](#procedure-of-gms-owning-the-temporary-mcs-group)

[33](#procedure-of-gms-owning-a-constituent-mcs-group)

[33](#group-document-excluding-group-members-retrieval-procedure)

[33](#general-21)

[33](#group-management-client-gmc-procedures-15)

[33](#group-management-server-gms-procedures-15)

[34](#coding)

[34](#general-22)

[34](#group-coding)

[34](#general-23)

[34](#structure)

[41](#application-unique-id)

[41](#xml-schema)

[41](#general-24)

[41](#xml-schema-for-mcs-specific-extensions)

[45](#__RefHeading___Toc99131097)

[45](#mime-type)

[45](#validation-constraints)

[45](#data-semantics)

[58](#naming-conventions)

[58](#global-documents)

[58](#general-25)

[58](#group-document-addressed-by-a-group-id)

[58](#resource-interdependencies)

[58](#general-26)

[58](#group-document-addressed-by-a-group-id-1)

[59](#authorization-policies)

[59](#general-27)

[60](#group-document-addressed-by-a-group-id-2)

[60](#gmop-document)

[60](#general-28)

[60](#mime-type-1)

[60](#xml-schema-1)

[62](#structure-1)

[62](#general-29)

[62](#gmop-document-requesting-retrieval-of-a-group-document-excluding-group-members)

[62](#gmop-document-requesting-group-regroup-creation)

[62](#gmop-document-requesting-group-regroup-check)

[63](#gmop-document-requesting-group-regroup-notification)

[63](#gmop-document-with-group-regroup-creation-response)

[63](#group-key-transport-payload)

[63](#general-30)

[63](#group-key-transport-payload-structure)

[65](#mikey-parameters-value-assignment)

[65](#general-31)

[65](#id-role-field-assignment)

[66](#id-scheme-field-assignment)

[67](#type-field-assignment)

[67](#group-key-transport-payload-failure)

[67](#general-32)

[67](#group-key-transport-payload-structure-1)

[68](#mcs-group-key-transport-payloads-gktp-document-coding)

[68](#general-33)

[68](#structure-2)

[69](#application-unique-id-1)

[69](#xml-schema-2)

[69](#general-34)

[69](#xml-schema-for-mcs-specific-extensions-1)

[70](#default-document-namespace-1)

[70](#mime-type-2)

[70](#validation-constraints-1)

[70](#data-semantics-1)

[72](#naming-conventions-1)

[72](#global-documents-1)

[72](#resource-interdependencies-1)

[72](#authorization-policies-1)

[73](#annex-a-informative-signalling-flows)

[73](#a.1-scope-of-signalling-flows)

[73](#a.2-signalling-flows-for-group-creation)

[73](#a.2.1-general)

[73](#a.2.2-gmc-creating-a-mcptt-group-on-behalf-of-mcptt-user-served-by-the-gmc)

[76](#a.2.3-gmc-performing-a-temporary-mcptt-group-formation-of-two-mcptt-groups-to-be-combined)

[82](#annex-b-informative-iana-registration-templates)

[82](#b.1-iana-registration-templates-for-mime-types)

[82](#b.1.1-applicationvnd.3gpp.gmopxml-iana-registration-template)

[84](#annex-c-informative-change-history)Foreword 1 Scope 2 References 3
Definitions and abbreviations 3.1 Definitions 3.2 Abbreviations 4
General 5 Functional entities 5.1 Group management client (GMC) 5.2
Group management server (GMS) 5.2A MCS server 5.3 MCPTT server 5.4
MCVideo server 5.5 MCData server 6 Procedures 6.1 Introduction 6.2
Common procedures 6.2.1 General 6.2.2 General client (GC) procedures
6.2.2.1 General 6.2.2.2 Accessing group document by group ID 6.2.3 Group
management client (GMC) procedures 6.2.4 MCS server procedures 6.2.5
Group management server (GMS) procedures 6.2.5.1 General 6.2.5.2
Configuration for access to group document of another MCS provider or to
MCS GKTP document of another MCS provider 6.2.5.3 Forwarding HTTP
request accessing a group document of other MCS provider 6.2.5.4
Authenticated identity in HTTP request 6.2.5.5 SIP failure case 6.3
Group management procedures 6.3.1 General 6.3.2 Group document creation
procedure 6.3.2.1 General 6.3.2.2 Client procedures 6.3.2.2.1 General
client (GC) procedures 6.3.2.2.2 Group management client (GMC)
procedures 6.3.2.3 Group management server (GMS) procedures 6.3.3 Group
document retrieval procedure 6.3.3.1 General 6.3.3.2 Client procedures
6.3.3.2.1 General client (GC) procedures 6.3.3.2.2 Group management
client (GMC) procedures 6.3.3.2.3 MCS server procedures 6.3.3.3 Group
management server (GMS) procedures 6.3.4 Group document update procedure
6.3.4.1 General 6.3.4.2 Client procedures 6.3.4.2.1 General client (GC)
procedures 6.3.4.2.2 Group management client (GMC) procedures 6.3.4.3
Group management server (GMS) procedures 6.3.5 Group document deletion
procedure 6.3.5.1 General 6.3.5.2 Client procedures 6.3.5.2.1 General
client (GC) procedures 6.3.5.2.2 Group management client (GMC)
procedures 6.3.5.3 Group management server (GMS) procedures 6.3.6 Group
document element creation or replacement procedure 6.3.6.1 General
6.3.6.2 Client procedures 6.3.6.2.1 General client (GC) procedures
6.3.6.2.2 Group management client (GMC) procedures 6.3.6.3 Group
management server (GMS) procedures 6.3.7 Group document element deletion
procedure 6.3.7.1 General 6.3.7.2 Client procedures 6.3.7.2.1 General
client (GC) procedures 6.3.7.2.2 Group management client (GMC)
procedures 6.3.7.3 Group management server (GMS) procedures 6.3.8 Group
document element fetching procedure 6.3.8.1 General 6.3.8.2 Client
procedures 6.3.8.2.1 General client (GC) procedures 6.3.8.2.2 Group
management client (GMC) procedures 6.3.8.3 Group management server (GMS)
procedures 6.3.9 Group document attribute creation or replacement
procedure 6.3.9.1 General 6.3.9.2 Client procedures 6.3.9.2.1 General
client (GC) procedures 6.3.9.2.2 Group management client (GMC)
procedures 6.3.9.3 Group management server (GMS) procedures 6.3.10 Group
document attribute deletion procedure 6.3.10.1 General 6.3.10.2 Client
procedures 6.3.10.2.1 General client (GC) procedures 6.3.10.2.2 Group
management client (GMC) procedures 6.3.10.3 Group management server
(GMS) procedures 6.3.11 Group document attribute fetching procedure
6.3.11.1 General 6.3.11.2 Client procedures 6.3.11.2.1 General client
(GC) procedures 6.3.11.2.2 Group management client (GMC) procedures
6.3.11.3 Group management server (GMS) procedures 6.3.12 Group document
namespace binding fetching procedure 6.3.12.1 General 6.3.12.2 Client
procedures 6.3.12.2.1 General client (GC) procedures 6.3.12.2.2 Group
management client (GMC) procedures 6.3.12.3 Group management server
(GMS) procedures 6.3.13 Group document subscription and notification
procedure 6.3.13.1 General 6.3.13.2 Client procedures 6.3.13.2.1 Group
management client (GMC) procedures 6.3.13.2.2 MCS server procedures
6.3.13.2.3 Procedure of group management server (GMS) owning a
constituent MCS group acting as subscriber 6.3.13.3 Group management
server (GMS) procedures 6.3.13.3.1 General 6.3.13.3.2 Procedures of GMS
performing the subscription proxy function 6.3.13.3.3 Procedures of GMS
owning the MCS group 6.3.14 Temporary MCS group formation procedure
6.3.14.1 General 6.3.14.2 Group management client (GMC) procedures
6.3.14.3 Group management server (GMS) procedures 6.3.14.3.1 Procedure
of GMS creating a temporary MCS group 6.3.14.3.2 Procedure of GMS owning
an MCS group to be combined 6.3.15 Temporary MCS group tear down
procedure 6.3.15.1 General 6.3.15.2 Group management client (GMC)
procedures 6.3.15.3 Group management server (GMS) procedures 6.3.15.3.1
Procedure of GMS owning the temporary MCS group 6.3.15.3.2 Procedure of
GMS owning a constituent MCS group 6.3.16 Group document excluding group
members retrieval procedure 6.3.16.1 General 6.3.16.2 Group management
client (GMC) procedures 6.3.16.3 Group management server (GMS)
procedures 7 Coding 7.1 General 7.2 Group coding 7.2.1 General 7.2.2
Structure 7.2.3 Application Unique ID 7.2.4 XML schema 7.2.4.1 General
7.2.4.2 XML schema for MCS specific extensions 7.2.5 Default document
namespace 7.2.6 MIME type 7.2.7 Validation constraints 7.2.8 Data
semantics 7.2.9 Naming conventions 7.2.10 Global documents 7.2.10.1
General 7.2.10.2 Group document addressed by a group ID 7.2.11 Resource
interdependencies 7.2.11.1 General 7.2.11.2 Group document addressed by
a group ID 7.2.12 Authorization policies 7.2.12.1 General 7.2.12.2 Group
document addressed by a group ID 7.3 GMOP document 7.3.1 General 7.3.2
MIME type 7.3.3 XML schema 7.3.4 Structure 7.3.4.1 General 7.3.4.2 GMOP
document requesting retrieval of a group document excluding group
members 7.3.4.3 GMOP document requesting group regroup creation 7.3.4.4
GMOP document requesting group regroup check 7.3.4.5 GMOP document
requesting group regroup notification 7.3.4.6 GMOP document with group
regroup creation response 7.4 Group key transport payload 7.4.1 General
7.4.2 Group key transport payload structure 7.5 MIKEY parameters value
assignment 7.5.1 General 7.5.2 ID role field assignment 7.5.3 ID scheme
field assignment 7.5.4 Type field assignment 7.6 Group key transport
payload failure 7.6.1 General 7.6.2 Group key transport payload
structure 7.7 MCS group key transport payloads (GKTP) document coding
7.7.1 General 7.7.2 Structure 7.7.3 Application Unique ID 7.7.4 XML
schema 7.7.4.1 General 7.7.4.2 XML schema for MCS specific extensions
7.7.5 Default document namespace 7.7.6 MIME type 7.7.7 Validation
constraints 7.7.8 Data semantics 7.7.9 Naming conventions 7.7.10 Global
documents 7.7.11 Resource interdependencies 7.7.12 Authorization
policies Annex A (informative): Signalling flows A.1 Scope of signalling
flows A.2 Signalling flows for group creation A.2.1 General A.2.2 GMC
creating a MCPTT group on behalf of MCPTT user served by the GMC A.2.3
GMC performing a temporary MCPTT group formation of two MCPTT groups to
be combined Annex B (informative): IANA registration templates B.1 IANA
registration templates for MIME types B.1.1
application/vnd.3gpp.GMOP+xml IANA registration template Annex C
(informative): Change history

Foreword
========

This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).

The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:

Version x.y.z

where:

x the first digit:

1 presented to TSG for information;

2 presented to TSG for approval;

3 or greater indicates TSG approved document under change control.

y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.

z the third digit is incremented when editorial only changes have been
incorporated in the document.

1 Scope
=======

The present document specifies the group management protocols needed to
support Mission Critical Services (MCSs).

Group management applies only when the UE operates on the network.

MCSs are services that require preferential handling compared to normal
telecommunication services, e.g. in support of police or fire brigade.

MCSs can be used for public safety applications and also for general
commercial applications (e.g., utility companies and railways).

The present document is applicable to User Equipment (UE) supporting the
group management client (GMC) functionality, to application servers
supporting the group management server (GMS) functionality, and to
application servers supporting the Mission Critical Push To Talk
(MCPTT), the Mission Critical Video (MCVideo) and Mission Critical Data
(MCData) server functionality.

2 References
============

The following documents contain provisions which, through reference in
this text, constitute provisions of the present document.

\- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.

\- For a specific reference, subsequent revisions do not apply.

\- For a non-specific reference, the latest version applies. In the case
of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document *in the same Release as the present document*.

\[1\] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".

\[2\] OMA OMA-TS-XDM\_Core-V2\_1-20120403-A: \"XML Document Management
(XDM) Specification\".

\[3\] OMA OMA-TS-XDM\_Group-V1\_1\_1-20170124-A: \"Group XDM
Specification\".

\[4\] 3GPP TS 23.179: \"Functional architecture and information flows to
support mission critical communication services\".

\[5\] 3GPP TS 24.379: \"Mission Critical Push To Talk (MCPTT) call
control Protocol specification\".

\[6\] IETF RFC 4745: \"Common Policy: A Document Format for Expressing
Privacy Preferences\".

\[7\] 3GPP TS 24.334: \"Proximity-services (ProSe) User Equipment (UE)
to ProSe function protocol aspects; Stage 3\".

\[8\] IETF RFC 1166: \"Internet Numbers\".

\[9\] IETF RFC 5952: \"A Recommendation for IPv6 Address Text
Representation\".

\[10\] 3GPP TS 24.482: \"Mission Critical Services (MCS) identity
management; Protocol specification\".

\[11\] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".

\[12\] 3GPP TS 24.229: \"IP multimedia call control protocol based on
Session Initiation Protocol (SIP) and Session Description Protocol
(SDP); Stage 3\".

\[13\] IETF RFC 5875: \"An Extensible Markup Language (XML)
Configuration Access Protocol (XCAP) Diff Event Package\".

\[14\] IETF RFC 6050: \"A Session Initiation Protocol (SIP) Extension
for the Identification of Services\".

\[15\] void.

\[16\] IETF RFC 3830: \"MIKEY: Multimedia Internet KEYing\".

\[17\] IETF RFC 6043: \"MIKEY-TICKET: Ticket-Based Modes of Key
Distribution in Multimedia Internet KEYing (MIKEY)\".

\[18\] IETF RFC 6509: \"MIKEY-SAKKE: Sakai-Kasahara Key Encryption in
Multimedia Internet KEYing (MIKEY)\".

\[19\] OMA OMA-SUP-XSD\_poc\_listService-V1\_0\_2: \"PoC - List
Service\", version 1.0.2.

\[20\] IETF RFC 4566: \"SDP: Session Description Protocol\".

\[21\] IETF RFC 2616: \"Hypertext Transfer Protocol \-- HTTP/1.1\".

\[22\] IETF RFC 4825: \"The Extensible Markup Language (XML)
Configuration Access Protocol (XCAP)\".

\[23\] 3GPP TS 23.280: \"Common functional architecture to support
mission critical services; Stage 2\".

\[24\] 3GPP TS 23.281: \"Mission Critical Video (MCVideo); Stage 2\".

\[25\] 3GPP TS 23.282: \"Mission Critical Data (MCData); Stage 2\".

\[26\] 3GPP TS 24.281: \"Mission Critical Video (MCVideo) signalling
control; Protocol specification\".

\[27\] 3GPP TS 24.282: \"Mission Critical Data (MCData) signalling
control; Protocol specification\".

\[28\] IETF RFC 4826: \"Extensible Markup Language (XML) Formats for
Representing Resource Lists\".

\[29\] 3GPP TS 33.180: \"Security of the mission critical service\".

\[30\] 3GPP TS 23.379: \"Functional architecture and information flows
to support Mission Critical Push To Talk (MCPTT)\".

3 Definitions and abbreviations
===============================

3.1 Definitions
---------------

For the purposes of the present document, the terms and definitions
given in 3GPP TR 21.905 \[1\] and the following apply. A term defined in
the present document takes precedence over the definition of the same
term, if any, in 3GPP TR 21.905 \[1\].

**MCS group**: An MCPTT group, an MCVideo group or an MCData group.

**MCPTT group**: A group supporting the MCPTT service.

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 23.280 \[23\] apply:

**MC service (MCS) group identity (ID)**

**MC service (MCS) server**

**MC service (MCS) user identity (ID)**

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 23.179 \[4\] apply:

**MCPTT group identity**

**MCPTT server**

**MCPTT service**

**MCPTT user identity**

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 23.281 \[24\] apply:

**MCVideo group**

**MCVideo group id**

**MCVideo server**

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 23.282 \[25\] apply:

**MCData group**

**MCData group id**

**MCData server**

For the purposes of the present document, the following terms and
definitions given in OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] apply:

**Group**

**XDMC**

**Group XDMS**

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 23.228 \[11\] apply:

**Public Service Identity**

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 33.180 \[29\] apply:

**Group Master Key (GMK)**

**Group Master Key Identifier (GMK-ID)**

**Multicast Key for Floor Control (MKFC)**

**Identifier of Multicast Key for Floor Control (MKFC-ID)**

**Multicast Signalling Key (MuSiK)**

**Multicast Signalling Key Identifier (MuSiK-ID)**

3.2 Abbreviations
-----------------

For the purposes of the present document, the abbreviations given in
3GPP TR 21.905 \[1\] and the following apply. An abbreviation defined in
the present document takes precedence over the definition of the same
abbreviation, if any, in 3GPP TR 21.905 \[1\].

GC General Client

GKTP Group Key Transport Payload

GMC Group Management Client

GMOP Group Management OPeration

GMS Group Management Server

HTTP HyperText Transfer Protocol

ICSI IMS Communication Service Identifier

ID IDentifier

IETF Internet Engineering Task Force

MCS Mission Critical Service

MCSs Mission Critical Services

MCPTT Mission Critical Push To Talk

MIME Multipurpose Internet Mail Extensions

OMA Open Mobile Alliance

UE User Equipment

URI Uniform Resource Identifier

XDMC XML Document Management Client

XDMS XML Document Management Server

XML eXtensible Markup Language

4 General
=========

The present document enables a group management client (GMC) and a
mission critical service (MCS) server to manage group documents in a
group management server (GMS).

5 Functional entities
=====================

5.1 Group management client (GMC)
---------------------------------

To be compliant with the procedures in the present document, a GMC:

\- shall support the role of XCAP client as specified in
IETF RFC 4825 \[22\];

\- shall support the role of XDMC as specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

\- shall support the procedure in subclause 6.2.3;

\- may support the procedure in subclause 6.3.2.2.2;

\- shall support the procedure in subclause 6.3.3.2.2;

\- may support the procedure in subclause 6.3.4.2.2;

\- may support the procedure in subclause 6.3.5.2.2;

\- may support the procedure in subclause 6.3.6.2.2;

\- may support the procedure in subclause 6.3.7.2.2;

\- may support the procedure in subclause 6.3.8.2.2;

\- may support the procedure in subclause 6.3.9.2.2;

\- may support the procedure in subclause 6.3.10.2.2;

\- may support the procedure in subclause 6.3.11.2.2;

\- may support the procedure in subclause 6.3.12.2.2;

\- shall support the procedure in subclause 6.3.13.2.1;

\- may support the procedure in subclause 6.3.14.2;

\- may support the procedure in subclause 6.3.15.2; and

\- shall support the procedure in subclause 6.3.16.2.

5.2 Group management server (GMS)
---------------------------------

To be compliant with the procedures in the present document, a GMS:

\- shall support the role of XCAP server as specified in
IETF RFC 4825 \[22\];

\- shall support the role of Group XDMS as specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

\- shall support the procedure in subclause 6.2.5;

\- shall support the procedure in subclause 6.3.2.3;

\- shall support the procedure in subclause 6.3.3.3;

\- shall support the procedure in subclause 6.3.4.3;

\- shall support the procedure in subclause 6.3.5.3;

\- shall support the procedure in subclause 6.3.6.3;

\- shall support the procedure in subclause 6.3.7.3;

\- shall support the procedure in subclause 6.3.8.3;

\- shall support the procedure in subclause 6.3.9.3;

\- shall support the procedure in subclause 6.3.10.3;

\- shall support the procedure in subclause 6.3.11.3;

\- shall support the procedure in subclause 6.3.12.3;

\- shall support the procedure in subclause 6.3.13.2.3;

\- shall support the procedure in subclause 6.3.13.3;

\- shall support the procedure in subclause 6.3.14.3;

\- shall support the procedure in subclause 6.3.15.3; and

\- shall support the procedure in subclause 6.3.16.3.

5.2A MCS server
---------------

To be compliant with the procedures in the present document, an MCS
server:

\- shall support the role of XCAP client as specified in
IETF RFC 4825 \[22\];

\- shall support the role of XDMC as specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

\- shall support the procedure in subclause 6.2.4;

\- shall support the procedure in subclause 6.3.3.2.3; and

\- shall support the procedure in subclause 6.3.13.2.2.

5.3 MCPTT server
----------------

To be compliant with the procedures in the present document, an MCPTT
server shall support role of an MCS server as specified in
subclause 5.2A.

5.4 MCVideo server
------------------

To be compliant with the procedures in the present document, an MCVideo
server shall support role of an MCS server as specified in
subclause 5.2A.

5.5 MCData server
-----------------

To be compliant with the procedures in the present document, an MCData
server shall support role of an MCS server as specified in
subclause 5.2A.

6 Procedures
============

6.1 Introduction
----------------

This clause specifies procedures enabling a group management client
(GMC) and an MCS server to manage group documents in a group management
server (GMS).

6.2 Common procedures
---------------------

### 6.2.1 General

This subclause contains common procedures applied on HTTP signalling
specified in the present document.

### 6.2.2 General client (GC) procedures

#### 6.2.2.1 General

GC procedures are usable by both GMC and MCS server.

#### 6.2.2.2 Accessing group document by group ID

In order to address an existing group document defining a group ID known
by GC, the GC shall set the Request-URI of an HTTP request to a XCAP URI
identifying a group document addressed by a group ID as described in
subclause 7.2.10.2, where the group ID is set to the group ID known by
GC and where the XCAP root URI is the XCAP root URI configured in the
GC.

### 6.2.3 Group management client (GMC) procedures

The GMC shall send the HTTP request over a TLS connection as specified
for the HTTP client in the UE in annex A of 3GPP TS 24.482 \[10\].

The GMC shall perform the procedures in subclause 6.2.2 specified for
GC.

### 6.2.4 MCS server procedures

The MCS server shall send the HTTP request as specified for the HTTP
client in the network entity in annex A of 3GPP TS 24.482 \[10\].

The MCS server shall perform the procedures in subclause 6.2.2 specified
for GC.

### 6.2.5 Group management server (GMS) procedures

#### 6.2.5.1 General

The GMS shall handle the HTTP request as specified for the HTTP server
in annex A of 3GPP TS 24.482 \[10\].

The GMS server shall send the HTTP request as specified for the HTTP
client in the network entity in annex A of 3GPP TS 24.482 \[10\].

The GMS shall be configured with own public service identity for
accessing documents.

The GMS shall be configured with an authorized GMS list, containing:

a\) own public service identity for accessing documents; and

b\) public service identities for accessing documents of GMSs of MCS
providers which are partners of the MCS provider of the GMS.

The GMS shall be configured with an authorized MCS server list,
containing public service identities of MCS servers of the MCS provider
of the GMS.

The GMS shall handle SIP requests and SIP responses as specified in
3GPP TS 24.229 \[12\].

#### 6.2.5.2 Configuration for access to group document of another MCS provider or to MCS GKTP document of another MCS provider

The GMS shall be configured with a group ID routing database. The group
ID routing database consists of mapping of a group ID of another MCS
provider to:

a\) an XCAP root URI of the MCS provider; and

b\) a public service identity for accessing documents of the MCS
provider.

#### 6.2.5.3 Forwarding HTTP request accessing a group document of other MCS provider

If the GMS receives an HTTP request with Request-URI identifying a group
document addressed by a group ID as described in subclause 7.2.10.2 and
the group ID in the Request-URI identifies a group of another MCS
provider, then GMS:

a\) shall derive XCAP root URI of the other MCS provider using the group
ID routing database as specified in subclause 6.2.5.2 and the group ID
in the Request-URI;

b\) shall replace the XCAP root URI of the Request URI with the derived
XCAP root URI of the other MCS provider;

c\) if the X-3GPP-Asserted-Identity header field is not present in the
received HTTP request, shall insert an X-3GPP-Asserted-Identity header
field with the identity of the sender of the HTTP request determined as
specified in 3GPP TS 24.482 \[10\];

d\) if the Authorization header field is present in the received HTTP
request, shall remove the Authorization header field from the HTTP
request; and

e\) shall forward the HTTP request.

#### 6.2.5.4 Authenticated identity in HTTP request

When handling an HTTP request, the GMS shall determine the identity of
the sender of the HTTP request as specified in 3GPP TS 24.482 \[10\],
and shall use the identity of the sender of the HTTP request as an
authenticated identity when performing the authorization:

#### 6.2.5.5 SIP failure case

When initiating a SIP failure response to any received SIP request,
depending on operator policy, the GMS may insert a SIP Response-Source
header field in accordance with the procedures in subclause 5.7.1.0 of
3GPP TS 24.229 \[12\], where the \"role\" header field parameter is set
to \"gms\"

6.3 Group management procedures
-------------------------------

### 6.3.1 General

The following procedures are defined for management of group documents:

\- group document creation procedure;

\- group document retrieval procedure;

\- group document update procedure;

\- group document deletion procedure;

\- group document element creation or replacement procedure;

\- group document element deletion procedure;

\- group document element fetching procedure;

\- group document attribute creation or replacement procedure;

\- group document attribute deletion procedure;

\- group document attribute fetching procedure;

\- group document namespace binding fetching procedure;

\- group document subscription and notification procedure;

\- temporary MCS group formation procedure;

\- temporary MCS group tear down procedure; and

\- group document excluding group members retrieval procedure.

NOTE: CSC-3 part of MCS group affiliation procedure and CSC-3 part of
MCS group de-affiliation procedure are not specified in this version of
the present document.

### 6.3.2 Group document creation procedure

#### 6.3.2.1 General

This procedure enables the GMC to create a group document in GMS.

#### 6.3.2.2 Client procedures

##### 6.3.2.2.1 General client (GC) procedures

In order to create a group document, a GC shall create an XML document
of the application usage specified in subclause 7.2.1 and shall send the
XML document to the network according to procedures specified in
IETF RFC 4825 \[22\] \"*Create or Replace a Document*\". The GC shall
set the Request-URI of the HTTP PUT request to an XCAP URI in users tree
where the XUI is set to a group creation XUI configuration parameter.

##### 6.3.2.2.2 Group management client (GMC) procedures

In order to create a group document, a GMC shall perform the procedures
in subclause 6.3.2.2.1 specified for GC.

NOTE: When the GMC has not received the assigned MCS group ID from the
GMS, the GMC can set empty value to the \"uri\" attribute of the
\<list-service\> element of the \<group\> element of the XML document
specified in subclause 7.2.1.

Upon reception of an HTTP 409 (Conflict) response with at least one
\<alt-value\> element in the \<uniqueness-failure\> error element, the
GMC may repeat procedures of the present subclause and identify the MCS
group being created with an MCS Group ID indicated in an \<alt-value\>
element.

#### 6.3.2.3 Group management server (GMS) procedures

Upon reception of an HTTP PUT request where the Request-URI of the HTTP
PUT request identifies an XML document of the application usage
specified in subclause 7.2

then the GMS:

a\) shall determine the identity of the sender of the received HTTP PUT
request as specified in subclause 6.2.5;

b\) if the identity of the sender of the received HTTP PUT request is
not authorized to initiate group creation, shall respond with a HTTP 403
(Forbidden) response to the HTTP PUT request and shall not continue with
rest of the steps;

c\) if value of the \"uri\" attribute of the \<list-service\> element of
the \<group\> element of the XML document specified in subclause 7.2.1
of the received HTTP PUT request does not conform to local policy, shall
respond with an HTTP 409 (Conflict) response to the HTTP PUT request.
The \<uniqueness-failure\> error element shall identify the error
condition. The GMS shall include at least one \<alt-value\> element in
the \<uniqueness-failure\> error element, whereby each \<alt-value\>
element contains an MCS Group ID acceptable for the GMS. The GMS shall
not continue with rest of the steps; and

d\) shall support receiving an XML document of the application usage
specified in subclause 7.2.1 according to procedures specified in
IETF RFC 4825 \[22\] \"*PUT Handling*\" where the Request-URI of the
HTTP PUT request identifies an XML document of the application usage
specified in subclause 7.2.

### 6.3.3 Group document retrieval procedure

#### 6.3.3.1 General

This procedure enables the GMC or the MCS server to retrieve a group
document from the GMS.

#### 6.3.3.2 Client procedures

##### 6.3.3.2.1 General client (GC) procedures

In order to retrieve a group document, a GC shall send an HTTP GET
request with the Request URI that references the document to be
retrieved to the network according to procedures specified in
IETF RFC 4825 \[22\] \"*Fetch a Document*\".

##### 6.3.3.2.2 Group management client (GMC) procedures

In order to retrieve a group document, a GMC shall perform the
procedures in subclause 6.3.3.2.1 specified for GC.

##### 6.3.3.2.3 MCS server procedures

In order to retrieve a group document, an MCS server shall perform the
procedures in subclause 6.3.3.2.1 specified for a GC.

#### 6.3.3.3 Group management server (GMS) procedures

A GMS shall support handling an HTTP GET request from a GMC according to
procedures specified in IETF RFC 4825 \[22\] \"*GET Handling*\" where
the Request-URI of the HTTP GET request identifies an XML document of
the application usage specified in subclause 7.2.

### 6.3.4 Group document update procedure

#### 6.3.4.1 General

This procedure enables the GMC to update a group document in the GMS.

#### 6.3.4.2 Client procedures

##### 6.3.4.2.1 General client (GC) procedures

In order to update a group document, a GC shall create an XML document
of the application usage specified in subclause 7.2.1 and shall send the
XML document to the network according to procedures specified in
IETF RFC 4825 \[22\] \"*Create or Replace a Document*\".

##### 6.3.4.2.2 Group management client (GMC) procedures

In order to update a group document, a GMC shall perform the procedures
in subclause 6.3.4.2.1 specified for a GC.

#### 6.3.4.3 Group management server (GMS) procedures

A GMS shall support receiving an XML document of the application usage
specified in subclause 7.2.1 according to procedures specified in
IETF RFC 4825 \[22\] \"*PUT Handling*\" where the Request-URI of the
HTTP PUT request identifies an XML document of the application usage
specified in subclause 7.2.

### 6.3.5 Group document deletion procedure

#### 6.3.5.1 General

This procedure enables the GMC to delete a group document in the GMS.

#### 6.3.5.2 Client procedures

##### 6.3.5.2.1 General client (GC) procedures

In order to delete a group document, a GC shall send an HTTP DELETE
request with the Request URI that references the document to be deleted
to the network according to procedures specified in IETF RFC 4825 \[22\]
\"*Delete a Document*\".

##### 6.3.5.2.2 Group management client (GMC) procedures

In order to delete a group document, a GMC shall perform the procedures
in subclause 6.3.5.2.1 specified for a GC.

#### 6.3.5.3 Group management server (GMS) procedures

A GMS shall support handling an HTTP DELETE request from a GMC according
to procedures specified in IETF RFC 4825 \[22\] \"*DELETE Handling*\"
where the Request-URI of the HTTP DELETE request identifies an XML
document of the application usage specified in subclause 7.2.

### 6.3.6 Group document element creation or replacement procedure

#### 6.3.6.1 General

This procedure enables the GMC to create or replace an element of a
group document from the GMS.

#### 6.3.6.2 Client procedures

##### 6.3.6.2.1 General client (GC) procedures

In order to create or replace an element of a group document, a GC shall
send an HTTP PUT request with the Request URI that references the
element of the document to be created or replaced to the network
according to procedures specified in IETF RFC 4825 \[22\] \"*Create or
Replace an Element*\".

##### 6.3.6.2.2 Group management client (GMC) procedures

In order to create or replace an element of a group document, a GMC
shall perform the procedures in subclause 6.3.6.2.1 specified for a GC.

#### 6.3.6.3 Group management server (GMS) procedures

A GMS shall support handling an HTTP PUT request from a GMC according to
procedures specified in IETF RFC 4825 \[22\] \"*PUT Handling*\" where
the Request-URI of the HTTP PUT request identifies an element of XML
document of the application usage specified in subclause 7.2.

### 6.3.7 Group document element deletion procedure

#### 6.3.7.1 General

This procedure enables the GMC to delete an element of a group document
from the GMS.

#### 6.3.7.2 Client procedures

##### 6.3.7.2.1 General client (GC) procedures

In order to delete an element of a group document, a GC shall send an
HTTP DELETE request with the Request URI that references the element of
the document to be deleted to the network according to procedures
specified in IETF RFC 4825 \[22\] \"*Delete an Element*\".

##### 6.3.7.2.2 Group management client (GMC) procedures

In order to delete an element of a group document, a GMC shall perform
the procedures in subclause 6.3.7.2.1 specified for a GC.

#### 6.3.7.3 Group management server (GMS) procedures

A GMS shall support handling an HTTP DELETE request from a GMC according
to procedures specified in IETF RFC 4825 \[22\] \"*DELETE Handling*\"
where the Request-URI of the HTTP DELETE request identifies an element
of XML document of the application usage specified in subclause 7.2.

### 6.3.8 Group document element fetching procedure

#### 6.3.8.1 General

This procedure enables the GMC to fetch an element of a group document
from the GMS.

#### 6.3.8.2 Client procedures

##### 6.3.8.2.1 General client (GC) procedures

In order to fetch an element of a group document, a GC shall send an
HTTP GET request with the Request URI that references the element of the
document to be fetched to the network according to procedures specified
in IETF RFC 4825 \[22\] \"*Fetch an Element*\".

##### 6.3.8.2.2 Group management client (GMC) procedures

In order to fetch an element of a group document, a GMC shall perform
the procedures in subclause 6.3.8.2.1 specified for a GC.

#### 6.3.8.3 Group management server (GMS) procedures

A GMS shall support handling an HTTP GET request from a GMC according to
procedures specified in IETF RFC 4825 \[22\] \"*GET Handling*\" where
the Request-URI of the HTTP GET request identifies an element of XML
document of the application usage specified in subclause 7.2.

### 6.3.9 Group document attribute creation or replacement procedure

#### 6.3.9.1 General

This procedure enables the GMC to create or replace an attribute of a
group document from the GMS.

#### 6.3.9.2 Client procedures

##### 6.3.9.2.1 General client (GC) procedures

In order to create or replace an attribute of a group document, a GC
shall send an HTTP PUT request with the Request URI that references the
attribute of the document to be created or replaced to the network
according to procedures specified in IETF RFC 4825 \[22\] \"*Create or
Replace an Attribute*\".

##### 6.3.9.2.2 Group management client (GMC) procedures

In order to create or replace an attribute of a group document, a GMC
shall perform the procedures in subclause 6.3.9.2.1 specified for a GC.

#### 6.3.9.3 Group management server (GMS) procedures

A GMS shall support handling an HTTP PUT request from a GMC according to
procedures specified in IETF RFC 4825 \[22\] \"*PUT Handling*\" where
the Request-URI of the HTTP PUT request identifies an attribute of XML
document of the application usage specified in subclause 7.2.

### 6.3.10 Group document attribute deletion procedure

#### 6.3.10.1 General

This procedure enables the GMC to delete an attribute of a group
document from the GMS.

#### 6.3.10.2 Client procedures

##### 6.3.10.2.1 General client (GC) procedures

In order to delete an attribute of a group document, a GC shall send an
HTTP DELETE request with the Request URI that references the attribute
of the document to be deleted to the network according to procedures
specified in IETF RFC 4825 \[22\] \"*Delete an Attribute*\".

##### 6.3.10.2.2 Group management client (GMC) procedures

In order to delete an attribute of a group document, a GMC shall perform
the procedures in subclause 6.3.10.2.1 specified for a GC.

#### 6.3.10.3 Group management server (GMS) procedures

A GMS shall support handling an HTTP DELETE request from a GMC according
to procedures specified in IETF RFC 4825 \[22\] \"*DELETE Handling*\"
where the Request-URI of the HTTP DELETE request identifies an attribute
of XML document of the application usage specified in subclause 7.2.

### 6.3.11 Group document attribute fetching procedure

#### 6.3.11.1 General

This procedure enables the GMC to fetch an attribute of a group document
from the GMS.

#### 6.3.11.2 Client procedures

##### 6.3.11.2.1 General client (GC) procedures

In order to fetch an attribute of a group document, a GC shall send an
HTTP GET request with the Request URI that references the attribute of
the document to be fetched to the network according to procedures
specified in IETF RFC 4825 \[22\] \"*Fetch an Attribute*\".

##### 6.3.11.2.2 Group management client (GMC) procedures

In order to fetch an attribute of a group document, a GMC shall perform
the procedures in subclause 6.3.11.2.1 specified for a GC.

#### 6.3.11.3 Group management server (GMS) procedures

A GMS shall support handling an HTTP GET request from a GMC according to
procedures specified in IETF RFC 4825 \[22\] \"*GET Handling*\" where
the Request-URI of the HTTP GET request identifies an attribute of XML
document of the application usage specified in subclause 7.2.

### 6.3.12 Group document namespace binding fetching procedure

#### 6.3.12.1 General

This procedure enables the GMC to fetch a namespace binding of a group
document from the GMS.

#### 6.3.12.2 Client procedures

##### 6.3.12.2.1 General client (GC) procedures

In order to fetch a namespace binding of a group document, a GC shall
send an HTTP GET request according to procedures specified in
IETF RFC 4825 \[22\] \"*Fetch Namespace Bindings*\".

##### 6.3.12.2.2 Group management client (GMC) procedures

In order to fetch a namespace binding of a group document, a GMC shall
perform the procedures in subclause 6.3.12.2.1 specified for a GC.

#### 6.3.12.3 Group management server (GMS) procedures

A GMS shall support handling an HTTP GET request from a GMC according to
procedures specified in IETF RFC 4825 \[22\] \"*GET Handling*\" where
the Request-URI of the HTTP GET request identifies a namespace binding
of XML document of the application usage specified in subclause 7.2.

### 6.3.13 Group document subscription and notification procedure

#### 6.3.13.1 General

This procedure enables the GMC to subscribe to notification of changes
of:

a\) one or more MCS group documents;

b\) \<GKTPs\> elements of one or more MCS GKTP documents; or

c\) both.

The group management procedures are MC service agnostic. However, for
historical reasons the procedures use MCPTT elements to populate the
service specific MIME bodies, header fields and header field parameters.
The GMC uses the access token received during authentication.

This procedure enables the MCS server to subscribe to notification of
changes of:

a\) one or more MCS group documents.

This procedure enables the GMS owning a constituent MCS group of a
temporary MCS group to subscribe to notification of changes of:

a\) an MCS group document of the temporary MCS group;

b\) a \<GKTPs\> element of an MCS GKTP document for the temporary MCS
group; or

c\) both.

#### 6.3.13.2 Client procedures

##### 6.3.13.2.1 Group management client (GMC) procedures

In order to subscribe to notification of changes of:

a\) one or more MCS group documents of MCS groups identified by MCS
group IDs;

b\) \<GKTPs\> elements of one or more MCS GKTP documents for MCS groups
identified by MCS group IDs; or

c\) both;

a GMC shall send an initial SIP SUBSCRIBE request to the network
according to the UE originating procedures specified in
3GPP TS 24.229 \[12\] and IETF RFC 5875 \[13\]. In the initial SIP
SUBSCRIBE request, the GMC:

a\) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the GMC shall include one
\<entry\> element for each document or element to be subscribed to, such
that the \"uri\" attribute of the \<entry\> element:

1\) contains a relative path reference:

A\) with the base URI being equal to the XCAP root URI configured in the
GMC; and

B\) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; or

2\) contains a relative path reference:

A\) with the base URI being equal to the XCAP root URI configured in the
GMC;

B\) with the document selector identifying the MCS GKTP document as
described in subclause 7.7.10 where the group ID is set to the MCS group
ID; and

C\) with the node selector identifying a \<GKTPs\> element of the MCS
GKTP document;

b\) shall set the Request-URI to the configured public service identity
for performing subscription proxy function of the GMS;

c\) shall include an application/vnd.3gpp.mcptt-info+xml MIME body with
the \<mcptt-access-token\> element set to the value of the access token
received during authentication procedure as described in
3GPP TS 24.482 \[49\];

d\) if identity hiding is required:

1\) shall perform the confidentiality protection procedures and
integrity protection procedures defined in 3GPP TS 24.379 \[5\] for
MCPTT client on the application/vnd.3gpp.mcptt-info+xml MIME body and on
the application/resource-lists+xml MIME body; and

2\) shall include an application/mikey MIME body with the CSK as
specified in 3GPP TS 24.379 \[5\];

e\) shall include the ICSI value
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded as specified in
3GPP TS 24.229 \[12\]), in a P-Preferred-Service header field according
to IETF RFC 6050 \[14\]; and

f\) shall include the g.3gpp.icsi-ref media feature tag containing the
value of \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header
field.

Upon receiving a SIP NOTIFY request associated with a subscription
created as result of the sent initial SIP SUBSCRIBE request:

1\) if identity hiding is required, the GMC shall perform the
confidentiality protection procedures and integrity protection
procedures defined in 3GPP TS 24.379 \[5\] for MCPTT client; and

2\) shall handle the SIP NOTIFY request according to
IETF RFC 5875 \[13\].

In order to re-subscribe to notification of changes of a modified list
of:

a\) one or more MCS group documents of MCS groups identified by MCS
group IDs;

b\) \<GKTPs\> elements of one or more MCS GKTP documents for MCS groups
identified by MCS group IDs; or

c\) both;

a GMC shall send a SIP re-SUBSCRIBE request to the network according to
the UE originating procedures specified in 3GPP TS 24.229 \[12\] and
IETF RFC 5875 \[13\]. In the SIP re-SUBSCRIBE request, the GMC:

a\) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the GMC shall include one
\<entry\> element for each document or element to be subscribed to, such
that the \"uri\" attribute of the \<entry\> element:

1\) contains a relative path reference:

A\) with the base URI being equal to the XCAP root URI configured in the
GMC; and

B\) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; or

2\) contains a relative path reference:

A\) with the base URI being equal to the XCAP root URI configured in the
GMC;

B\) with the document selector identifying the MCS GKTP document as
described in subclause 7.7.10 where the group ID is set to the MCS group
ID; and

C\) with the node selector identifying a \<GKTPs\> element of the MCS
GKTP document;

b\) if identity hiding is required, shall perform the confidentiality
protection procedures and integrity protection procedures defined in
3GPP TS 24.379 \[5\] for MCPTT client on the
application/vnd.3gpp.mcptt-info+xml MIME body and on the
application/resource-lists+xml MIME body using the CSK included in the
initial SIP SUBSCRIBE request; and

c\) shall include the g.3gpp.icsi-ref media feature tag containing the
value of \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header
field.

##### 6.3.13.2.2 MCS server procedures

In order to subscribe to notification of changes of:

a\) one or more MCS group documents of MCS groups identified by MCS
group IDs;

an MCS server shall send an initial SIP SUBSCRIBE request to the network
according to the originating AS procedures specified in
3GPP TS 24.229 \[12\] and IETF RFC 5875 \[13\]. In the initial SIP
SUBSCRIBE request, MCS server:

a\) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the MCS server shall include
one \<entry\> element for each document or element to be subscribed to,
such that the \"uri\" attribute of the \<entry\> element:

1\) contains a relative path reference:

A\) with the base URI being equal to the XCAP root URI configured in the
MCS server; and

B\) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID;

b\) shall set the Request-URI to the configured public service identity
for performing subscription proxy function of the GMS;

c\) shall include a P-Asserted-Identity header field containing the
public service identity of the MCS server;

e\) shall include the ICSI value
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded as specified in
3GPP TS 24.229 \[12\]), in a P-Asserted-Service header field according
to IETF RFC 6050 \[14\]; and

f\) shall include the g.3gpp.icsi-ref media feature tag containing the
value of \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header
field.

Upon receiving a SIP NOTIFY request associated with a subscription
created as result of the sent initial SIP SUBSCRIBE request, the MCS
server shall handle the SIP NOTIFY request according to
IETF RFC 5875 \[13\].

In order to re-subscribe to notification of changes of a modified list
of:

a\) one or more MCS group documents of MCS groups identified by MCS
group IDs,

the MCS server shall send a SIP re-SUBSCRIBE request to the network
according to the originating AS procedures specified in
3GPP TS 24.229 \[12\] and IETF RFC 5875 \[13\]. In the SIP re-SUBSCRIBE
request, MCS server:

a\) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the MCS server shall include
one \<entry\> element for each document or element to be subscribed to,
such that the \"uri\" attribute of the \<entry\> element:

1\) contains a relative path reference:

A\) with the base URI being equal to the XCAP root URI configured in the
MCS server; and

B\) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; and

b\) shall include the g.3gpp.icsi-ref media feature tag containing the
value of \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header
field.

##### 6.3.13.2.3 Procedure of group management server (GMS) owning a constituent MCS group acting as subscriber

In order to subscribe to notification of changes of:

a\) an MCS group document of a temporary MCS group;

b\) a \<GKTPs\> element of an MCS GKTP document for the temporary MCS
group; or

c\) both;

such that the temporary MCS group is identified by a MCS group ID and an
MCS group owned by the GMS is a constituent MCS group of the temporary
MCS group, the GMS shall send an initial SIP SUBSCRIBE request to the
network according to the originating AS procedures specified in
3GPP TS 24.229 \[12\] and IETF RFC 5875 \[13\]. In the initial SIP
SUBSCRIBE request, the GMS:

a\) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the GMS shall include one
\<entry\> element for each document or element to be subscribed to, such
that the \"uri\" attribute of the \<entry\> element:

1\) contains a relative path reference:

A\) with the base URI being equal to the XCAP root URI of the MCS
provider of the GMS, if the MCS group ID is owned by the MCS provider of
the GMS;

B\) with the base URI being derived from the group ID routing database
specified in subclause 6.2.5.2 and the MCS group ID, if the MCS group ID
is owned by an MCS provider other than the MCS provider of the GMS; and

C\) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; or

2\) contains a relative path reference

A\) with the base URI being equal to the XCAP root URI of the MCS
provider of the GMS, if the MCS group ID is owned by the MCS provider of
the GMS; and

B\) with the base URI being equal to derived from the group ID routing
database specified in subclause 6.2.5.2 and the MCS group ID, if the MCS
group ID is owned by an MCS provider other than the MCS provider of the
GMS;

C\) with the document selector identifying the MCS GKTP document as
described in subclause 7.7.10 where the group ID is set to the MCS group
ID; and

D\) with the node selector identifying a \<GKTPs\> element of the MCS
GKTP document;

c\) shall set the Request-URI to:

1\) own public service identity for accessing documents, if the MCS
group ID is owned by the MCS provider of the GMS; and

2\) the public service identity for accessing documents of other MCS
provider derived from the group ID routing database specified in
subclause 6.2.5.2 and the MCS group ID, if the MCS group ID is owned by
an MCS provider other than the MCS provider of the GMS;

d\) shall include a P-Asserted-Identity header field containing the own
public service identity for accessing documents;

e\) shall include an application/vnd.3gpp.mcptt-info+xml MIME body. In
the application/vnd.3gpp.mcptt-info+xml MIME body, the GMS shall include
the \<mcptt-calling-group-id\> element set to the MCS ID of the
constituent MCS group;

f\) shall include the ICSI value
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded as specified in
3GPP TS 24.229 \[12\]), in a P-Asserted-Service header field according
to IETF RFC 6050 \[14\]; and

g\) shall include the g.3gpp.icsi-ref media feature tag containing the
value of \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header
field.

#### 6.3.13.3 Group management server (GMS) procedures

##### 6.3.13.3.1 General

The GMS procedures consist of:

a\) procedures of GMS performing the subscription proxy function; and

b\) procedures of GMS owning the MCS group.

The GMS shall be configured with own public service identity for
performing subscription proxy function of the GMS.

##### 6.3.13.3.2 Procedures of GMS performing the subscription proxy function

##### 6.3.13.3.2.1 General {#general-18 .H6}

The procedures of GMS performing the subscription proxy function consist
of:

a\) a GMC originated subscription proxy procedure; and

b\) a MCS server originated subscription proxy procedure; and

c\) a procedure for GMS acting as subscriber on behalf of GMC.

##### 6.3.13.3.2.2 GMC originated subscription proxy procedure {#gmc-originated-subscription-proxy-procedure .H6}

Upon reception of an initial SIP SUBSCRIBE request:

a\) with the Event header field set to xcap-diff;

b\) with the Request-URI set to own public service identity for
performing subscription proxy function of the GMS;

c\) with a P-Asserted-Identity header field not containing an identity
listed in the authorized MCS server list specified in subclause 6.2.5.1
and not containing an identity listed in the authorized GMS list as
specified in subclause 6.2.5.1;

d\) with an application/vnd.3gpp.mcptt-info+xml MIME body containing the
\<mcptt-access-token\> element;

e\) with an application/resource-lists+xml MIME body; and

f\) with the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded
as specified in 3GPP TS 24 229 \[12\]), in a P-Asserted-Service header
field according to IETF RFC 6050 \[14\];

the GMS:

a\) if an \<EncryptedData\> XML tag is included in the
application/vnd.3gpp.mcptt-info+xml MIME body and the CSK is received in
an application/mikey MIME body of the initial SIP SUBSCRIBE request,
shall decrypt the application/vnd.3gpp.mcptt-info+xml MIME body;

b\) if an \<EncryptedData\> XML tag is included in the
application/resource-lists+xml MIME body and the CSK is received in an
application/mikey MIME body of the initial SIP SUBSCRIBE request, shall
decrypt the application/resource-lists+xml MIME body;

c\) shall identify the originating MCS ID from \<mcptt-access-token\>
element received in the application/vnd.3gpp.mcptt-info+xml MIME body
and shall use the originating MCS ID as an authenticated identity when
performing the authorization;

d\) if the authenticated identity is not authorized to subscribe to
notification of changes of any resource in the
application/resource-lists+xml MIME body, shall reject the request with
a SIP 403 (Forbidden) response and shall not continue with rest of the
steps;

e\) act as a notifier according to IETF RFC 5875 \[13\]. Additionally,
if an XCAP URI in the \"uri\" attribute of the \<entry\> element of the
application/resource-lists+xml MIME body of the initial SIP SUBSCRIBE
request identifies:

1\) a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is an MCS group ID owned by an MCS
provider other than the MCS provider of the GMS; or

2\) a element of an MCS GKTP document as described in subclause 7.7.10
where the group ID is an MCS group ID owned by an MCS provider other
than the MCS provider of GMS;

shall perform the procedure in subclause 6.3.13.3.2.4 for each such MCS
group ID and shall interwork information of received SIP NOTIFY requests
in subclause 6.3.13.3.2.4 in SIP NOTIFY requests associated with a
subscription created as result of the received initial SIP SUBSCRIBE
request.

Upon sending a SIP NOTIFY request associated with a subscription created
as result of the received initial SIP SUBSCRIBE request, if the CSK is
received in an application/mikey MIME body of the initial SIP SUBSCRIBE
request, the GMS shall perform the confidentiality protection procedures
and integrity protection procedures defined in 3GPP TS 24.379 \[5\] for
MCS server.

Upon reception of a SIP re-SUBSCRIBE request:

a\) with the Event header field set to xcap-diff; and

b\) with an application/resource-lists+xml MIME body;

the GMS:

a\) if an \<EncryptedData\> XML tag is included in the
application/resource-lists+xml MIME body of the received SIP
re-SUBSCRIBE request and the CSK was received in an application/mikey
MIME body of the initial SIP SUBSCRIBE request, shall decrypt the
application/resource-lists+xml MIME body; and

b\) act as a notifier according to IETF RFC 5875 \[13\]. Additionally,
if an XCAP URI in the \"uri\" attribute of the \<entry\> element of the
application/resource-lists+xml MIME body of the SIP re-SUBSCRIBE request
identifies:

1\) a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is an MCS group ID owned by an MCS
provider other than the MCS provider of the GMS; or

2\) a element of an MCS GKTP document as described in subclause 7.7.10
where the group ID is an MCS group ID owned by an MCS provider other
than the MCS provider of GMS;

and for which there is no related subscription established according to
the subclause 6.3.13.3.2.4, shall perform the procedure in
subclause 6.3.13.3.2.4 for each such MCS group ID and shall interwork
information of received SIP NOTIFY requests in subclause 6.3.13.3.2.4 in
SIP NOTIFY requests associated with a subscription created as result of
the received initial SIP SUBSCRIBE request.

##### 6.3.13.3.2.3 MCS server originated subscription proxy procedure {#mcs-server-originated-subscription-proxy-procedure .H6}

Upon reception of an initial SIP SUBSCRIBE request:

a\) with the Event header field set to xcap-diff;

b\) with the Request-URI set to own public service identity for
performing subscription proxy function of the GMS;

c\) with a P-Asserted-Identity header field containing an identity
listed in the authorized MCS server list specified in subclause 6.2.5.1;

d\) with an application/resource-lists+xml MIME body; and

e\) with the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded
as specified in 3GPP TS 24 229 \[12\]), in a P-Asserted-Service header
field according to IETF RFC 6050 \[14\];

the GMS shall act as a notifier according to IETF RFC 5875 \[13\].

Upon reception of a SIP re-SUBSCRIBE request:

a\) with the Event header field set to xcap-diff; and

b\) with an application/resource-lists+xml MIME body;

the GMS:

a\) shall use URI of the P-Asserted-Identity header field as an
authenticated identity when performing the authorization;

b\) if the authenticated identity is not authorized to subscribe to
notification of changes of any document or element in the
application/resource-lists+xml MIME body, shall reject the request with
a SIP 403 (Forbidden) response and shall not continue with rest of the
steps; and

c\) shall act as a notifier according to IETF RFC 5875 \[13\].

##### 6.3.13.3.2.4 Procedure for GMS acting as subscriber on behalf of GMC {#procedure-for-gms-acting-as-subscriber-on-behalf-of-gmc .H6}

In order to subscribe to notification of changes of:

a\) an MCS group document of an MCS group;

b\) a \<GKTPs\> element of an MCS GKTP document for an MCS group; or

c\) both;

such that the MCS group is identified by a MCS group ID owned by an MCS
provider other than the MCS provider of the GMS, the GMS shall send an
initial SIP SUBSCRIBE request to the network according to the
originating AS procedures specified in 3GPP TS 24.229 \[12\] and
IETF RFC 5875 \[13\]. In the initial SIP SUBSCRIBE request, the GMS:

a\) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the GMS shall include one
\<entry\> element for each document or element to be subscribed to, such
that the \"uri\" attribute of the \<entry\> element contains XCAP URI:

1\) contains a relative path reference:

A\) with the base URI being derived from the group ID routing database
specified in subclause 6.2.5.2 and the MCS group ID; and

B\) identifying a group document addressed by a group ID as described in
subclause 7.2.10.2 where the group ID is set to the MCS group ID; or

2\) contains a relative path reference

A\) with the base URI being equal to the XCAP root URI of the MCS
provider of the GMS;

B\) with the document selector identifying the MCS GKTP document as
described in subclause 7.7.10 where the group ID is set to the MCS group
ID; and

C\) with the node selector identifying a \<GKTPs\> element of the MCS
GKTP document;

b\) shall set the Request-URI to the public service identity for
accessing documents of the other MCS provider derived from the group ID
routing database specified in subclause 6.2.5.2; and

c\) shall include a P-Asserted-Identity header field containing the own
public service identity for accessing documents;

d\) shall include an application/vnd.3gpp.mcptt-info+xml MIME body. In
the application/vnd.3gpp.mcptt-info+xml MIME body, the GMS shall include
the \<mcptt-calling-user-id\> element set to the originating MCS ID;

e\) shall include the ICSI value
\"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded as specified in 3GPP TS
24.229 \[12\]), in a P-Asserted-Service header field according to IETF
RFC 6050 \[14\]; and

f\) shall include the g.3gpp.icsi-ref media feature tag containing the
value of \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" in the Contact header
field.

Upon receiving a SIP NOTIFY request associated with a subscription
created as result of the sent initial SIP SUBSCRIBE request, the GMS
shall handle the SIP NOTIFY request according to IETF RFC 5875 \[13\]
and shall interwork the received information in subclause 6.3.13.3.2.2.

##### 6.3.13.3.3 Procedures of GMS owning the MCS group

Upon reception of an initial SIP SUBSCRIBE request:

a\) with the Event header field set to xcap-diff;

b\) with the Request-URI set to own public service identity for
accessing documents;

c\) with a P-Asserted-Identity header field containing an identity
listed in the authorized GMS list as specified in subclause 6.2.5.1;

d\) with an application/resource-lists+xml MIME body;

e\) with an application/vnd.3gpp.mcptt-info+xml MIME body; and

f\) with the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcptt\" (coded
as specified in 3GPP TS 24 229 \[12\]), in a P-Asserted-Service header
field according to IETF RFC 6050 \[14\];

the GMS:

a\) if the \<mcptt-calling-user-id\> element is included in the
application/vnd.3gpp.mcptt-info+xml MIME body:

1\) shall use the \<mcptt-calling-user-id\> element value as an
authenticated identity when performing the authorization; and

2\) if the authenticated identity is not authorized to subscribe to
notification of changes of any document or element in the
application/resource-lists+xml MIME body, shall reject the request with
a SIP 403 (Forbidden) response and shall not continue with rest of the
steps;

b\) if the \<mcptt-calling-group-id\> element is included in the
application/vnd.3gpp.mcptt-info+xml MIME body:

1\) when performing the authorization, shall use URI of the
P-Asserted-Identity header field as an authenticated identity and shall
determine that the subscription is on behalf of the identity in the
\<mcptt-calling-group-id\> element;

2\) if the authenticated identity is not authorized to subscribe to
notification of changes of any document or element in the
application/resource-lists+xml MIME body, shall reject the request with
a SIP 403 (Forbidden) response and shall not continue with rest of the
steps; and

3\) if the MCS group ID indicated in the \<mcptt-calling-group-id\>
element is a constituent MCS group of a temporary MCS group and the
documents or elements indicated in the application/resource-lists+xml
MIME body are not associated with the temporary MCS group ID, shall
reject the request with a SIP 403 (Forbidden) response and shall not
continue with rest of the steps; and

c\) shall act as a notifier according to IETF RFC 5875 \[13\].

### 6.3.14 Temporary MCS group formation procedure

#### 6.3.14.1 General

This procedure enables a GMC to initiate creation of a temporary MCS
group by combining MCS groups.

NOTE: The temporary MCS group formation procedure does not ensure that
the MCSs of the temporary MCS group are the same as MCSs of each
constituent MCS group of the temporary MCS group.

#### 6.3.14.2 Group management client (GMC) procedures

In order to form a temporary MCS group, a GMC shall send a HTTP POST
request according to procedures specified in IETF RFC 2616 \[21\] and
subclause 6.2.3. In the HTTP POST request, the GMC:

a\) shall set the Request-URI to an XCAP URI:

1\) in users tree where the XUI is set to a group creation XUI
configuration parameter; and

2\) with the document selector identifying the temporary MCS group to be
created; and

b\) shall include an application/vnd.3gpp.GMOP+xml MIME body containing
a GMOP document requesting group regroup creation specified in
subclause 7.3.4.3, with a \<group\> element containing a group document
for an MCS group. In the group document, the GMC shall include the
\<on-network-temporary\> element according to subclause 7.2. In the
\<on-network-temporary\> element, the GMC shall include
\<constituent-MCPTT-group-IDs\> element according to subclause 7.2. In
the \<constituent-MCPTT-group-IDs\> element, the GMC shall include one
\<constituent-MCPTT-group-ID\> element according to subclause 7.2 for
each MCS group to be combined.

Upon reception of an HTTP 2xx response to the sent HTTP POST request,
the GMC shall consider the temporary MCS group formation as successful.

Upon reception of an HTTP 409 (Conflict) response with at least one
\<alt-value\> element in the \<uniqueness-failure\> error element, the
GMC may repeat procedures of the present subclause and identify the
temporary MCS group being formed with an MCS Group ID indicated in an
\<alt-value\> element.

#### 6.3.14.3 Group management server (GMS) procedures

##### 6.3.14.3.1 Procedure of GMS creating a temporary MCS group

Upon reception of an HTTP POST request:

a\) with a Request-URI with an XCAP URI identifying a non-existing group
document; and

b\) with an application/vnd.3gpp.GMOP+xml MIME body containing a GMOP
document requesting group regroup creation specified in
subclause 7.3.4.3;

then the GMS:

a\) shall determine the identity of the sender of the received HTTP POST
request as specified in subclause 6.2.5;

b\) if the identity of the sender of the received HTTP POST request is
not authorized to initiate temporary MCS group formation, shall respond
with HTTP 403 (Forbidden) response to the HTTP POST request and shall
not continue with rest of the steps;

c\) if value of the \"uri\" attribute of the \<list-service\> element of
the \<group\> element of the GMOP document requesting group regroup
creation specified in subclause 7.3.4.3 of the received HTTP POST
request does not conform to local policy, shall respond with an HTTP 409
(Conflict) response to the HTTP POST request. The \<uniqueness-failure\>
error element shall identify the error condition. The GMS shall include
at least one \<alt-value\> element in the \<uniqueness-failure\> error
element, whereby each \<alt-value\> element contains a MCS Group ID
acceptable for the GMS. The GMS shall not continue with rest of the
steps; and

d\) for each MCS group ID of an MCS group to be combined indicated in
content of a \<constituent-MCPTT-group-ID\> element of the
\<constituent-MCPTT-group-IDs\> element of the \<on-network-temporary\>
element of the group document of the \<group\> element of the GMOP
document requesting group regroup creation specified in
subclause 7.3.4.3 of the received HTTP POST request:

1\) shall send a HTTP POST request according to procedures specified in
IETF RFC 2616 \[21\] and subclause 6.2.5. In the HTTP POST request, the
GMS:

A\) shall set the Request-URI to an XCAP URI:

i\) with the document selector identifying a group document addressed by
a group ID as specified in subclause 7.2.10.2, where the group ID is set
to the MCS group ID of the MCS group to be combined;

ii\) with the node selector identifying a \<on-network-regrouped\>
element of the constituent MCS group such that the
\<on-network-regrouped\> element has the \"temporary-MCPTT-group-ID\"
attribute set to the content of the \"uri\" attribute of the
\<list-service\> element of the group document included in the received
HTTP POST request;

iii\) if the MCS group ID of the MCS group to be combined is owned by
the MCS provider of the GMS, with the XCAP root URI of the MCS provider
of the GMS; and

iv\) if the MCS group ID of the MCS group to be combined is owned by an
MCS provider other than the MCS provider of the GMS, with XCAP root URI
derived using the group ID routing database as specified in
subclause 6.2.5.2 and the MCS group ID of the MCS group to be combined;

B\) shall set the X-3GPP-Asserted-Identity header field as specified in
3GPP TS 24.482 \[10\] to a public service identity of the GMS; and

C\) shall include an application/vnd.3gpp.GMOP+xml MIME body containing
a GMOP document requesting group regroup check specified in
subclause 7.3.4.4 with a \<on-network-regrouped\> element. In the
\<on-network-regrouped\> element, the GMS:

i\) shall set the \"temporary-MCPTT-group-ID\" attribute to the content
of the \"uri\" attribute of the \<list-service\> element of the group
document included in the received HTTP POST request;

ii\) shall set the \"temporary-MCPTT-group-requestor\" attribute to the
identity of the sender of the received HTTP POST request;

iii\) shall include the \<constituent-MCPTT-group-IDs\> element set to
content of the \<constituent-MCPTT-group-IDs\> element of
\<on-network-temporary\> element of the \<list-service\> element of the
group document of the MCS group included in the received HTTP POST
request;

iv\) if an \<on-network-group-priority\> element is included in the
\<list-service\> element of the group document included in the received
HTTP POST request, shall include the \<on-network-group-priority\>
element set to content of the \<on-network-group-priority\> element of
the \<list-service\> element of the group document included in the
received HTTP POST request;

v\) if a \<protect-media\> element is included in the \<list-service\>
element of the group document included in the received HTTP POST
request, shall include the \<protect-media\> element set to content of
the \<protect-media\> element of the \<list-service\> element of the
group document included in the received HTTP POST request;

vi\) if a \<protect-floor-control-signalling\> element is included in
the \<list-service\> element of the group document included in the
received HTTP POST request, shall include the
\<protect-floor-control-signalling\> element set to content of the
\<protect-floor-control-signalling\> element of the \<list-service\>
element of the group document included in the received HTTP POST
request; and

vii\) if a \<require-multicast-floor-control-signalling\> element is
included in the \<list-service\> element of the group document included
in the received HTTP POST request, shall include the
\<require-multicast-floor-control-signalling\> element.

Upon reception of a HTTP 3xx, 4xx, or 5xx responses to a sent HTTP POST
request or upon timeout, the GMS shall send a HTTP 403 (Forbidden)
response to the received HTTP request and shall not continue with rest
of the steps.

Upon reception of HTTP 2xx responses to all sent HTTP POST requests, the
GMS:

a\) for each MCS group ID of an MCS group to be combined indicated in
content of a \<constituent-MCPTT-group-ID\> element of the
\<constituent-MCPTT-group-IDs\> element of the \<on-network-temporary\>
element of the \<group\> element of the GMOP document requesting group
regroup creation specified in subclause 7.3.4.3 of the received HTTP
POST request:

1\) shall send an HTTP POST request according to procedures specified in
IETF RFC 2616 \[21\] and subclause 6.2.5. In the HTTP POST request, the
GMS:

A\) shall set the Request-URI to an XCAP URI:

i\) with the document selector identifying a group document addressed by
a group ID as specified in subclause 7.2.10.2, where the group ID is set
to the MCS group ID of the MCS group to be combined;

ii\) with the node selector identifying a \<on-network-regrouped\>
element of the constituent MCS group such that the
\<on-network-regrouped\> element has the \"temporary-MCPTT-group-ID\"
attribute set to the content of the \"uri\" attribute of the
\<list-service\> element of the group document included in the received
HTTP POST request;

iii\) if the MCS group ID of the MCS group to be combined is owned by
the MCS provider of the GMS, with the XCAP root URI of the MCS provider
of the GMS; and

iv\) if the MCS group ID of the MCS group to be combined is owned by an
MCS provider other than the MCS provider of the GMS, with XCAP root URI
derived using the group ID routing database as specified in
subclause 6.2.5.2 and the MCS group ID of the MCS group to be combined;

B\) shall set the X-3GPP-Asserted-Identity header field as specified in
3GPP TS 24.482 \[10\] to a public service identity of the GMS; and

C\) shall include an application/vnd.3gpp.GMOP+xml MIME body with a GMOP
document requesting group regroup notification specified in
subclause 7.3.4.5. In the GMOP document requesting group regroup
notification, the GMS:

i\) shall include a \<on-network-regrouped\> element. In the
\<on-network-regrouped\> element, the GMS:

\- shall set the \"temporary-MCPTT-group-ID\" attribute to the content
of the \"uri\" attribute of the \<list-service\> element of the group
document included in the received HTTP POST request;

\- shall set the \"temporary-MCPTT-group-requestor\" attribute to the
identity of the sender of the received HTTP POST request;

\- shall include the \<constituent-MCPTT-group-IDs\> element set to
content of the \<constituent-MCPTT-group-IDs\> element of
\<on-network-temporary\> element of the \<list-service\> element of the
group document of the MCS group included in the received HTTP POST
request;

\- if an \<on-network-group-priority\> element is included in the
\<list-service\> element of the group document included in the received
HTTP POST request, shall include the \<on-network-group-priority\>
element set to content of the \<on-network-group-priority\> element of
the \<list-service\> element of the group document included in the
received HTTP POST request;

\- if a \<protect-media\> element is included in the \<list-service\>
element of the group document included in the received HTTP POST
request, shall include the \<protect-media\> element set to content of
the \<protect-media\> element of the \<list-service\> element of the
group document included in the received HTTP POST request;

\- if a \<protect-floor-control-signalling\> element is included in the
\<list-service\> element of the group document included in the received
HTTP POST request, shall include the
\<protect-floor-control-signalling\> element set to content of the
\<protect-floor-control-signalling\> element of the \<list-service\>
element of the group document included in the received HTTP POST
request; and

\- if a \<require-multicast-floor-control-signalling\> element is
included in the \<list-service\> element of the group document included
in the received HTTP POST request, shall include the
\<require-multicast-floor-control-signalling\> element.

NOTE: GMK is not included in the GMOP document requesting group regroup
notification as GMK is provided only using SIP.

Upon reception of HTTP 2xx responses to all sent HTTP POST requests, the
GMS shall create the group document of the temporary MCS group at the
location specified by the Request-URI of the received HTTP POST request
and shall send an HTTP 2xx response to the received HTTP request. In the
HTTP 2xx response, the GMS shall include an
application/vnd.3gpp.GMOP+xml MIME body containing a GMOP document with
group regroup creation response specified in subclause 7.3.4.6 with a
\<temporary-group-document-ETag\> element set to the current value of
the entity tag for the created group document of the temporary MCS
group.

##### 6.3.14.3.2 Procedure of GMS owning an MCS group to be combined

Upon reception of an HTTP POST request:

a\) with the Request-URI set to an XCAP URI identifying an existing or a
non-existing \<on-network-regrouped\> element of an existing group
document of an MCS group; and

b\) with an application/vnd.3gpp.GMOP+xml MIME body containing a GMOP
document requesting group regroup check specified in subclause 7.3.4.4;

the GMS:

a\) if:

1\) the Request-URI identifies an existing \<on-network-regrouped\>
element of an existing group document of an MCS group;

2\) the Request-URI identifies a non-existing \<on-network-regrouped\>
element of an existing group document defining a temporary MCS group;

3\) identity indicated in the X-3GPP-Asserted-Identity header field is
not listed in the authorized GMS list specified in subclause 6.2.5.1; or

4\) the MIME body of the HTTP POST request is not acceptable;

then shall respond with HTTP 403 (Forbidden) response to the HTTP POST
request and shall not continue with rest of the steps; and

b\) shall respond with HTTP 200 (OK) response to the HTTP POST request.

Upon reception of an HTTP POST request:

a\) with the Request-URI set to an XCAP URI identifying an existing or a
non-existing \<on-network-regrouped\> element of an existing group
document of an MCS group; and

b\) with an application/vnd.3gpp.GMOP+xml MIME body containing a GMOP
document requesting group regroup notification specified in
subclause 7.3.4.5;

the GMS:

a\) if:

1\) the Request-URI identifies an existing \<on-network-regrouped\>
element of an existing group document of an MCS group;

2\) the Request-URI identifies a non-existing \<on-network-regrouped\>
element of an existing group document defining a temporary MCS group;

3\) identity indicated in the X-3GPP-Asserted-Identity header field is
not listed in the authorized GMS list specified in subclause 6.2.5.1; or

4\) the MIME body of the HTTP POST request is not acceptable;

then shall respond with HTTP 403 (Forbidden) response to the HTTP POST
request and shall not continue with rest of the steps;

b\) shall place the \<on-network-regrouped\> element of the GMOP
document requesting group regroup notification of the HTTP POST request
at the location identified by the Request-URI of the received HTTP POST
request;

c\) shall respond with HTTP 200 (OK) response to the HTTP POST request;
and

NOTE: GMKis not included in the GMOP document requesting group regroup
notification as GMK is provided only using SIP.

d\) shall subscribe for changes of the MCS GKTP document of the
temporary MCS Group ID indicated in the \"temporary-MCPTT-group-ID\"
attribute of the \<on-network-regrouped\> element of the GMOP document
requesting group regroup notification according to subclause 6.3.13.2.3.

### 6.3.15 Temporary MCS group tear down procedure

#### 6.3.15.1 General

This procedure enables a GMC to initiate tear down of a temporary MCS
group.

#### 6.3.15.2 Group management client (GMC) procedures

In order to tear down a temporary MCS group, the GMC shall send an HTTP
DELETE request with Request-URI with an XCAP URI identifying a group
document of the temporary MCS group according to procedures specified in
IETF RFC 4825 \[22\] \"*Delete an Element*\".

#### 6.3.15.3 Group management server (GMS) procedures

##### 6.3.15.3.1 Procedure of GMS owning the temporary MCS group

Upon reception of an HTTP DELETE request with Request-URI with an XCAP
URI identifying a group document of a temporary MCS group, the GMS:

a\) for each constituent MCS group indicated in the group document
indicated by Request-URI:

1\) shall send an HTTP DELETE request. In the HTTP DELETE request, the
GMS:

A\) shall set the Request-URI to an XCAP URI:

i\) with the document selector identifying a group document addressed by
a group ID as specified in subclause 7.2.10.2, where the group ID is set
to the MCS group ID of the constituent MCS group;

ii\) with the node selector identifying a \<on-network-regrouped\>
element of the constituent MCS group, such that the
\"temporary-MCPTT-group-ID\" attribute of the \<on-network-regrouped\>
element contains the temporary MCS group ID of the temporary MCS group;

iii\) if the MCS group ID of the constituent MCS group is owned by the
MCS provider of the GMS, with the XCAP root URI of the MCS provider of
the GMS; and

iv\) if the MCS group ID of the constituent MCS group is owned by an MCS
provider other than the MCS provider of the GMS, with XCAP root URI
derived using the group ID routing database as specified in
subclause 6.2.5.2 and the MCS group ID of the constituent MCS group; and

B\) shall set the X-3GPP-Asserted-Identity header field as specified in
3GPP TS 24.482 \[10\] to a public service identity of the GMS.

Upon reception of an HTTP response to all sent HTTP DELETE requests, the
GMS shall remove the group document of the temporary MCS group and shall
send an HTTP 2xx response to the received HTTP request.

##### 6.3.15.3.2 Procedure of GMS owning a constituent MCS group

Upon reception of an HTTP DELETE request with Request-URI identifying a
\<on-network-regrouped\> element of an MCS group document, the GMS:

a\) if:

1\) the Request-URI identifies an existing \<on-network-regrouped\>
element of a non-existing group document; or

2\) identity indicated in the X-3GPP-Asserted-Identity header field is
not listed in the authorized GMS list specified in subclause 6.2.5.1;

then shall respond with HTTP 403 (Forbidden) response to the HTTP DELETE
request and shall not continue with rest of the steps; and

b\) shall act according to according to procedures specified in
IETF RFC 4825 \[22\] \"*DELETE Handling*\".

### 6.3.16 Group document excluding group members retrieval procedure

#### 6.3.16.1 General

This procedure enables the GMC to retrieve a group document excluding
group members from the GMS.

When the MCS user requires the group document, then the default action
by the GMC is to use the procedure in subclause 6.3.16.2 to request the
group document excluding the group members from the GMS. If the MCS user
requires the group document including the group members, then the GMC
will request the entire group document using the procedures described in
subclause 6.3.3.2.1.

#### 6.3.16.2 Group management client (GMC) procedures

In order to retrieve a group document except group members, a GMC shall
send an HTTP POST request according to procedures specified in
IETF RFC 2616 \[21\] and subclause 6.2.3. In the HTTP POST request, the
GMC:

a\) shall set the Request-URI to XCAP URI of the group document
addressed by a group ID; and

b\) shall include an application/vnd.3gpp.GMOP+xml MIME body containing
a GMOP document requesting retrieval of a group document excluding group
members specified in subclause 7.3.4.2.

Upon reception of an HTTP 2xx response to the HTTP POST request such
that the HTTP 2xx response contains a MIME body of the MIME type
specified in subclause 7.2.6, the GMC shall consider the MIME body as
the group document excluding group members.

#### 6.3.16.3 Group management server (GMS) procedures

Upon reception of an HTTP POST request:

a\) with a Request-URI set to an XCAP URI identifying a existing group
document; and

b\) with application/vnd.3gpp.GMOP+xml MIME body containing a GMOP
document for retrieval of a group document excluding group members
specified in subclause 7.3.4.2;

the GMS shall send an HTTP 2xx response to the received HTTP request. In
the HTTP 2xx response, the GMS shall include a MIME body of the MIME
type specified in subclause 7.2.6, containing a group document:

a\) placed at location identified by the Request-URI; and

b\) not including the \<list\> element of the \<list-service\> element
of the \<group\> root element.

7 Coding
========

7.1 General
-----------

This clause specifies coding enabling a group management client (GMC)
and an MCS server to manage group documents in a group management server
(GMS).

7.2 Group coding
----------------

### 7.2.1 General

Group document is described in the OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]
\"*Group*\".

The requirements in the remaining subclauses of the parent subclause of
this subclause apply for an MCS group document, i.e. a group document
containing an MCS group.

The usage of an MCS group document in an MCS service is described in
3GPP TS 24.379 \[5\], 3GPP TS 24.281 \[26\] and 3GPP TS 24.282 \[27\].

### 7.2.2 Structure

NOTE 1: An MCS group document can contain further attributes and
elements from any namespaces, according to the XML schemas of the MCS
group document.

NOTE 2: For historical reasons, element names or attribute names can
contain \"mcptt\". However, such elements and such attributes can be
used in any MCS (the MCPTT or an MCS which is not the MCPTT).

The group document structure is described in the
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] \"*Structure*\" with the MCS
specific clarifications specified in this subclause.

The \<list-service\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCS group document:

a\) shall include a \"uri\" attribute specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

b\) may include a \<display-name\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

c\) may include a \<list\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

d\) may include a \<ruleset\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

e\) shall include a \<supported-services\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

g\) may include a \<on-network-disabled\> element specified in
subclause 7.2.4.2;

h\) may include a \<on-network-temporary\> element specified in
subclause 7.2.4.2;

i\) may include zero or more \<on-network-regrouped\> elements specified
in subclause 7.2.4.2;

j\) may include an \<off-network-ProSe-layer-2-group-id\> element
specified in subclause 7.2.4.2;

k\) may include an \<off-network-PDN-type\> element specified in
subclause 7.2.4.2. In the present document, the \<event\> element can
only have the values specified by the off-network-PDN-type-value ABNF
rule of table 7.2.2-1;

l\) may include an \<off-network-IP-multicast-address\> element
specified in subclause 7.2.4.2 containing a IP multicast address. If the
IP multicast address is an IPv4 address, its value is coded as a string
representing the dotted-decimal format of the IPv4 address as specified
in IETF RFC 1166 \[8\]. If the IP multicast address is an IPv6 address,
its value is coded as a string representing the canonical text
representation format of the IPv6 address as specified in
IETF RFC 5952 \[9\];

m\) may include an \<off-network-ProSe-relay-service-code\> element
specified in subclause 7.2.4.2;

n\) may include an \<owner\> element specified in subclause 7.2.4.2;

o\) may include a \<level-within-group-hierarchy\> element specified in
subclause 7.2.4.2; and

p\) may include a \<level-within-user-hierarchy\> element specified in
subclause 7.2.4.2.

The \<list-service\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCPTT group document
additionally:

a\) may include an \<on-network-invite-members\> element specified in
subclause 7.2.4.2;

b\) may include a \<on-network-group-priority\> element specified in
subclause 7.2.4.2;

c\) may include a \<on-network-max-participant-count\> element specified
in subclause 7.2.4.2;

d\) may include an \<off-network-ProSe-signalling-PPPP\> element
specified in subclause 7.2.4.2;

e\) may include an \<off-network-ProSe-emergency-call-signalling-PPPP\>
element specified in subclause 7.2.4.2;

f\) may include an
\<off-network-ProSe-imminent-peril-call-signalling-PPPP\> element
specified in subclause 7.2.4.2;

g\) may include an \<off-network-ProSe-media-PPPP\> element specified in
subclause 7.2.4.2;

h\) may include an \<off-network-ProSe-emergency-call-media-PPPP\>
element specified in subclause 7.2.4.2;

i\) may include an \<off-network-ProSe-imminent-peril-call-media-PPPP\>
element specified in subclause 7.2.4.2;

j\) may include a \<preferred-voice-encodings\> element specified in
subclause 7.2.4.2;

k\) may include an
\<on-network-in-progress-emergency-state-cancellation-timeout\> element
specified in subclause 7.2.4.2;

l\) may include an
\<on-network-in-progress-imminent-peril-state-cancellation-timeout\>
element specified in subclause 7.2.4.2;

m\) may include an
\<off-network-in-progress-emergency-state-cancellation-timeout\> element
specified in subclause 7.2.4.2;

n\) may include an
\<off-network-in-progress-imminent-peril-state-cancellation-timeout\>
element specified in subclause 7.2.4.2;

o\) may include an \<on-network-hang-timer\> element specified in
subclause 7.2.4.2;

p\) may include an \<on-network-maximum-duration\> element specified in
subclause 7.2.4.2;

q\) may include an \<off-network-hang-timer\> element specified in
subclause 7.2.4.2;

r\) may include an \<off-network-maximum-duration\> element specified in
subclause 7.2.4.2;

s\) may include an \<on-network-minimum-number-to-start\> element
specified in subclause 7.2.4.2;

t\) may include an
\<on-network-timeout-for-acknowledgement-of-required-members\> element
specified in subclause 7.2.4.2;

u\) may include an
\<on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members\>
element specified in subclause 7.2.4.2. The
\<on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members\>
element can only have the values specified by the
on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members
ABNF rule of table 7.2.2-1. If a value of the
\<on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members\>
element is other than those specified by the defined-actions ABNF rule
of table 7.2.2-1, the
\<on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members\>
element is interpreted as having the value specified by the
abandon-action ABNF rule of table 7.2.2-1;

v\) may include a \<protect-media\> element specified in
subclause 7.2.4.2;

w\) may include a \<protect-floor-control-signalling\> element specified
in subclause 7.2.4.2;

x\) may include a \<require-multicast-floor-control-signalling\> element
specified in subclause 7.2.4.2;

y\) may include an \<off-network-queue-usage\> element specified in
subclause 7.2.4.2;

z\) may include an \<mcptt-on-network-audio-cut-in\> element specified
in subclause 7.2.4.2;

za) may include an \<multi-talker-control\> element specified in
subclause 7.2.4.2;

zb) may include a \<max-number-simultaneous-talkers\> element specified
in subclause 7.2.4.2;

zc) may include a \<audio-mixing-entity\> element specified in subclause
 7.2.4.2. The \<audio-mixing-entity\> element can only have the values
specified by the audio-mixing-entity ABNF rule of table 7.2.2-1. If a
value of the \<audio-mixing-entity\> element is other than those
specified by the audio-mixing-entity ABNF rule of table 7.2.2-1, the
\<audio-mixing-entity\> element is interpreted as having the value
specified by the inNetwork-value ABNF rule of table 7.2.2-1; and

zd) may include an \<on-network-minimum-number-of-affiliated-members\>
element specified in subclause 7.2.4.2.

The \<list-service\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCVideo group document
additionally:

a\) may include an \<mcvideo-on-network-invite-members\> element
specified in subclause 7.2.4.2;

b\) may include an \<mcvideo-on-network-maximum-duration\> element
specified in subclause 7.2.4.2;

c\) may include an \<mcvideo-protect-media\> element specified in
subclause 7.2.4.2;

d\) may include an \<mcvideo-protect-transmission-control\> element
specified in subclause 7.2.4.2;

e\) may include an \<mcvideo-preferred-audio-encodings\> element
specified in subclause 7.2.4.2;

f\) may include an \<mcvideo-preferred-video-encodings\> element
specified in subclause 7.2.4.2;

g\) may include an \<mcvideo-preferred-video-resolutions\> element
specified in subclause 7.2.4.2;

h\) may include an \<mcvideo-preferred-video-frame-rate\> element
specified in subclause 7.2.4.2;

i\) may include an \<mcvideo-urgent-real-time-video-mode\> element
specified in subclause 7.2.4.2;

j\) may include an \<mcvideo-non-urgent-real-time-video-mode\> element
specified in subclause 7.2.4.2;

k\) may include an \<mcvideo-non-real-time-video-mode\> element
specified in subclause 7.2.4.2;

l\) may include an \<mcvideo-active-real-time-video-mode\> element
specified in subclause 7.2.4.2;

m\) may include an
\<mcvideo-maximum-simultaneous-mcvideo-transmitting-group-members\>
element specified in subclause 7.2.4;

n\) may include an \<mcvideo-on-network-minimum-number-to-start\>
element specified in subclause 7.2.4.2;

o\) may include an \<mcvideo-on-network-group-priority\> element
specified in subclause 7.2.4.2;

p\) may include an \<mcvideo-off-network-arbitration-approach\> element
specified in subclause 7.2.4.2;

q\) may include an
\<mcvideo-off-network-maximum-simultaneous-transmissions\> element
specified in subclause 7.2.4.2;

r\) may include an \<mcvideo-off-network-ProSe-signalling-PPPP\> element
specified in subclause 7.2.4.2;

s\) may include an
\<mcvideo-off-network-ProSe-emergency-call-signalling-PPPP\> element
specified in subclause 7.2.4.2;

t\) may include an
\<mcvideo-off-network-ProSe-imminent-peril-call-signalling-PPPP\>
element specified in subclause 7.2.4.2;

u\) may include an \<mcvideo-off-network-ProSe-media-PPPP\> element
specified in subclause 7.2.4.2;

v\) may include an
\<mcvideo-off-network-ProSe-emergency-call-media-PPPP\> element
specified in subclause 7.2.4.2;

w\) may include an
\<mcvideo-off-network-ProSe-imminent-peril-call-media-PPPP\> element
specified in subclause 7.2.4.2;

x\) may include an \<mcvideo-off-network-maximum-duration\> element
specified in subclause 7.2.4.2;

y\) may include an
\<mcvideo-off-network-in-progress-emergency-state-cancellation-timeout\>
element specified in subclause 7.2.4.2; and

z\) may include an
\<mcvideo-off-network-in-progress-imminent-peril-state-cancellation-timeout\>
element specified in subclause 7.2.4.2.

The \<list-service\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCData group document
additionally:

a\) may include an \<mcdata-protect-media\> element specified in
subclause 7.2.4.2;

b\) may include an \<mcdata-protect-transmission-control\> element
specified in subclause 7.2.4.2;

c\) may include an \<mcdata-allow-short-data-service\> element specified
in subclause 7.2.4.2;

d\) may include an \<mcdata-allow-file-distribution\> element specified
in subclause 7.2.4.2;

e\) may include an \<mcdata-allow-conversation-management\> element
specified in subclause 7.2.4.2;

f\) may include an \<mcdata-allow-tx-control\> element specified in
subclause 7.2.4.2;

g\) may include an \<mcdata-allow-rx-control\> element specified in
subclause 7.2.4.2;

h\) may include an \<mcdata-allow-enhanced-status\> element specified in
subclause 7.2.4.2;

i\) may include an \<mcdata-enhanced-status-operational-values\> element
specified in subclause 7.2.4.2;

j\) may include an \<mcdata-on-network-group-priority\> element
specified in subclause 7.2.4.2;

k\) may include an \<mcdata-on-network-max-data-size-for-SDS\> element
specified in subclause 7.2.4.2;

l\) may include an \<mcdata-on-network-max-data-size-for-FD\> element
specified in subclause 7.2.4.2;

m\) may include an \<mcdata-on-network-max-data-size-auto-recv\> element
specified in subclause 7.2.4.2;

n\) may include an \<mcdata-off-network-ProSe-signalling-PPPP\> element
specified in subclause 7.2.4.2; and

o\) may include an \<mcdata-off-network-ProSe-media-PPPP\> element
specified in subclause 7.2.4.2.

The \<list\> element specified in OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]
of an MCS group document:

a\) may include zero or more \<entry\> elements specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\].

The \<entry\> element specified in OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]
of an MCS group document:

a\) shall include a \"uri\" attribute specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

b\) may include a \<display-name\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

c\) may include a \<user-priority\> element specified in
subclause 7.2.4.2;

d\) may include a \<user-reception-priority\> element specified in
subclause 7.2.4.2; and

e\) may include a \<participant-type\> element specified in
subclause 7.2.4.2.

The \<entry\> element specified in OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]
of an MCPTT group document additionally:

a\) may include a \<on-network-required\> element specified in
subclause 7.2.4.2;

b\) may include an \<on-network-recvonly\> element specified in
subclause 7.2.4.2;

c\) may include a \<multi-talker-allowed\> element specified in
subclause 7.2.4.2; and

d\) may include an \<on-network-affiliation-to-group-required\> element
specified in subclause 7.2.4.2.

The \<entry\> element specified in OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]
of an MCVideo group document additionally:

a\) may include an \<mcvideo-on-network-required\> element specified in
subclause 7.2.4.2; and

b\) shall include an \<mcvideo-mcvideo-id\> element specified in
subclause 7.2.4.2.

The \<entry\> element specified in OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]
of an MCData group document additionally:

a\) may include an \<mcdata-max-data-in-single-request\> element
specified in subclause 7.2.4.2;

b\) may include an \<mcdata-max-time-in-single-request\> element
specified in subclause 7.2.4.2; and

c\) shall include an \<mcdata-mcdata-id\> element specified in
subclause 7.2.4.2.

The \<ruleset\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCS group document:

a\) may include zero or more \<rule\> elements specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\].

The \<rule\> element specified in OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]
of an MCS group document:

a\) may include a \<conditions\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]; and

b\) may include an \<actions\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\].

The \<conditions\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCS group document:

a\) may include an \<identity\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]; and

b\) may include an \<is-list-member\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\].

The \<actions\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCS group document:

a\) may include an \<on-network-allow-getting-member-list\> element
specified in subclause 7.2.4.2.

The \<actions\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCPTT group document
additionally:

a\) may include an \<allow-initiate-conference\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

b\) may include a \<join-handling\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\];

c\) may include an \<allow-MCPTT-emergency-call\> element specified in
subclause 7.2.4.2;

d\) may include an \<allow-imminent-peril-call\> element specified in
subclause 7.2.4.2;

e\) may include an \<allow-MCPTT-emergency-alert\> element specified in
subclause 7.2.4.2;

f\) may include an \<on-network-allow-getting-affiliation-list\> element
specified in subclause 7.2.4.2; and

g\) may include an \<on-network-allow-conference-state\> element
specified in subclause 7.2.4.2.

The \<actions\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCVideo group document
additionally:

a\) may include an \<mcvideo-allow-emergency-call\> element specified in
subclause 7.2.4.2;

b\) may include an \<mcvideo-allow-emergency-alert\> element specified
in subclause 7.2.4.2;

c\) may include an \<mcvideo-allow-imminent-peril-call\> element
specified in subclause 7.2.4.2;

d\) may include an \<mcvideo-on-network-allow-conference-state\> element
specified in subclause 7.2.4.2; and

e\) may include an \<mcvideo-on-network-allow-getting-affiliation-list\>
element specified in subclause 7.2.4.2.

The \<actions\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCData group document
additionally:

a\) may include an \<mcdata-on-network-allow-getting-affiliation-list\>
specified in subclause 7.2.4.2; and;

b\) may include an \<mcdata-allow-transmit-data-in-this-group\> element
specified in subclause 7.2.4.2.

The \<supported-services\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCS group document:

a\) shall include one or more \<service\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\].

The MCPTT specific \<service\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCPTT group document:

a\) shall include an \"enabler\" attribute specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] including a string defining an
enabler. The \"enabler\" attribute is set to the MCPTT ICSI specified in
the 3GPP TS 24.379 \[5\]; and

b\) shall include a \<group-media\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\].

The MCVideo specific \<service\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCVideo group document:

a\) shall include an \"enabler\" attribute specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] including a string defining an
enabler. The \"enabler\" attribute is set to the MCVideo ICSI specified
in the 3GPP TS 24.281 \[26\]; and

b\) shall include a \<group-media\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\].

The MCData specific \<service\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1 \[3\] of an MCData group document:

a\) shall include an \"enabler\" attribute specified in
OMA OMA-TS-XDM\_Group-V1\_1 \[3\] including a string defining an
enabler. The \"enabler\" attribute is set to one of:

1\) the ICSI value for mission critical data (MCData) communications
short data service (SDS) specified in the 3GPP TS 24.282 \[27\];

2\) the ICSI value for mission critical data (MCData) communications
file distribution (FD) specified in the 3GPP TS 24.282 \[27\]; or

3\) the ICSI value for mission critical data (MCData) communications
enhanced service (ES) specified in the 3GPP TS 24.282 \[27\].

The \<group-media\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of the MCPTT specific \<service\>
element of an MCPTT group document:

a\) shall include an \<mcptt-speech\> element specified in
subclause 7.2.4.2.

The \<group-media\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of the MCVideo specific \<service\>
element of an MCVideo group document:

a\) shall include an \<mcvideo-video-media\> element specified in
subclause 7.2.4.2.

The \<on-network-temporary\> element specified in subclause 7.2.4.2 of
an MCS group document:

a\) shall include a \<constituent-MCPTT-group-IDs\> element specified in
subclause 7.2.4.2; and

b\) may include an \<anyExt\> element specified in subclause 7.2.4.2.

The \<constituent-MCPTT-group-IDs\> element specified in
subclause 7.2.4.2 of an MCS group document:

a\) may include zero, or more \<constituent-MCPTT-group-ID\> elements
specified in subclause 7.2.4.2; and

b\) may include an \<anyExt\> element specified in subclause 7.2.4.2.

The \<on-network-regrouped\> element specified in subclause 7.2.4.2 of
an MCS group document:

a\) shall include a \"temporary-MCPTT-group-ID\" attribute specified in
subclause 7.2.4.2;

b\) shall include a \"temporary-MCPTT-group-requestor\" attribute
specified in subclause 7.2.4.2;

c\) shall include a \<constituent-MCPTT-group-IDs\> element specified in
subclause 7.2.4.2. and

d\) may include an \<anyExt\> element specified in subclause 7.2.4.2.

The \<on-network-regrouped\> element specified in subclause 7.2.4.2 of
an MCPTT group document:

NOTE 3: MCPTT parameters defined in release 13 are included in the
\<on-network-regrouped\> element. MCPTT parameters defined in a release
later than release 13 are included in the \<anyExt\> element of the
\<on-network-regrouped\> element.

d\) may include a \<on-network-group-priority\> element specified in
subclause 7.2.4.2;

e\) may include a \<protect-media\> element specified in
subclause 7.2.4.2;

f\) may include a \<protect floor-control-signalling\> element specified
in subclause 7.2.4.2; and

g\) may include a \<require-multicast-floor-control-signalling\> element
specified in subclause 7.2.4.2.

The \<preferred-voice-encodings\> element specified in subclause 7.2.4.2
of an MCPTT group document:

a\) shall include one or more \<encoding\> element specified in
subclause 7.2.4.2.

The \<mcvideo-preferred-audio-encodings\> element specified in
subclause 7.2.4.2 of an MCVideo group document:

a\) shall include one or more \<encoding\> element specified in
subclause 7.2.4.2.

The \<mcvideo-preferred-video-encodings\> element specified in
subclause 7.2.4.2 of an MCVideo group document:

a\) shall include one or more \<encoding\> element specified in
subclause 7.2.4.2.

The \<encoding\> element specified in subclause 7.2.4.2 of an MCS group
document:

a\) shall include a \"name\" attribute with value equal to a value of
the \<encoding name\> field of a=rtpmap attribute as defined in
IETF RFC 4566 \[20\].

Table 7.2.2-1: ABNF syntax of values of the elements

off-network-PDN-type-values = IPv4-value / IPv6-value

IPv4-value = %x49.50.76.34 ; \"IPv4\"

IPv6-value = %x49.50.76.36 ; \"IPv6\"

on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members

= defined-actions / future-actions

defined-actions = proceed-action / abandon-action

proceed-action = %x70.72.6f.63.65.65.64 ; \"proceed\"

abandon-action = %x61.62.61.6e.64.6f.6e ; \"abandon\"

future-actions = 1\*( ALPHA / DIGIT / \"-\" )

audio-mixing-entity = inUE-value / inNetwork-value

inUE-value = %x55.45 ; \"UE\"

inNetwork-value = %x4E.57 ; \"NW\"

Elements and attributes of the group document are defined in various
namespaces. The group document refers to namespaces using prefixes
specified in table 7.2.2-2.

Table 7.2.2-2: Assignment of prefixes to namespace names in group
documents

  ---------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------
  Prefix                                                                                                                             Namespace
  rl                                                                                                                                 urn:ietf:params:xml:ns:resource-lists
  cp                                                                                                                                 urn:ietf:params:xml:ns:common-policy
  ocp                                                                                                                                urn:oma:xml:xdm:common-policy
  oxe                                                                                                                                urn:oma:xml:xdm:extensions
  mcpttgi                                                                                                                            urn:3gpp:ns:mcpttGroupInfo:1.0
  NOTE: The \"urn:oma:xml:poc:list-service\" namespace is the default namespace so no prefix is used for it in the group document.   
  ---------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------

The \<mcvideo-mcvideo-id\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCVideo group document

a\) shall include a \"uri\" attribute specified in IETF RFC 4826 \[28\].

The \<mcdata-mcdata-id\> element specified in
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] of an MCData group document:

a\) shall include a \"uri\" attribute specified in IETF RFC 4826 \[28\].

\<anyExt\> element contains elements defined by future versions of the
present document.

### 7.2.3 Application Unique ID

Application Unique ID is described in the
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] \"*Application Unique ID*\".

### 7.2.4 XML schema

#### 7.2.4.1 General

The group document is composed according the XML schema described in the
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] \"*XML Schema*\", and extended with
extensions from the XML schema defined in subclause 7.2.4.2.

#### 7.2.4.2 XML schema for MCS specific extensions

\<?xml version=\"1.0\" encoding=\"UTF-8\"?\>

\<xs:schema

targetNamespace=\"urn:3gpp:ns:mcpttGroupInfo:1.0\"

xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"

xmlns:mcpttgi=\"urn:3gpp:ns:mcpttGroupInfo:1.0\"

xmlns:oxe=\"urn:oma:xml:xdm:extensions\"

xmlns:rl=\"urn:ietf:params:xml:ns:resource-lists\"

elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\"\>

\<xs:import namespace=\"urn:oma:xml:xdm:extensions\"/\>

\<xs:import namespace=\"urn:ietf:params:xml:ns:resource-lists\"/\>

\<!\-- MCS specific \"list-service\" child elements \--\>

\<xs:element name=\"on-network-disabled\" type=\"mcpttgi:emptyType\"/\>

\<xs:element name=\"on-network-temporary\"
type=\"mcpttgi:temporaryType\"/\>

\<xs:element name=\"on-network-regrouped\"
type=\"mcpttgi:regroupedType\"/\>

\<xs:element name=\"off-network-ProSe-layer-2-group-id\"
type=\"xs:hexBinary\"/\>

\<xs:element name=\"off-network-IP-multicast-address\"
type=\"xs:string\"/\>

\<xs:element name=\"off-network-PDN-type\" type=\"xs:string\"/\>

\<xs:element name=\"off-network-ProSe-relay-service-code\"
type=\"xs:hexBinary\"/\>

\<xs:element name=\"owner\" type=\"xs:string\"/\>

\<xs:element name=\"level-within-group-hierarchy\"
type=\"xs:unsignedShort\"/\>

\<xs:element name=\"level-within-user-hierarchy\"
type=\"xs:unsignedShort\"/\>

\<!\-- MCPTT specific \"list-service\" child elements \--\>

\<xs:element name=\"on-network-group-priority\"
type=\"mcpttgi:priorityType\"/\>

\<xs:element name=\"off-network-ProSe-signalling-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element name=\"off-network-ProSe-emergency-call-signalling-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element
name=\"off-network-ProSe-imminent-peril-call-signalling-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element name=\"off-network-ProSe-media-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element name=\"off-network-ProSe-emergency-call-media-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element name=\"off-network-ProSe-imminent-peril-call-media-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element name=\"on-network-max-participant-count\"
type=\"xs:nonNegativeInteger\"/\>

\<xs:element name=\"on-network-invite-members\" type=\"xs:boolean\"/\>

\<xs:element name=\"preferred-voice-encodings\"
type=\"mcpttgi:encodingsType\"/\>

\<xs:element
name=\"on-network-in-progress-emergency-state-cancellation-timeout\"
type=\"xs:duration\"/\>

\<xs:element
name=\"on-network-in-progress-imminent-peril-state-cancellation-timeout\"
type=\"xs:duration\"/\>

\<xs:element
name=\"off-network-in-progress-emergency-state-cancellation-timeout\"
type=\"xs:duration\"/\>

\<xs:element
name=\"off-network-in-progress-imminent-peril-state-cancellation-timeout\"
type=\"xs:duration\"/\>

\<xs:element name=\"on-network-hang-timer\" type=\"xs:duration\"/\>

\<xs:element name=\"on-network-maximum-duration\"
type=\"xs:duration\"/\>

\<xs:element name=\"off-network-hang-timer\" type=\"xs:duration\"/\>

\<xs:element name=\"off-network-maximum-duration\"
type=\"xs:duration\"/\>

\<xs:element name=\"on-network-minimum-number-to-start\"
type=\"xs:unsignedShort\"/\>

\<xs:element
name=\"on-network-timeout-for-acknowledgement-of-required-members\"
type=\"xs:duration\"/\>

\<xs:element
name=\"on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members\"
type=\"xs:string\"/\>

\<xs:element name=\"protect-media\" type=\"xs:boolean\"/\>

\<xs:element name=\"protect-floor-control-signalling\"
type=\"xs:boolean\"/\>

\<xs:element name=\"require-multicast-floor-control-signalling\"
type=\"mcpttgi:emptyType\"/\>

\<xs:element name=\"off-network-queue-usage\" type=\"xs:boolean\"/\>

\<xs:element name=\"mcptt-on-network-audio-cut-in\"
type=\"xs:boolean\"/\>

\<xs:element name=\"multi-talker-control\" type=\"xs:boolean\"/\>

\<xs:element name=\"max-number-simultaneous-talkers\"
type=\"xs:positiveInteger\"/\>

\<xs:element name=\"audio-mixing-entity\" type=\"xs:string\"/\>

\<xs:element name=\"on-network-minimum-number-of-affiliated-members\"
type=\"xs:positiveInteger\"/\>

\<!\-- MCVideo specific \"list-service\" child elements \--\>

\<xs:element name=\"mcvideo-on-network-invite-members\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-on-network-maximum-duration\"
type=\"xs:duration\"/\>

\<xs:element name=\"mcvideo-protect-media\" type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-protect-transmission-control\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-preferred-audio-encodings\"
type=\"mcpttgi:encodingsType\"/\>

\<xs:element name=\"mcvideo-preferred-video-encodings\"
type=\"mcpttgi:encodingsType\"/\>

\<xs:element name=\"mcvideo-preferred-video-resolutions\"
type=\"xs:string\"/\>

\<xs:element name=\"mcvideo-preferred-video-frame-rate\"
type=\"xs:string\"/\>

\<xs:element name=\"mcvideo-urgent-real-time-video-mode\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-non-urgent-real-time-video-mode\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-non-real-time-video-mode\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-active-real-time-video-mode\"
type=\"xs:string\"/\>

\<xs:element
name=\"mcvideo-maximum-simultaneous-mcvideo-transmitting-group-members\"
type=\"xs:nonNegativeInteger\"/\>

\<xs:element name=\"mcvideo-on-network-minimum-number-to-start\"
type=\"xs:unsignedShort\"/\>

\<xs:element name=\"mcvideo-on-network-group-priority\"
type=\"mcpttgi:priorityType\"/\>

\<xs:element name=\"mcvideo-off-network-arbitration-approach\"
type=\"xs:string\"/\>

\<xs:element
name=\"mcvideo-off-network-maximum-simultaneous-transmissions\"
type=\"xs:nonNegativeInteger\"/\>

\<xs:element name=\"mcvideo-off-network-ProSe-signalling-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element
name=\"mcvideo-off-network-ProSe-emergency-call-signalling-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element
name=\"mcvideo-off-network-ProSe-imminent-peril-call-signalling-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element name=\"mcvideo-off-network-ProSe-media-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element
name=\"mcvideo-off-network-ProSe-emergency-call-media-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element
name=\"mcvideo-off-network-ProSe-imminent-peril-call-media-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element
name=\"mcvideo-off-network-in-progress-emergency-state-cancellation-timeout\"
type=\"xs:duration\"/\>

\<xs:element
name=\"mcvideo-off-network-in-progress-imminent-peril-state-cancellation-timeout\"
type=\"xs:duration\"/\>

\<xs:element name=\"mcvideo-off-network-maximum-duration\"
type=\"xs:duration\"/\>

\<!\-- MCData specific \"list-service\" child elements \--\>

\<xs:element name=\"mcdata-protect-media\" type=\"xs:boolean\"/\>

\<xs:element name=\"mcdata-protect-transmission-control\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcdata-allow-short-data-service\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcdata-allow-file-distribution\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcdata-allow-conversation-management\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcdata-allow-tx-control\" type=\"xs:boolean\"/\>

\<xs:element name=\"mcdata-allow-rx-control\" type=\"xs:boolean\"/\>

\<xs:element name=\"mcdata-allow-enhanced-status\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcdata-enhanced-status-operational-values\"
type=\"mcpttgi:enhancedStatusList\"/\>

\<xs:element name=\"mcdata-on-network-max-data-size-for-SDS\"
type=\"xs:unsignedInt\"/\>

\<xs:element name=\"mcdata-on-network-max-data-size-for-FD\"
type=\"xs:unsignedInt\"/\>

\<xs:element name=\"mcdata-on-network-max-data-size-auto-recv\"
type=\"xs:unsignedInt\"/\>

\<xs:element name=\"mcdata-on-network-group-priority\"
type=\"mcpttgi:priorityType\"/\>

\<xs:element name=\"mcdata-off-network-ProSe-signalling-PPPP\"
type=\"xs:hexBinary\"/\>

\<xs:element name=\"mcdata-off-network-ProSe-media-PPPP\"
type=\"xs:hexBinary\"/\>

\<!\-- MCS specific \"entry\" child elements \--\>

\<xs:element name=\"user-priority\" type=\"mcpttgi:priorityType\"/\>

\<xs:element name=\"user-reception-priority\"
type=\"mcpttgi:priorityType\"/\>

\<xs:element name=\"participant-type\" type=\"xs:string\"/\>

\<!\-- MCPTT specific \"entry\" child elements \--\>

\<xs:element name=\"on-network-required\" type=\"mcpttgi:emptyType\"/\>

\<xs:element name=\"on-network-recvonly\" type=\"mcpttgi:emptyType\"/\>

\<xs:element name=\"multi-talker-allowed\" type=\"mcpttgi:emptyType\"/\>

\<xs:element name=\"on-network-affiliation-to-group-required\"
type=\"mcpttgi:emptyType\"/\>

\<!\-- MCVideo specific \"entry\" child elements \--\>

\<xs:element name=\"mcvideo-on-network-required\"
type=\"mcpttgi:emptyType\"/\>

\<xs:element name=\"mcvideo-mcvideo-id\" type=\"rl:entryType\"/\>

\<!\-- MCData specific \"entry\" child elements \--\>

\<xs:element name=\"mcdata-max-data-in-single-request\"
type=\"xs:unsignedInt\"/\>

\<xs:element name=\"mcdata-max-time-in-single-request\"
type=\"xs:duration\"/\>

\<xs:element name=\"mcdata-mcdata-id\" type=\"rl:entryType\"/\>

\<!\-- MCS specific \"actions\" child elements \--\>

\<xs:element name=\"on-network-allow-getting-member-list\"
type=\"xs:boolean\"/\>

\<!\-- MCPTT specific \"actions\" child elements \--\>

\<xs:element name=\"allow-MCPTT-emergency-call\" type=\"xs:boolean\"/\>

\<xs:element name=\"allow-imminent-peril-call\" type=\"xs:boolean\"/\>

\<xs:element name=\"allow-MCPTT-emergency-alert\" type=\"xs:boolean\"/\>

\<xs:element name=\"on-network-allow-getting-affiliation-list\"
type=\"xs:boolean\"/\>

\<xs:element name=\"on-network-allow-conference-state\"
type=\"xs:boolean\"/\>

\<!\-- MCVideo specific \"actions\" child elements \--\>

\<xs:element name=\"mcvideo-allow-emergency-call\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-allow-emergency-alert\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-allow-imminent-peril-call\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-on-network-allow-conference-state\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcvideo-on-network-allow-getting-affiliation-list\"
type=\"xs:boolean\"/\>

\<!\-- MCData specific \"actions\" child elements \--\>

\<xs:element name=\"mcdata-allow-transmit-data-in-this-group\"
type=\"xs:boolean\"/\>

\<xs:element name=\"mcdata-on-network-allow-getting-affiliation-list\"
type=\"xs:boolean\"/\>

\<!\-- MCPTT specific media elements \--\>

\<xs:element name=\"mcptt-speech\" type=\"oxe:extensionType\"/\>

\<!\-- MCVideo specific media elements \--\>

\<xs:element name=\"mcvideo-video-media\" type=\"oxe:extensionType\"/\>

\<!\-- MCData specific media elements \--\>

\<!\-- MCS specific complex type definitions \--\>

\<!\-- empty complex type \--\>

\<xs:complexType name=\"emptyType\"/\>

\<!\-- complex type for temporary element \--\>

\<xs:complexType name=\"temporaryType\"\>

\<xs:sequence\>

\<xs:element name=\"constituent-MCPTT-group-IDs\"

type=\"mcpttgi:constituentMCPTTgroupTypeIDsType\"/\>

\<xs:element name=\"anyExt\" type=\"mcpttgi:anyExtType\"
minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- complex type for constituent-MCPTT-group-ID element \--\>

\<xs:complexType name=\"constituentMCPTTgroupTypeIDsType\"\>

\<xs:sequence\>

\<xs:element name=\"constituent-MCPTT-group-ID\" type=\"xs:anyURI\"
minOccurs=\"0\" maxOccurs=\"unbounded\"/\>

\<xs:element name=\"anyExt\" type=\"mcpttgi:anyExtType\"
minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- complex type for regrouped element \--\>

\<xs:complexType name=\"regroupedType\"\>

\<xs:sequence\>

\<xs:element name=\"constituent-MCPTT-group-IDs\"

type=\"mcpttgi:constituentMCPTTgroupTypeIDsType\"/\>

\<!\-- MCPTT specific extensions for regroupedType type defined in
release 13 \--\>

\<xs:element ref=\"mcpttgi:on-network-group-priority\"
minOccurs=\"0\"/\>

\<xs:element ref=\"mcpttgi:protect-media\" minOccurs=\"0\"/\>

\<xs:element ref=\"mcpttgi:protect-floor-control-signalling\"
minOccurs=\"0\"/\>

\<xs:element ref=\"mcpttgi:require-multicast-floor-control-signalling\"
minOccurs=\"0\"/\>

\<xs:element name=\"anyExt\" type=\"mcpttgi:anyExtType\"
minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:attribute name=\"temporary-MCPTT-group-ID\" type=\"xs:anyURI\"
use=\"required\"/\>

\<xs:attribute name=\"temporary-MCPTT-group-requestor\"
type=\"xs:anyURI\" use=\"required\"/\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- complex type for any extensions element \--\>

\<xs:complexType name=\"anyExtType\"\>

\<xs:sequence\>

\<xs:any namespace=\"\#\#any\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\</xs:complexType\>

\<!\-- MCS specific extensions for regroupedType type \--\>

\<!\-- MCPTT specific extensions for regroupedType type defined in a
release after release 13 \--\>

\<!\-- MCVideo specific extensions for regroupedType type \--\>

\<!\-- MCData specific extensions for regroupedType type \--\>

\<!\-- MCS specific complex type definitions \--\>

\<!\-- encodingsType complex type \--\>

\<xs:complexType name=\"encodingsType\"\>

\<xs:sequence\>

\<xs:element name=\"encoding\" type=\"mcpttgi:encodingType\"
maxOccurs=\"unbounded\"/\>

\<xs:element name=\"anyExt\" type=\"mcpttgi:anyExtType\"
minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- encodingType complex type \--\>

\<xs:complexType name=\"encodingType\"\>

\<xs:sequence\>

\<xs:element name=\"anyExt\" type=\"mcpttgi:anyExtType\"
minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:attribute name=\"name\" type=\"xs:string\" use=\"required\"/\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- simple type for priority element \--\>

\<xs:simpleType name=\"priorityType\"\>

\<xs:restriction base=\"xs:unsignedShort\"\>

\<xs:minInclusive value=\"0\"/\>

\<xs:maxInclusive value=\"255\"/\>

\</xs:restriction\>

\</xs:simpleType\>

\<!\-- MCPTT specific complex type definitions \--\>

\<!\-- MCVideo specific complex type definitions \--\>

\<!\-- MCData specific complex type definitions \--\>

\<!\-- complex type for mcdata-enhanced-status-operational-values
element \--\>

\<xs:complexType name=\"enhancedStatusList\"\>

\<xs:sequence minOccurs=\"0\" maxOccurs=\"65536\"\>

\<xs:choice\>

\<xs:element name=\"status\" type=\"mcpttgi:enhancedStatusType\"/\>

\<xs:element name=\"anyExt\" type=\"mcpttgi:anyExtType\"
minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\"/\>

\</xs:choice\>

\</xs:sequence\>

\</xs:complexType\>

\<!\-- complex type for enhancedStatusType element \--\>

\<xs:complexType name=\"enhancedStatusType\"\>

\<xs:sequence\>

\<xs:element name=\"id\" type=\"xs:nonNegativeInteger\"/\>

\<xs:element name=\"shortText\" type=\"mcpttgi:languageString\"/\>

\<xs:element name=\"description\" type=\"mcpttgi:languageString\"/\>

\</xs:sequence\>

\</xs:complexType\>

\<xs:complexType name=\"languageString\"\>

\<xs:sequence maxOccurs=\"unbounded\"\>

\<xs:element name=\"langType\" type=\"xs:language\"/\>

\<xs:element name=\"langText\" type=\"xs:string\"/\>

\</xs:sequence\>

\</xs:complexType\>

\</xs:schema\>

### 7.2.5 Default document namespace

The default document namespace used in evaluating URIs is described in
the OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] \"*Default Namespace*\".

### 7.2.6 MIME type

MIME type is described in the OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]
\"*MIME Type*\".

### 7.2.7 Validation constraints

Validation constraints are described in the
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] \"*Validation Constraints*\", along
with the validations constraints described in this subclause.

When the \<on-network-invite-members\> element contains a value \"true\"
then the \<on-network-maximum-duration\> element shall contain a value.

When the \<on-network-invite-members\> element contains a value
\"false\" then a value may be included in the
\<on-network-maximum-duration\> element.

### 7.2.8 Data semantics

Data semantics are described in the OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\]
\"*Data Semantics*\" with the MCS specific clarifications specified in
this subclause.

A group document is an MCS group document if the group document:

a\) is an MCPTT group document;

b\) is an MCData group document;

c\) is an MCVideo group document; or

d\) is any combination of the previous bullets.

A group document is an MCPTT group document only if:

a\) the \<supported-services\> element is present in the group document;

b\) the \<service\> child element of the \<supported-services\> element
is present;

c\) the \<service\> element includes the \"enabler\" attribute set to
the MCPTT ICSI specified in the 3GPP TS 24.379 \[5\];

d\) the \<group-media\> child element of the \<service\> element is
present; and

e\) the \<mcptt-speech\> child element of the \<group-media\> element is
present.

A group document is an MCVideo group document only if:

a\) the \<supported-services\> element is present in the group document;

b\) the \<service\> child element of the \<supported-services\> element
is present;

c\) the \<service\> element includes the \"enabler\" attribute set to
the MCVideo ICSI specified in the 3GPP TS 24.281 \[26\];

d\) the \<group-media\> child element of the \<service\> element is
present; and

e\) the \<mcvideo-video-media\> child element of the \<group-media\>
element is present.

A group document is an MCData group document only if:

a\) the \<supported-services\> element is present in the group document;

b\) the \<service\> child element of the \<supported-services\> element
is present; and

c\) the \<service\> element includes the \"enabler\" attribute set to:

1\) the ICSI value for mission critical data (MCData) communications
short data service (SDS) specified in the 3GPP TS 24.282 \[27\];

2\) the ICSI value for mission critical data (MCData) communications
file distribution (FD) specified in the 3GPP TS 24.282 \[27\]; or

3\) the ICSI value for mission critical data (MCData) communications
enhanced service (ES) specified in the 3GPP TS 24.282 \[27\].

If a group document includes an element not specified in subclause 7.2.2
for an MCS group document and the element has the \"must-understand\"
attribute with value \"true\", then the group document shall be ignored.

If a group document includes an element not specified in subclause 7.2.2
for an MCS group document and the element:

a\) does not have the \"must-understand\" attribute with value \"true\";
and

b\) is not a descendant of a \<conditions\> element;

then the element shall be ignored.

If a group document includes an element not specified in subclause 7.2.2
for an MCS group document and the element:

a\) does not have the \"must-understand\" attribute with value \"true\";
and

b\) is a descendant of a \<conditions\> element;

then the element shall be evaluated as not known element according to
IETF RFC 4745 \[6\].

If a group document includes an attribute not specified in
subclause 7.2.2 for an MCS group and different from the
\"must-understand\" attribute, then the attribute shall be ignored.

The possible values of the \<on-network-invite-members\> element in the
\<list-service\> element of the MCPTT group document are:

a\) \"true\" which represents the pre-arranged group in on-network MCPTT
procedures; and

b\) \"false\" which represents the chat group in on-network MCPTT
procedures. This value is used when the element is not present.

NOTE 1: Presence or absence of the \<invite-members\> element specified
in OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] does not impact MCS procedures.

The \<display-name\> element of a \<list-service\> element of a group
document contains the group name.

The \<list\> element of a \<list-service\> element of a group document
contains the group members.

The \<ruleset\> element of a \<list-service\> element of a group
document contains the authorization policy associated with this group.

The \<supported-services\> element of a \<list-service\> element of a
group document contains the supported services of this group.

The \"uri\" attribute of a \<list-service\> element of a group document
contains the group ID. The group ID of an MCS group document:

a\) is also the MCS group identity, if the MCS group is not a temporary
MCS group; and

b\) is also the temporary MCS group identity, if the MCS group is a
temporary MCS group.

If the MCS group document is an MCPTT group document and defines a
non-temporary MCS group, the MCS group identity is also the MCPTT group
ID. If the MCS group document is an MCVideo group document and defines a
non-temporary MCS group, the MCS group identity is also the MCVideo
group ID. If the MCS group document is an MCData group document and
defines a non-temporary MCS group, the MCS group identity is also the
MCData group ID.

NOTE 2: The above statements apply also when the MCS group document is
of several MCSs.

If the MCS group document is an MCPTT group document and defines a
temporary MCS group, the MCS group identity is also the temporary MCPTT
group ID. If the MCS group document is an MCVideo group document and
defines a temporary MCS group, the MCS group identity is also the
temporary MCVideo group ID. If the MCS group document is an MCData group
document and defines a temporary MCS group, the MCS group identity is
also the temporary MCData group ID.

NOTE 3: The above rules statements also when the MCS group document is
of several MCSs.

Presence of the \<on-network-disabled\> element in the \<list-service\>
element of the MCS group document indicates that the MCS group is
disabled in on-network procedures. Absence of the
\<on-network-disabled\> element in the \<list-service\> element of the
MCS group document indicates that the MCS group is enabled in on-network
procedures.

Value of the \<on-network-group-priority\> element of the
\<list-service\> element of the MCPTT group document indicates the
priority level of the group in on-network MCPTT procedures. Higher value
indicates higher priority. Absence of the \<on-network-group-priority\>
element of the \<list-service\> element of the MCPTT group document
indicates the lowest possible priority.

Value of the \<on-network-max-participant-count\> element of the
\<list-service\> element of the MCPTT group document indicates the
maximum number of participants in the MCPTT group session in on-network
MCPTT procedures.

Presence of the \<on-network-temporary\> element in the \<list-service\>
element of the MCS group document indicates that the MCS group is a
temporary MCS group. Each \<constituent-MCPTT-group-ID\> child elements
of the \<constituent-MCPTT-group-IDs\> element of the
\<on-network-temporary\> element indicates MCS group ID of a constituent
MCS group of the temporary MCS group. Absence of the
\<on-network-temporary\> element in the \<list-service\> element of the
MCS group document indicates that the MCS group is not a temporary MCS
group.

Presence of a \<on-network-regrouped\> element in the \<list-service\>
element of the MCS group document indicates that the MCS group is a
constituent MCS group of a temporary MCS group with MCS Group ID
indicated in the value of the \"temporary-MCPTT-group-ID\" attribute of
the \<on-network-regrouped\> element. The data semantic of:

a\) the \<on-network-group-priority\> child element;

b\) the \<protect-media\> child element;

c\) the \<protect floor-control-signalling\> child element; and

d\) the \<require-multicast-floor-control-signalling\> child element;

of the \<on-network-regrouped\> element is the same as semantic of the
corresponding elements in the \<list-service\> element of the MCS group
document of the temporary MCS group. Each \<constituent-MCPTT-group-ID\>
child elements of the \<constituent-MCPTT-group-IDs\> element of the
\<on-network-regrouped\> element indicates MCS group ID of a constituent
MCS group of the temporary MCS group. Absence of the
\<on-network-regrouped\> element in the \<list-service\> element of the
MCS group document indicates that the MCS group is not a constituent MCS
group of a temporary MCS group.

Value of the \<off-network-ProSe-layer-2-group-id\> element of the
\<list-service\> element of the MCS group document indicates the ProSe
layer-2 group ID specified in 3GPP TS 24.334 \[7\] assigned to the MCS
group for usage in the off-network procedures specified in
3GPP TS 24.379 \[5\]. Absence of the
\<off-network-ProSe-layer-2-group-id\> element of the \<list-service\>
element of the MCS group document indicates that the MCS group is not to
be used in off-network procedures specified in 3GPP TS 24.379 \[5\].

Value of the \<off-network-PDN-type\> element of the \<list-service\>
element of the MCS group document indicates the IP version to be used in
off-network procedures specified in 3GPP TS 24.379 \[5\] assigned to the
MCS group for usage in the off-network procedures specified in
3GPP TS 24.379 \[5\]. Absence of the \<off-network-PDN-type\> element of
the \<list-service\> element of the MCS group document indicates that
the MCS group is not to be used in off-network procedures specified in
3GPP TS 24.379 \[5\]. A value of the \<off-network-PDN-type\> element of
the \<list-service\> element of the MCS group document other than any of
the values specified in table 7.2.2-1 indicates that the MCS group is
not to be used in off-network procedures specified in
3GPP TS 24.379 \[5\].

Value of the \<off-network-IP-multicast-address\> element of the
\<list-service\> element of the MCS group document indicates the IP
multicast address assigned to the MCS group for usage in the off-network
procedures specified in 3GPP TS 24.379 \[5\]. The IP multicast address
is of the IP version to be used in off-network procedures for the MCS
group. Incorrect format of the \<off-network-IP-multicast-address\>
element of the \<list-service\> element of the MCS group document
indicates that the MCS group is not to be used in off-network procedures
specified in 3GPP TS 24.379 \[5\]. Absence of the
\<off-network-IP-multicast-address\> element of the \<list-service\>
element of the MCS group document indicates that the MCS group is not to
be used in off-network procedures specified in 3GPP TS 24.379 \[5\].

Value of the \<off-network-ProSe-signalling-PPPP\> element of the
\<list-service\> element of the MCPTT group document indicates the ProSe
Per-Packet Priority value to be used when transmitting IP packets
carrying signalling for a call on the MCPTT group in off-network MCPTT
procedures specified in 3GPP TS 24.379 \[5\]. Absence of the
\<off-network-ProSe-signalling-PPPP\> element of the \<list-service\>
element of the MCPTT group document indicates that a call cannot be
established on the MCPTT group in off-network MCPTT procedures specified
in 3GPP TS 24.379 \[5\].

Value of the \<off-network-ProSe-emergency-call-signalling-PPPP\>
element of the \<list-service\> element of the MCPTT group document
indicates the ProSe Per-Packet Priority value to be used when
transmitting IP packets carrying signalling for an MCPTT-emergency call
on the MCPTT group in off-network MCPTT procedures specified in
3GPP TS 24.379 \[5\]. Absence of the
\<off-network-ProSe-emergency-call-signalling-PPPP\> element of the
\<list-service\> element of the MCPTT group document indicates that an
MCPTT-emergency call cannot be established on the MCPTT group in
off-network MCPTT procedures specified in 3GPP TS 24.379 \[5\].

Value of the \<off-network-ProSe-imminent-peril-call-signalling-PPPP\>
element of the \<list-service\> element of the MCPTT group document
indicates the ProSe Per-Packet Priority value to be used when
transmitting IP packets carrying signalling for an imminent peril call
on the MCPTT group in off-network MCPTT procedures specified in
3GPP TS 24.379 \[5\]. Absence of the
\<off-network-ProSe-imminent-peril-call-signalling-PPPP\> element of the
\<list-service\> element of the MCPTT group document indicates that an
imminent peril call cannot be established on the MCPTT group in
off-network MCPTT procedures specified in 3GPP TS 24.379 \[5\].

Value of the \<off-network-ProSe-media-PPPP\> element of the
\<list-service\> element of the MCPTT group document indicates the ProSe
Per-Packet Priority value to be used when transmitting IP packets
carrying media for a call on the MCPTT group in off-network MCPTT
procedures specified in 3GPP TS 24.379 \[5\]. Absence of the
\<off-network-ProSe-media-PPPP\> element of the \<list-service\> element
of the MCPTT group document indicates that a call cannot be established
on the MCPTT group in off-network MCPTT procedures specified in
3GPP TS 24.379 \[5\].

Value of the \<off-network-ProSe-emergency-call-media-PPPP\> element of
the \<list-service\> element of the MCPTT group document indicates the
ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying media for an MCPTT-emergency call on the MCPTT group in
off-network MCPTT procedures specified in 3GPP TS 24.379 \[5\]. Absence
of the \<off-network-ProSe-emergency-call-media-PPPP\> element of the
\<list-service\> element of the MCPTT group document indicates that an
MCPTT-emergency call cannot be established on the MCPTT group in
off-network MCPTT procedures specified in 3GPP TS 24.379 \[5\].

Value of the \<off-network-ProSe-imminent-peril-call-media-PPPP\>
element of the \<list-service\> element of the MCPTT group document
indicates the ProSe Per-Packet Priority value to be used when
transmitting IP packets carrying media for an imminent peril call on the
MCPTT group in off-network MCPTT procedures specified in
3GPP TS 24.379 \[5\]. Absence of the
\<off-network-ProSe-imminent-peril-call-media-PPPP\> element of the
\<list-service\> element of the MCPTT group document indicates that an
imminent peril call cannot be established on the MCPTT group in
off-network MCPTT procedures specified in 3GPP TS 24.379 \[5\].

Value of the \<mcvideo-off-network-ProSe-signalling-PPPP\> element of
the \<list-service\> element of the MCVideo group document indicates the
ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying signalling for a call on the MCVideo group in off-network
MCVideo procedures specified in 3GPP TS 24.281 \[26\]. Absence of the
\<mcvideo-off-network-ProSe-signalling-PPPP\> element of the
\<list-service\> element of the MCVideo group document indicates that a
call cannot be established on the MCVideo group in off-network MCVideo
procedures specified in 3GPP TS 24.281 \[26\].

Value of the
\<mcvideo-off-network-ProSe-emergency-call-signalling-PPPP\> element of
the \<list-service\> element of the MCVideo group document indicates the
ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying signalling for an MCVideo-emergency call on the MCVideo group
in off-network MCVideo procedures specified in 3GPP TS 24.281 \[26\].
Absence of the
\<mcvideo-off-network-ProSe-emergency-call-signalling-PPPP\> element of
the \<list-service\> element of the MCVideo group document indicates
that an MCVideo-emergency call cannot be established on the MCVideo
group in off-network MCVideo procedures specified in
3GPP TS 24.281 \[26\].

Value of the
\<mcvideo-off-network-ProSe-imminent-peril-call-signalling-PPPP\>
element of the \<list-service\> element of the MCVideo group document
indicates the ProSe Per-Packet Priority value to be used when
transmitting IP packets carrying signalling for an imminent peril call
on the MCVideo group in off-network MCVideo procedures specified in
3GPP TS 24.281 \[26\]. Absence of the
\<mcvideo-off-network-ProSe-imminent-peril-call-signalling-PPPP\>
element of the \<list-service\> element of the MCVideo group document
indicates that an imminent peril call cannot be established on the
MCVideo group in off-network MCVideo procedures specified in
3GPP TS 24.281 \[26\].

Value of the \<mcvideo-off-network-ProSe-media-PPPP\> element of the
\<list-service\> element of the MCVideo group document indicates the
ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying media for a call on the MCVideo group in off-network MCVideo
procedures specified in 3GPP TS 24.281 \[26\]. Absence of the
\<mcvideo-off-network-ProSe-media-PPPP\> element of the \<list-service\>
element of the MCVideo group document indicates that a call cannot be
established on the MCVideo group in off-network MCVideo procedures
specified in 3GPP TS 24.281 \[26\].

Value of the \<mcvideo-off-network-ProSe-emergency-call-media-PPPP\>
element of the \<list-service\> element of the MCVideo group document
indicates the ProSe Per-Packet Priority value to be used when
transmitting IP packets carrying media for an MCVideo-emergency call on
the MCVideo group in off-network MCVideo procedures specified in
3GPP TS 24.281 \[26\]. Absence of the
\<mcvideo-off-network-ProSe-emergency-call-media-PPPP\> element of the
\<list-service\> element of the MCVideo group document indicates that an
MCVideo-emergency call cannot be established on the MCVideo group in
off-network MCVideo procedures specified in 3GPP TS 24.281 \[26\].

Value of the
\<mcvideo-off-network-ProSe-imminent-peril-call-media-PPPP\> element of
the \<list-service\> element of the MCVideo group document indicates the
ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying media for an imminent peril call on the MCVideo group in
off-network MCVideo procedures specified in 3GPP TS 24.281 \[26\].
Absence of the
\<mcvideo-off-network-ProSe-imminent-peril-call-media-PPPP\> element of
the \<list-service\> element of the MCVideo group document indicates
that an imminent peril call cannot be established on the MCVideo group
in off-network MCVideo procedures specified in 3GPP TS 24.281 \[26\].

Value of the \<mcdata-off-network-ProSe-signalling-PPPP\> element of the
\<list-service\> element of the MCData group document indicates the
ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying signalling for a call on the MCData group in off-network MCData
procedures specified in 3GPP TS 24.282 \[27\]. Absence of the
\<mcdata-off-network-ProSe-signalling-PPPP\> element of the
\<list-service\> element of the MCData group document indicates that a
call cannot be established on the MCData group in off-network MCData
procedures specified in 3GPP TS 24.282 \[27\].

Value of the \<mcdata-off-network-ProSe-media-PPPP\> element of the
\<list-service\> element of the MCData group document indicates the
ProSe Per-Packet Priority value to be used when transmitting IP packets
carrying media for a call on the MCData group in off-network MCData
procedures specified in 3GPP TS 24.282 \[27\]. Absence of the
\<mcdata-off-network-ProSe-media-PPPP\> element of the \<list-service\>
element of the MCData group document indicates that a call cannot be
established on the MCData group in off-network MCData procedures
specified in 3GPP TS 24.282 \[27\].

Value of the \<off-network-ProSe-relay-service-code\> element of the
\<list-service\> element of the MCS group document indicates of a ProSe
relay service code specified in 3GPP TS 24.334 \[7\] to be used by a UE
when the UE accessing a UE-to-network relay in procedures specified in
3GPP TS 24.379 \[5\]. Absence of the
\<off-network-ProSe-relay-service-code\> element of the \<list-service\>
element of the MCS group document indicates that the MCS group is not to
be accessed using any procedures specified in 3GPP TS 24.379 \[5\] which
requires support of a ProSe UE-to-network relay.

Value of the \<owner\> element of the \<list-service\> element of the
MCS group document indicates the group\'s owner (mission critical
organisation) specified in 3GPP TS 23.179 \[4\].

Value of the \"name\" attribute of the \<encoding\> element of the
\<preferred-voice-encodings\> element of the \<list-service\> element of
the MCPTT group document indicates the preferred RTP payload format to
be used for voice encoding in MCPTT group sessions of the MCPTT group.

Value of the \<level-within-group-hierarchy\> element of the
\<list-service\> element of the MCS group document indicates the level
within group hierarchy specified in 3GPP TS 23.179 \[4\].

Value of the \<level-within-user-hierarchy\> element of the
\<list-service\> element of the MCS group document indicates the level
within user hierarchy specified in 3GPP TS 23.179 \[4\].

Value of the
\<on-network-in-progress-emergency-state-cancellation-timeout\> element
of the \<list-service\> element of the MCPTT group document indicates
the timeout value for the cancellation of an in progress emergency in
on-network MCPTT procedures.

Value of the
\<on-network-in-progress-imminent-peril-state-cancellation-timeout\>
element of the \<list-service\> element of the MCPTT group document
indicates the timeout value for the cancellation of an in progress
imminent-peril group call in on-network MCPTT procedures.

Value of the
\<off-network-in-progress-emergency-state-cancellation-timeout\> element
of the \<list-service\> element of the MCPTT group document indicates
the timeout value for the cancellation of an in progress emergency in
off-network MCPTT procedures.

Value of the
\<off-network-in-progress-imminent-peril-state-cancellation-timeout\>
element of the \<list-service\> element of the MCPTT group document
indicates the timeout value for the cancellation of an in progress
imminent-peril group call in off-network MCPTT procedures.

Value of the \<on-network-hang-timer\> element of the \<list-service\>
element of the MCPTT group document indicates the group call hang timer
specified in 3GPP TS 23.179 \[4\] in on-network MCPTT procedures.

Value of the \<on-network-maximum-duration\> element of the
\<list-service\> element of the MCPTT group document indicates the
maximum duration of group calls specified in 3GPP TS 23.179 \[4\] in
on-network MCPTT procedures.

Value of the \<off-network-hang-timer\> element of the \<list-service\>
element of the MCPTT group document indicates the group call hang timer
specified in 3GPP TS 23.179 \[4\] in off-network MCPTT procedures.

Value of the \<off-network-maximum-duration\> element of the
\<list-service\> element of the MCPTT group document indicates the
maximum duration of group calls specified in 3GPP TS 23.179 \[4\] in
off-network MCPTT procedures.

Value of the
\<mcvideo-off-network-in-progress-emergency-state-cancellation-timeout\>
element of the \<list-service\> element of the MCVideo group document
indicates the timeout value for the cancellation of an in progress
emergency in off-network MCVideo procedures.

Value of the
\<mcvideo-off-network-in-progress-imminent-peril-state-cancellation-timeout\>
element of the \<list-service\> element of the MCVideo group document
indicates the timeout value for the cancellation of an in progress
imminent-peril group call in off-network MCVideo procedures.

Value of the \<mcvideo-off-network-maximum-duration\> element of the
\<list-service\> element of the MCVideo group document indicates the
maximum duration of group calls specified in 3GPP TS 23.281 \[24\] in
off-network MCVideo procedures.

Value of the \<on-network-minimum-number-to-start\> element of the
\<list-service\> element of the MCPTT group document indicates the
minimum number of affiliated group members acknowledging before start of
audio transmission specified in 3GPP TS 23.179 \[4\] in on-network MCPTT
procedures.

Value of the
\<on-network-timeout-for-acknowledgement-of-required-members\> element
of the \<list-service\> element of the MCPTT group document indicates
the timeout for acknowledgement of required group members specified in
3GPP TS 23.179 \[4\] in on-network MCPTT procedures.

Value of the
\<on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members\>
element of the \<list-service\> element of the MCPTT group document
indicates the action upon failure to receive acknowledgement from
required group members before call timeout specified in
3GPP TS 23.179 \[4\] in on-network MCPTT procedures.

Value of the \<on-network-minimum-number-of-affiliated-members\> element
of the \<list-service\> element of the MCPTT group document indicates
the minimum required number of affiliated group members specified in
3GPP TS 23.379 \[30\] in on-network pre-arranged group call procedures.

The possible values of the \<protect-media\> element are:

a\) \"true\" which indicates that a GMK is required to confidentiality
and integrity protect media for on-network and off-network MCPTT calls
on the MCPTT group. This value is used when the element is not present;
and

b\) \"false\" which indicates that both confidentiality protection and
integrity protection of media are not required for on-network and
off-network MCPTT calls on the MCPTT group.

The possible values of the \<protect-floor-control-signalling\> element
are:

a\) \"true\" which indicates that both confidentiality protection and
integrity protection of floor control signalling are required for
on-network and off-network MCPTT calls on the MCPTT group. This value is
used when the element is not present; and

b\) \"false\" which indicates that both confidentiality protection and
integrity protection of floor control signalling are not required for
on-network and off-network MCPTT calls on the MCPTT group.

If the \<protect-floor-control-signalling\> element is set to \"true\"
or when not present, then for on-network MCPTT group calls:

a\) the presence of the \<require-multicast-floor-control-signalling\>
element in the \<list-service\> element of the MCPTT group indicates
that multicast bearers are used for floor controlling signalling for
this group requiring that an MuSiK or MKFC is used to protect multicast
floor control signalling;

b\) the absence of the \<require-multicast-floor-control-signalling\>
element in the \<list-service\> element of the MCPTT group indicates
that multicast bearers are not used for floor control signalling for
this group requiring that no MuSiK and no MKFC needs to be used to
protect floor control signalling

NOTE 4: For on-network MCPTT group calls, in the case that the
\<protect-floor-control-signalling\> is \"true\" or not present, and the
\<require-multicast-floor-control-signalling\> is not present, then
floor control protection is provided by the CSK, which is generated by
the client.

NOTE 5: For off-network MCPTT group calls, a GMK is always used to
protect floor control signalling.

The possible values of the \<mcvideo-on-network-invite-members\> element
in the \<list-service\> element of the MCVideo group document indicates
are:

a\) \"true\" which represents the pre-arranged group in on-network
MCVideo procedures; and

b\) \"false\" which represents the chat group in on-network MCVideo
procedures. This value is used when the element is not present.

NOTE 6: Presence or absence of the \<invite-members\> element specified
in OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] does not impact MCS procedures.

Value of the \<mcvideo-on-network-maximum-duration\> element of the
\<list-service\> element of the MCVideo group document indicates the
maximum duration of group calls specified in 3GPP TS 23.281 \[24\] in
on-network MCVideo procedures.

The possible values of the \<mcvideo-protect-media\> element are:

a\) \"true\" which indicates that a GMK is required to confidentiality
and integrity protect media for on-network and off-network MCVideo
transmissions on the MCVideo group. This value is used when the element
is not present; and

b\) \"false\" which indicates that both confidentiality protection and
integrity protection of media are not required for on-network and
off-network MCVideo transmissions on the MCVideo group.

The possible values of the \<mcvideo-protect-transmission-control\>
element are:

a\) \"true\" which indicates that confidentiality and integrity
protection for on-network and off-network MCVideo transmission control
signalling on the MCVideo group is enabled. This value is used when the
element is not present; and

b\) \"false\" which indicates that confidentiality and integrity
protection for on-network and off-network MCVideo transmission control
signalling on the MCVideo group is disabled.

Value of the \"name\" attribute of the \<encoding\> element of the
\<mcvideo-preferred-audio-encodings\> element of the \<list-service\>
element of the MCVideo group document indicates the preferred RTP
payload format to be used for audio encoding in MCVideo group sessions
of the MCVideo group.

Value of the \"name\" attribute of the \<encoding\> element of the
\<mcvideo-preferred-video-encodings\> element of the \<list-service\>
element of the MCVideo group document indicates the preferred RTP
payload format to be used for video encoding in MCVideo group sessions
of the MCVideo group.

Value of the \<mcvideo-preferred-video-resolutions\> element of the
\<list-service\> element of the MCVideo group document indicates in
order of preference, the allowed set of video resolutions (number of
horizontal pixels x number of vertical pixels) to be used in MCVideo
group sessions of the MCVideo group.

Value of the \<mcvideo-preferred-video-frame-rate\> element of the
\<list-service\> element of the MCVideo group document indicates in
order of preference, the allowed set of video frame rates (in frames per
second) to be used in MCVideo group sessions of the MCVideo group.

The possible values of the \<mcvideo-urgent-real-time-video-mode\>
element are:

a\) \"true\" which indicates that urgent real-time video mode is allowed
for the MCVideo group.

b\) \"false\" which indicates that urgent real-time video mode is not
allowed for the MCVideo group. This value is used when the element is
not present;

The possible values of the \<mcvideo-non-urgent-real-time-video-mode\>
element are:

a\) \"true\" which indicates that non urgent real-time video mode is
allowed for the MCVideo group.

b\) \"false\" which indicates that non urgent real-time video mode is
not allowed for the MCVideo group. This value is used when the element
is not present;

The possible values of the \<mcvideo-non-real-time-video-mode\> element
are:

a\) \"true\" which indicates that non real-time video mode is allowed
for the MCVideo group.

b\) \"false\" which indicates that non real-time video mode is not
allowed for the MCVideo group. This value is used when the element is
not present;

The possible values of the \<mcvideo-active-real-time-video-mode\>
element are:

a\) \"urgent-real-time\";

b\) \"non-urgent-real-time\"; and

c\) \"non-real-time\".

Value of the
\<mcvideo-maximum-simultaneous-mcvideo-transmitting-group-members\>
element of the \<list-service\> element of the MCVideo group document
indicates the allowed maximum number of simultaneous transmitting
MCVideo Group Members.

Value of the \<mcvideo-on-network-minimum-number-to-start\> element of
the \<list-service\> element of the MCVideo group document indicates the
minimum number of affiliated group members acknowledging before start of
video transmission specified in 3GPP TS 23.281 \[24\] in on-network
MCVideo procedures.

Value of the \<mcvideo-on-network-group-priority\> element of the
\<list-service\> element of the MCVideo group document indicates the
priority level of the group in on-network MCVideo procedures. Higher
value indicates higher priority. Absence of the
\<mcvideo-on-network-group-priority\> element of the \<list-service\>
element of the MCVideo group document indicates the lowest possible
priority.

The possible values of the \<mcvideo-off-network-arbitration-approach\>
element are:

a\) \"single\" which indicates transmission participants rely on a
single participant designated as transmission arbitrator for the
arbitraton of transmission requests; and

b\) \"self\" which indicates each transmsission participant arbitrates
its own transmission based on its view of the topology;

Value of the \<mcvideo-off-network-maximum-simultaneous-transmission\>
element of the \<list-service\> element of the MCVideo group document
indicates the allowed maximum number of simultaneous transmissions for
off-network MCVideo procedures.

The possible values of the \<mcdata-protect-media\> element are:

a\) \"true\" which indicates that a GDK is required to confidentiality
and integrity protect media for on-network and off-network MCData
transmissions on the MCData group. This value is used when the element
is not present; and

b\) \"false\" which indicates that both confidentiality protection and
integrity protection of media are not required for on-network and
off-network MCData transmissions on the MCData group.

The possible values of the \<mcdata-protect-transmission-control\>
element are:

a\) \"true\" which indicates that confidentiality and integrity
protection for on-network and off-network MCData transmission control
signalling on the MCData group is enabled. This value is used when the
element is not present; and

b\) \"false\" which indicates that confidentiality and integrity
protection for on-network and off-network MCData transmission control
signalling on the MCData group is disabled.

The possible values of \<mcdata-allow-short-data-service\> element are:

a\) \"true\" which indicates that short data service is enabled for the
MCData group. This value is used when the element is not present; and

b\) \"false\" which indicates that short data service is disabled for
the MCData group.

The possible values of \<mcdata-allow-file-distribution\> element are:

a\) \"true\" which indicates that file distribution is enabled for the
MCData group. This value is used when the element is not present; and

b\) \"false\" which indicates that file distribution is disabled for the
MCData group.

The possible values of \<mcdata-allow-conversation-management\> element
are:

a\) \"true\" which indicates that conversation management is enabled for
the MCData group. This value is used when the element is not present;
and

b\) \"false\" which indicates that conversation management is disabled
for the MCData group.

The possible values of \<mcdata-allow-tx-control\> element are:

a\) \"true\" which indicates that transmission control is enabled for
the MCData group. This value is used when the element is not present;
and

b\) \"false\" which indicates that transmission control is disabled for
the MCData group.

The possible values of \<mcdata-allow-rx-control\> element are:

a\) \"true\" which indicates that reception control is enabled for the
MCData group. This value is used when the element is not present; and

b\) \"false\" which indicates that reception control is disabled for the
MCData group.

The possible values of \<mcdata-allow-enhanced-status\> element are:

a\) \"true\" which indicates that enhanced status is enabled for the
MCData group. This value is used when the element is not present; and

b\) \"false\" which indicates that enhanced status is disabled for the
MCData group.

Value of the \<mcdata-enhanced-status-operational-values\> element has a
list of operational values used for the enhanced status service and two
text strings used to display a meaningful message to the user.
Containing list of \<status\> elements with minimum occurrence of 0 and
maximum occurrence of 65536 with a mandatory \"id\" attribute that shall
be set to a unique integer in the range of 0 to 65536. The value of the
status elements denote the operational values used for the enhanced
status service. For each status element there shall be a \<shortText\>
element and a \<description\> element that can be displayed locally to
the user when selecting the status value for the group, the element is
not sent in the SDS message. The \<shortText\> element is a shorter
version of the \<description\> element that can be used with devices
with limited display capability. The \<shortText\> and \<description\>
elements support multiple languages by allowing the elements to have
multiple text strings, \<langText\> element to store the text and with a
leading \<langType\> element to indicate the language of the text
string.

Value of the \<mcdata-on-network-group-priority\> element of the
\<list-service\> element of the MCData group document indicates the
priority level of the group in on-network MCData procedures. Higher
value indicates higher priority. Absence of the
\<mcdata-on-network-group-priority\> element of the \<list-service\>
element of the MCData group document indicates the lowest possible
priority.

Value of the \<mcdata-on-network-max-data-size-for-SDS\> element
indicates the maximum size of data (in bytes) that the originating
MCData client is allowed to send to the MCData server for on-network SDS
communications.

Value of the \<mcdata-on-network-max-data-size-for-FD\> element
indicates the maximum size of data (in bytes) that the originating
MCData client is allowed to send to the MCData server for on-network FD
communications.

Value of the \<mcdata-on-network-max-data-size-auto-recv\> element
indicates the maximum size of data (in bytes) which the MCData server
always requests the terminating MCData client to automatically download
for on-network FD communications using HTTP.

The \"uri\" attribute of a \<entry\> element of the MCS group document:

a\) contains the MCPTT user identity, if the MCS group is not a
temporary MCS group and the MCS group is an MCPTT group;

b\) contains the MCVideo user identity, if the MCS group is not a
temporary MCS group, the MCS group is not an MCPTT group and the MCS
group is an MCVideo group;

c\) contains the MCData user identity, if the MCS group is not a
temporary MCS group, the MCS group is not an MCPTT group, the MCS group
is not an MCVideo group and the MCS group is an MCData group; and

d\) contains the MCS group identity of a constituent MCS group, if the
MCS group is a temporary MCS group.

Presence of the \<on-network-required\> element in the \<entry\> element
of the MCPTT group document indicates that the MCPTT group member
identified by the \<entry\> element is a required MCPTT group member in
on-network MCPTT procedures. Absence of the \<on-network-required\>
element in the \<entry\> element of the MCPTT group document indicates
that the MCPTT group member identified by the \<entry\> element is not a
required MCPTT group member in on-network MCPTT procedures.

Presence of the \<on-network-affiliation-to-group-required\> element in
an \<entry\> element of the MCPTT group document indicates that
affiliation of the MCPTT group member identified by the \<entry\>
element is required in on-network pre-arranged group call procedures.
Absence of the \<on-network-affiliation-to-group-required\> element in
the \<entry\> element of the MCPTT group document indicates that the
affiliation of the MCPTT group member identified by the \<entry\>
element is not required in on-network pre-arranged group call
procedures.

Value of the \<user-priority\> element in the \<entry\> element of the
MCS group document indicates the user priority of the MCS group member
identified by the \<entry\> element. Higher value indicates higher
priority. Absence of the \<user-priority\> element in the \<entry\>
element of the MCS group document indicates that the MCS group member
identified by the \<entry\> element has the lowest possible priority.

Value of the \<user-reception-priority\> element in the \<entry\>
element of the MCS group document indicates the user reception priority
of the MCS group member identified by the \<entry\> element. Higher
value indicates higher reception priority. Absence of the
\<user-reception-priority\> element in the \<entry\> element of the MCS
group document indicates that the MCS group member identified by the
\<entry\> element has the lowest possible reception priority.

Value of the \<participant-type\> element in the \<entry\> element of
the MCS group document indicates the participant type specified in
3GPP TS 23.179 \[4\] assigned to the MCS group member identified by the
\<entry\> element. Absence of the \<participant-type\> element in the
\<entry\> element of the MCS group document indicates that the MCS group
member identified by the \<entry\> element is not assigned any
participant type.

Presence of the \<on-network-recvonly\> element in the \<entry\> element
of the MCPTT group document indicates that the MCPTT group member
identified by the \<entry\> element is not allowed to send media in
MCPTT group calls of the MCPTT group in on-network MCPTT procedures.
Absence of the \<on-network-recvonly\> element in the \<entry\> element
of the MCPTT group document indicates that the MCPTT group member
identified by the \<entry\> element is allowed to send media in MCPTT
group calls of the MCPTT group in on-network MCPTT procedures.

Presence of the \<multi-talker-allowed\> element in the \<entry\>
element of the MCPTT group document indicates that the MCPTT group
member identified by the \<entry\> element is authorized for
multi-talker floor control in a MCPTT group call of the MCPTT group in
on-network MCPTT procedures when the MCPTT group supports
multi-talker-control. Absence of the \<multi-talker-allowed\> element in
the \<entry\> element of the MCPTT group document indicates that the
MCPTT group member identified by the \<entry\> element is not authorized
for multi-talker floor control in a MCPTT group call of the MCPTT group
in on-network MCPTT procedures.

Presence of the \<mcvideo-on-network-required\> element in the \<entry\>
element of the MCVideo group document indicates that the MCVideo group
member identified by the \<entry\> element is a required MCVideo group
member in on-network MCVideo procedures. Absence of the
\<on-network-required\> element in the \<entry\> element of the MCVideo
group document indicates that the MCVideo group member identified by the
\<entry\> element is not a required MCPTT group member in on-network
MCVideo procedures.

Value of the \"uri\" attribute of the \<mcvideo-mcvideo-id\> element in
the \<entry\> element of the MCVideo group document indicates the
MCVideo user identity.

Value of the \<mcdata-max-data-in-single-request\> element in the
\<entry\> element of the MCData group document indicates the maximum
size of data (in bytes) that the MCData group member identified by the
\<entry\> element can send in a single request during group
communications.

Value of the \<mcdata-max-time-in-single-request\> element in the
\<entry\> element of the MCData group document indicates the maximum
time that the MCData group member identified by the \<entry\> element
can transmit for in a single request during group communications.

Value of the \"uri\" attribute of the \<mcdata-mcdata-id\> element in
the \<entry\> element of the MCData group document indicates the MCData
user identity.

The \<allow-MCPTT-emergency-call\> element of an \<actions\> element of
a \<rule\> element of the MCPTT group document indicates whether the
identity matching the rule identified by the \<rule\> element is allowed
to request an MCPTT-emergency call on the MCPTT group. The possible
values of the element are:

a\) \"false\" which indicates that the identity is not allowed to
request an MCPTT-emergency call on the MCPTT group. This is the default
value taken in the absence of the element.

b\) \"true\" which indicates that the identity is allowed to request an
MCPTT-emergency call on the MCPTT group.

The \<allow-imminent-peril-call\> element of an \<actions\> element of a
\<rule\> element of the MCPTT group document indicates whether the
identity matching the rule identified by the \<rule\> element is allowed
to request an imminent peril call on the MCPTT group. The possible
values of the element are:

a\) \"false\" which indicates that the identity is not allowed to
request an MCPTT-imminent peril call on the MCPTT group. This is the
default value taken in the absence of the element.

b\) \"true\" which indicates that the identity is allowed to request an
MCPTT imminent peril call on the MCPTT group.

The \<allow-MCPTT-emergency-alert\> element of an \<actions\> element of
a \<rule\> element of the MCPTT group document indicates whether the
identity matching the rule identified by the \<rule\> element is allowed
to request an MCPTT-emergency alert on the MCPTT group. The possible
values of the element are:

a\) \"false\" which indicates that the identity is not allowed to
request an MCPTT-emergency alert on the MCPTT group. This is the default
value taken in the absence of the element.

b\) \"true\" which indicates that the identity is allowed to request an
MCPTT-emergency alert on the MCPTT group.

The \<on-network-allow-getting-member-list\> element of an \<actions\>
element of a \<rule\> element of the MCS group document indicates
whether the identity matching the rule identified by the \<rule\>
element is allowed to get the MCS group member list of the MCS group in
on-network procedures. The possible values of the element are:

a\) \"false\" which indicates that the identity is not allowed to get
the MCS group member list of the MCS group in on-network procedures.
This is the default value taken in the absence of the element.

b\) \"true\" which indicates that the identity is allowed to get the MCS
group member list of the MCS group in on-network procedures.

The \<on-network-allow-getting-affiliation-list\> element of an
\<actions\> element of a \<rule\> element of the MCPTT group document
indicates whether the identity matching the rule identified by the
\<rule\> element is allowed to get the list of MCPTT users affiliated to
the MCPTT group in on-network MCPTT procedures. The possible values of
the element are:

a\) \"false\" which indicates that the identity is not allowed to get
the list of MCPTT users affiliated to the MCPTT group in on-network
MCPTT procedures. This is the default value taken in the absence of the
element.

b\) \"true\" which indicates that the identity is allowed to get the
list of MCPTT users affiliated to the MCPTT group in on-network MCPTT
procedures.

The \<on-network-allow-conference-state\> element of an \<actions\>
element of a \<rule\> element of the MCPTT group document indicates
whether the identity matching the rule identified by the \<rule\>
element is allowed to subscribe to the conference event package of an
MCPTT group session of the MCPTT group in on-network MCPTT procedures.
The possible values of the element are:

a\) \"false\" which indicates that the identity is not allowed to
subscribe to the conference event package of an MCPTT group session of
the MCPTT group in on-network MCPTT procedures. This is the default
value taken in the absence of the element.

b\) \"true\" which indicates that the identity is allowed to subscribe
to the conference event package of an MCPTT group session of the MCPTT
group in on-network MCPTT procedures.

The \<mcvideo-allow-emergency-call\> element of an \<actions\> element
of a \<rule\> element of the MCVideo group document indicates whether
the identity matching the rule identified by the \<rule\> element is
allowed to request an MCVideo-emergency call on the MCVideo group. The
possible values of the element are:

a\) \"false\" which indicates that the identity is not allowed to
request an MCVideo-emergency call on the MCVideo group. This is the
default value taken in the absence of the element.

b\) \"true\" which indicates that the identity is allowed to request an
MCVideo-emergency call on the MCVideo group.

The \<mcvideo-allow-imminent-peril-call\> element of an \<actions\>
element of a \<rule\> element of the MCVideo group document indicates
whether the identity matching the rule identified by the \<rule\>
element is allowed to request an imminent peril call on the MCVideo
group. The possible values of the element are:

a\) \"false\" which indicates that the identity is not allowed to
request an MCVideo-imminent peril call on the MCVideo group. This is the
default value taken in the absence of the element.

b\) \"true\" which indicates that the identity is allowed to request an
MCVideo imminent peril call on the MCVideo group.

The \<mcvideo-allow-emergency-alert\> element of an \<actions\> element
of a \<rule\> element of the MCVideo group document indicates whether
the identity matching the rule identified by the \<rule\> element is
allowed to request an MCVideo-emergency alert on the MCVideo group. The
possible values of the element are:

a\) \"false\" which indicates that the identity is not allowed to
request an MCVideo-emergency alert on the MCVideo group. This is the
default value taken in the absence of the element.

b\) \"true\" which indicates that the identity is allowed to request an
MCVideo-emergency alert on the MCVideo group.

The \<mcvideo-on-network-allow-conference-state\> element of an
\<actions\> element of a \<rule\> element of the MCVideo group document
indicates whether the identity matching the rule identified by the
\<rule\> element is allowed to subscribe to the conference event package
of an MCVideo group session of the MCVideo group in on-network MCVideo
procedures. The possible values of the element are:

a\) \"false\" which indicates that the identity is not allowed to
subscribe to the conference event package of an MCVideo group session of
the MCVideo group in on-network MCVideo procedures. This is the default
value taken in the absence of the element.

b\) \"true\" which indicates that the identity is allowed to subscribe
to the conference event package of an MCVideo group session of the
MCVideo group in on-network MCVideo procedures.

The \<mcvideo-on-network-allow-getting-affiliation-list\> element of an
\<actions\> element of a \<rule\> element of the MCVideo group document
indicates whether the identity matching the rule identified by the
\<rule\> element is allowed to get the list of MCVideo users affiliated
to the MCVideo group in on-network MCVideo procedures. The possible
values of the element are:

a\) \"false\" which indicates that the identity is not allowed to get
the list of MCVideo users affiliated to the MCVideo group in on-network
MCVideo procedures. This is the default value taken in the absence of
the element.

b\) \"true\" which indicates that the identity is allowed to get the
list of MCVideo users affiliated to the MCVideo group in on-network
MCVideo procedures.

The \<mcdata-allow-transmit-data-in-this-group\> element of an
\<actions\> element of a \<rule\> element of MCData group document
indicates whether the whether the identity matching the rule identified
by the \<rule\> element is allowed to transmit data in this group. The
possible values of this element are:

a\) \"false\" which indicates that the identity is not allowed to
transmit data in this group. This is the default value taken in the
absence of the element.

b\) \"true\" which indicates that the identity is allowed to transmit
data in this group.

The \<mcdata-on-network-allow-getting-affiliation-list\> element of an
\<actions\> element of a \<rule\> element of the MCData group document
indicates whether the identity matching the rule identified by the
\<rule\> element is allowed to get the list of MCData users affiliated
to the MCData group in on-network MCData procedures. The possible values
of the element are:

a\) \"false\" which indicates that the identity is not allowed to get
the list of MCData users affiliated to the MCData group in on-network
MCData procedures. This is the default value taken in the absence of the
element.

b\) \"true\" which indicates that the identity is allowed to get the
list of MCData users affiliated to the MCData group in on-network MCData
procedures.

The possible values of the \<off-network-queue-usage\> element are:

a\) \"true\" which indicates that the queue shall be used in off-network
MCPTT procedures. This is the default value taken in the absence of the
element; and

b\) \"false\" which indicates that the queue shall not be used in
off-network MCPTT procedures.

The \<mcptt-on-network-audio-cut-in\> element indicates whether or not a
group is configured for audio cut-in floor control. Audio cut-in floor
control only applies in on-network MCPTT and has no effect in
off-network MCPTT. The possible values of the element are:

a\) \"true\" which indicates that audio cut-in is enabled for the group;
and

b\) \"false\" which indicates that audio cut-in is disabled for the
group. This is the default value taken in the absence of the element.

The \<multi-talker-control\> element of the \<list-service\> element of
the MCPTT group document indicates whether or not a MCPTT group is
configured for support of multi-talker control. Multi-talker floor
control only applies in on-network MCPTT and has no effect in
off-network MCPTT. The possible values of the element are:

a\) \"true\" which indicates that multi-talker control is enabled for
the group; and

b\) \"false\" which indicates that multi-talker control is disabled for
the group. This is the default value taken in the absence of the
element.

Value of the \<max-number-simultaneous-talkers\> element of the
\<list-service\> element of the MCPTT group document indicates the
maximum number of parallel talkers in a MCPTT group session in
on-network MCPTT procedures. The default value in the absence of the
element is \"1\".

Value of the \<audio-mixing-entity\> element of the \<list-service\>
element of the MCPTT group document indicates where the audio streams
are mixed in case of a MCPTT group supporting multi-talker control.
Absence of the \<audio-mixing-entity\> element indicates that audio
mixing is performed in the network.

\<anyExt\> element contains elements defined by future version of the
present document.

### 7.2.9 Naming conventions

Naming conventions are described in the
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] \"*Naming conventions*\".

### 7.2.10 Global documents

#### 7.2.10.1 General

Global documents are described in the
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] \"*Global Documents*\".

#### 7.2.10.2 Group document addressed by a group ID

A group document addressed by a group ID is a group document:

\- located in a subdirectory of the global tree, with the subdirectory
name specified by the byGroupID-subdirectory ANBF rule of
table 7.2.10.2-1; and

\- with the document name set to the group ID.

Table 7.2.10.2-1: ABNF syntax of directory name for group documents
addressed by a group ID

byGroupID-subdirectory = %x62.79.47.72.6f.75.70.49.44; \"byGroupID\"

### 7.2.11 Resource interdependencies

#### 7.2.11.1 General

Resource interdependencies are described in the
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] \"*Resource interdependencies*\".

The presence and values of, or the absence of:

a\) the \<on-network-group-priority\> child element;

b\) the \<protect-media\> child element;

c\) the \<protect floor-control-signalling\> child element; and

d\) the \<require-multicast-floor-control-signalling\> child element;

of the \<on-network-regrouped\> element of the MCPTT group document of
the constituent MCTTP group are the same as the presence and values of,
or the absence of, the corresponding elements in the \<list-service\>
element of the MCPTT group document of the temporary MCPTT group.

#### 7.2.11.2 Group document addressed by a group ID

The following applies for a group document addressed by a group ID as
described in subclause 7.2.10.2 where the group ID identifies a group
defined in the GMS:

a\) a group document addressed by a group ID shall be associated with a
group document in the users tree of a particular user which defines the
group ID;

b\) a group document addressed by a group ID shall exist for each
associated group document in the users tree;

c\) a group document addressed by a group ID shall have the same content
as the associated group document in the users tree;

d\) GMS shall create a group document addressed by a group ID when the
associated group document in the users tree is created;

e\) modification of a group document addressed by a group ID shall
result in the same modification of the associated group document in the
users tree; and

f\) removal of a group document addressed by a group ID shall result in
removal of the associated group document in the users tree.

The following applies for a group document addressed by a group ID where
the group ID identifies a group of another MCS provider:

a\) GMS forwards a XCAP request for management of a group document
addressed by a group ID towards the other MCS provider.

### 7.2.12 Authorization policies

#### 7.2.12.1 General

Authorization policies are described in the
OMA OMA-TS-XDM\_Group-V1\_1\_1 \[3\] \"*Authorization policies*\".

An authenticated identity is authorized to read the \<group\> element of
an MCS group document.

An authenticated identity is authorized to read a \<list-service\>
element of the \<group\> element of the MCS group document and any
descendant elements of the \<list-service\> element:

a\) except a \<list\> element of the \<list-service\> element; and

b\) except descendant elements of the \<list\> element of the
\<list-service\> element;

if the authenticated identity is a member of an MCS group defined by the
\<list-service\> element.

An authenticated identity is authorized to read a \<list\> element of a
\<list-service\> element of the \<group\> element of an MCS group
document and any descendant elements of the \<list\> element if:

a\) the authenticated identity is a member of MCS group defined by the
\<list-service\> element; and

b\) the MCS group document contains a \<rule\> element:

1\) with the \<conditions\> element evaluating to true for the
authenticated identity or without the \<conditions\> element; and

2\) with the \<actions\> element containing the
\<on-network-allow-getting-member-list\> element.

An authenticated identity is authorized to read an \<entry\> element of
a \<list\> element of a \<list-service\> element of the \<group\>
element of the MCS group document and any descendant elements of the
\<entry\> element if:

a\) the \"uri\" attribute of the \<entry\> element contains the
authenticated identity;

b\) the \"uri\" attribute of the \<mcvideo-mcvideo-id\> element of the
\<entry\> element contains the authenticated identity; or

c\) the \"uri\" attribute of the \<mcdata-mcdata-id\> element of the
\<entry\> element contains the authenticated identity.

An authenticated identity is authorized to read an MCS group document if
the authenticated identity is listed in the authorized MCS server list
specified in subclause 6.2.5.1.

An authenticated identity is authorized to create, read, modify and
delete an MCS group document if the MCS group document is stored:

a\) in users tree of the XUI equal to the authenticated identity; or

b\) in users tree of the another XUI, subject to MCS service provider
policy. The MCS service provider policy can specified e.g. using an
appropriate access permissions document specified in
OMA OMA-TS-XDM\_Core-V2\_1 \[2\], stored in the user\'s tree of the
other XUI;

and unless precluded by other statement of this subclause.

None is authorized to create, delete, and modify a
\<on-network-temporary\> element of a \<list-service\> element of the
\<group\> element of an existing MCS group document.

None is authorized to delete a group document containing a
\<on-network-regrouped\> element of a \<list-service\> element of the
\<group\> element of an MCS group document.

An authenticated identity is authorized to create and delete a
\<on-network-regrouped\> element in the \<list-service\> element of the
\<group\> element of an existing MCS group document if the authenticated
identity is in authorized GMS list specified in subclause 6.2.5.1.

An authenticated identity is authorized to subscribe to notification of
changes of an MCS group document if:

1\) the authenticated identity is a member of an MCS group defined by a
\<list-service\> element of the \<group\> element of the MCS group
document;

2\) the authenticated identity is listed in the authorized MCS server
list specified in subclause 6.2.5.1; or

3\) the authenticated identity is listed in the authorized GMS list
specified in subclause 6.2.5.1 and the subscription is on behalf of a
constituent MCS group of the MCS group defined by the MCS group
document.

#### 7.2.12.2 Group document addressed by a group ID

Authorizations for management of a group document addressed by a group
ID as described in subclause 7.2.10.2 are the same authorizations for
management of the associated group document in the users tree.

7.3 GMOP document
-----------------

### 7.3.1 General

The GMOP document enables performing a group management operation which
cannot be expressed by HTTP GET, HTTP PUT or HTTP DELETE methods.

### 7.3.2 MIME type

The MIME type of the GMOP document is application/vnd.3gpp.GMOP+xml.

### 7.3.3 XML schema

\<?xml version=\"1.0\" encoding=\"UTF-8\"?\>

\<xs:schema

targetNamespace=\"urn:3gpp:ns:mcpttGMOP:1.0\"

xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"

xmlns:mcpttgi=\"urn:3gpp:ns:mcpttGroupInfo:1.0\"

xmlns:gmop=\"urn:3gpp:ns:mcpttGMOP:1.0\"

xmlns=\"urn:oma:xml:poc:list-service\"

elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\"\>

\<xs:import namespace=\"urn:3gpp:ns:mcpttGroupInfo:1.0\"/\>

\<xs:import namespace=\"urn:oma:xml:poc:list-service\"/\>

\<!\-- root element \--\>

\<xs:element name=\"document\" type=\"gmop:documentType\"/\>

\<!\-- complex type for document element \--\>

\<xs:complexType name=\"documentType\"\>

\<xs:choice\>

\<xs:element name=\"request\" type=\"gmop:anyExtType\"/\>

\<xs:element name=\"response\" type=\"gmop:anyExtType\"/\>

\<xs:element name=\"indication\" type=\"gmop:anyExtType\"/\>

\<xs:element name=\"command\" type=\"gmop:anyExtType\"/\>

\</xs:choice\>

\</xs:complexType\>

\<!\-- GMOP requests \--\>

\<xs:element name=\"get-excluding-memberlist\"
type=\"gmop:emptyType\"/\>

\<xs:element name=\"group-regroup-creation\"
type=\"gmop:group-regroup-creationType\"/\>

\<xs:element name=\"group-regroup-check\"
type=\"gmop:group-regroup-checkType\"/\>

\<xs:element name=\"group-regroup-notification\"
type=\"gmop:group-regroup-notificationType\"/\>

\<!\-- complex type for group-regroup-creation element \--\>

\<xs:complexType name=\"group-regroup-creationType\"\>

\<xs:sequence\>

\<xs:element ref=\"group\"/\>

\<xs:element name=\"anyExt\" type=\"gmop:anyExtType\" minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- complex type for group-regroup-check element \--\>

\<xs:complexType name=\"group-regroup-checkType\"\>

\<xs:sequence\>

\<xs:element ref=\"mcpttgi:on-network-regrouped\"/\>

\<xs:element name=\"anyExt\" type=\"gmop:anyExtType\" minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- complex type for group-regroup-notification element \--\>

\<xs:complexType name=\"group-regroup-notificationType\"\>

\<xs:sequence\>

\<xs:element ref=\"mcpttgi:on-network-regrouped\"/\>

\<xs:element name=\"anyExt\" type=\"gmop:anyExtType\" minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- GMOP responses \--\>

\<xs:element name=\"group-regroup-creation-response\"
type=\"gmop:group-regroup-creation-responseType\"/\>

\<!\-- complex type for group-regroup-creation-response element \--\>

\<xs:complexType name=\"group-regroup-creation-responseType\"\>

\<xs:sequence\>

\<xs:element name=\"temporary-group-document-ETag\"
type=\"xs:string\"/\>

\<xs:element name=\"anyExt\" type=\"gmop:anyExtType\" minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- GMOP indications \--\>

\<!\-- GMOP commands \--\>

\<!\-- complex type for empty elements \--\>

\<xs:complexType name=\"emptyType\"/\>

\<!\-- complex type for elements containing any elements \--\>

\<xs:complexType name=\"anyExtType\"\>

\<xs:sequence\>

\<xs:any namespace=\"\#\#any\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\</xs:complexType\>

\</xs:schema\>

### 7.3.4 Structure

#### 7.3.4.1 General

The GMOP document shall conform to the XML schema described in subclause
7.3.3.

The \<document\> element specified in subclause 7.3.3 shall be the root
element of the GMOP document.

The \<document\> element specified in subclause 7.3.3 of the GMOP
document shall include one of the following:

a\) a \<request\> element specified in subclause 7.3.3;

b\) a \<response\> element specified in subclause 7.3.3.

c\) a \<command\> element specified in subclause 7.3.3; or

d\) a \<indication\> element specified in subclause 7.3.3.

\<anyExt\> element contains elements defined by future version of the
present document.

The GMOP document can contain unknown elements or unknown attributes.
Unknown elements and unknown attributes are ignored.

Elements and attributes of the GMOP document are defined in various
namespaces. The GMOP document refers to namespaces using prefixes
specified in table 7.3.4.1-1.

Table 7.3.4.1-1: Assignment of prefixes to namespace names in GMOP
documents

  ------------------------------------------------------------------------------------------------------------ ---------------------------------------
  Prefix                                                                                                       Namespace
  rl                                                                                                           urn:ietf:params:xml:ns:resource-lists
  cp                                                                                                           urn:ietf:params:xml:ns:common-policy
  ocp                                                                                                          urn:oma:xml:xdm:common-policy
  oxe                                                                                                          urn:oma:xml:xdm:extensions
  mcpttgi                                                                                                      urn:3gpp:ns:mcpttGroupInfo:1.0
  gmop                                                                                                         urn:3gpp:ns:mcpttGMOP:1.0
  NOTE: The \"urn:oma:xml:poc:list-service\" namespace is the default namespace so no prefix is used for it.   
  ------------------------------------------------------------------------------------------------------------ ---------------------------------------

#### 7.3.4.2 GMOP document requesting retrieval of a group document excluding group members

The GMOP document requesting retrieval of a group document excluding
group members is a GMOP document according to subclause 7.3.4.1, where
the \<request\> element includes a \<get-excluding-memberlist\> element
specified in subclause 7.3.3.

#### 7.3.4.3 GMOP document requesting group regroup creation

The GMOP document requesting group regroup creation is a GMOP document
according to subclause 7.3.4.1, where the \<request\> element includes a
\<group-regroup-creation\> element specified in subclause 7.3.3.

The \<group-regroup-creation\> element:

a\) shall include an \<group\> element specified in subclause 7.2.4; and

b\) may include an \<anyExt\> element specified in subclause 7.3.3.

#### 7.3.4.4 GMOP document requesting group regroup check

The GMOP document requesting group regroup check is a GMOP document
according to subclause 7.3.4.1, where the \<request\> element includes a
\<group-regroup-check\> element specified in subclause 7.3.3.

The \<group-regroup-check\> element:

a\) shall include an \<on-network-regrouped\> element specified in
subclause 7.2.4; and

b\) may include an \<anyExt\> element specified in subclause 7.3.3.

#### 7.3.4.5 GMOP document requesting group regroup notification

The GMOP document requesting group regroup notification is a GMOP
document according to subclause 7.3.4.1, where the \<request\> element
includes a \<group-regroup-notification\> element specified in
subclause 7.3.3.

The \<group-regroup-notification\> element:

a\) shall include an \<on-network-regrouped\> element specified in
subclause 7.2.4; and

c\) may include an \<anyExt\> element specified in subclause 7.3.3.

#### 7.3.4.6 GMOP document with group regroup creation response

The GMOP document with group regroup creation response is a GMOP
document according to subclause 7.3.4.1, where the \<response\> element
includes a \<group-regroup-creation-response\> element specified in
subclause 7.3.3.

The \<group-regroup-creation-response\> element:

a\) shall include an \<temporary-group-document-ETag\> element specified
in subclause 7.3.3 containing the ETag of the group document of the
temporary MCS group; and

b\) may include an \<anyExt\> element specified in subclause 7.3.3.

7.4 Group key transport payload
-------------------------------

### 7.4.1 General

The requirements in the remaining subclauses of the parent subclause of
this subclause apply for encoding of group key and related parameters
using IETF RFC 3830 \[16\] and IETF RFC 6509 \[18\], as specified in
3GPP TS 33.180 \[29\].

A GMS compliant to Release 14 of the present document does not send a
group key transport payload carrying MKFC and MKFC-ID.

A GMC can receive MKFC and MKFC-ID from a GMS compliant only to Release
13 of the present document.

### 7.4.2 Group key transport payload structure

The group key transport payload is an I\_MESSAGE as specified in
IETF RFC 3830 \[16\] containing a GMK or an MKFC, with additional fields
as specified in IETF RFC 6509 \[18\], composed with the following
clarification:

a\) the common header payload specified in IETF RFC 3830 \[16\] is
included and the CSB\_ID field of the common header payload:

i\) for transport of the GMK, contains GUK-ID as specified in
3GPP TS 33.180 \[29\]; and

ii\) for transport of the MKFC, contains MKFC-ID as specified in
3GPP TS 33.180 \[29\];

b\) the timestamp payload specified in IETF RFC 3830 \[16\] is included
and the TS type field of the timestamp payload is set to \'NTP-UTC\';

c\) the RAND payload specified in IETF RFC 3830 \[16\] is included;

d\) if MCS identifiers are not protected, the IDRi payload specified in
IETF RFC 6509 \[18\] is included and:

1\) the ID type field of the IDRi payload is set to the \'URI\';

2\) if the originator of the I\_MESSAGE is the GMS, the ID data field of
the IDRi payload is set to the GMS\'s URI, consisting of the HTTP URI
identifying the directory of the application unique ID as specified in
subclause 7.2.3 under the XCAP root URI; and

3\) if the originator of the I\_MESSAGE is an MCS server, the ID data
field of the IDRi payload is set to the MCS server\'s URI;

e\) if MCS identifiers are protected, the ID payload with role indicator
specified in IETF RFC 6043 \[17\] is included and:

1\) the ID role field of the ID payload is set to the \'IDRuidi\' as
specified in subclause 7.5.2;

2\) the ID type field of the ID payload is set to the \'Byte string\';

3\) if the originator of the I\_MESSAGE is the GMS, the ID data field of
the ID payload is set to the UID generated from the GMS\'s URI as
specified in 3GPP TS 33.180 \[29\], consisting of the HTTP URI
identifying the directory of the application unique ID as specified in
subclause 7.2.3 under the XCAP root URI; and

4\) if the originator of the I\_MESSAGE is an MCS server, the ID data
field of the ID payload is set to the MCS server\'s URI;

f\) if MCS identifiers are not protected, the IDRr payload specified in
IETF RFC 6509 \[18\] is included and:

1\) the ID type field of the IDRr payload is set to the \'URI\';

2\) if an MCS user is targeted, the ID data field of the IDRr payload is
set to the MCS ID of the targeted MCS user;

3\) if an constituent MCS group is targeted, the ID data field of the
IDRr payload is set to the MCS Group ID of the targeted constituent MCS
group; and

4\) if an MCS server is targeted, the ID data field of the IDRr payload
is set to the MCS server\'s URI;

g\) if MCS identifiers are protected, the ID payload with role indicator
specified in IETF RFC 6043 \[17\] is included and:

1\) the ID role field of the ID payload is set to the \'IDRuidr\' as
specified in subclause 7.5.2;

2\) the ID type field of the ID payload is set to the \'Byte string\';

3\) if an MCS user is targeted, the ID data field of the ID payload is
set to the UID generated from the MCS ID of the targeted MCS user;

4\) if an constituent MCS group is targeted, the ID data field of the ID
payload is set to the UID generated from the MCS Group ID of the
targeted constituent MCS group; and

5\) if an MCS server is targeted, the ID data field of the ID payload is
set to the MCS\'s server URI;

h\) the IDRkmsi payload specified in IETF RFC 6509 \[18\] is included
and:

1\) the ID type field of the IDRkmsi payload is set to the \'URI\';

2\) if the originator of the I\_MESSAGE is the GMS, the ID data field of
the IDRkmsi payload is set to the URI of the MCS KMS used by the group
management server; and

3\) if the originator of the I\_MESSAGE is an MCS server, the ID data
field of the IDRkmsi payload is set to the URI of the MCS KMS used by
MCS server;

i\) the IDRkmsr payload specified in IETF RFC 6509 \[18\] is included
and:

1\) the ID type field of the IDRkmsr payload is set to the \'URI\';

2\) if an MCS user is targeted, the ID data field of the IDRkmsr payload
is set to the URI of the MCS KMS used by targeted MCS user;

NOTE: The KMS URI is stored in the group configuration data.

Editor\'s Note: The XML element(s) (or XML attribute(s)) in the MCPTT
Group for carrying the KMS URI need to be defined.

3\) if an constituent MCS group is targeted, the ID data field of the
IDRkmsr payload is set to the URI of the MCS KMS used by targeted
constituent MCS group; and

4\) if an MCS server is targeted, the ID data field of the IDRkmsr
payload is set to the URI of the MCS KMS used by the MCS server;

j\) the SAKKE payload specified in IETF RFC 6509 \[18\] is included and:

1\) the SAKKE params field of the SAKKE payload is set to \'Parameter
Set 1\';

2\) the ID scheme field of the SAKKE payload is set to
\'MCPTT-ID-scheme\' or \'3GPP MCX hashed UID\' as specified in
subclause 7.5.3; and

3\) the SAKKE data field of the SAKKE payload contains the GMK or MKFC
specified in 3GPP TS 33.180 \[29\];

k\) the SIGN payload specified in IETF RFC 6509 \[18\] is included and
the S type field of the SIGN payload is set to the \'ECCSI\';

l\) the security policy payload specified in IETF RFC 3830 \[16\] can be
included;

m\) the general extension payload specified in IETF RFC 3830 \[16\] with
the type field set to \'GMK-or-MKFC-associated-parameters\' or to \'3GPP
key parameters\' as specified in subclause 7.5.4 is included and the
data field of the general extension payload contains the associated
parameters of GMK or MKFC as specified in 3GPP TS 33.180 \[29\]
figure E.6.1-1; and

n\) the General extension payload specified in IETF RFC 3830 \[16\] with
the type field set to the \'SAKKE-to-self\' as specified in
subclause 7.5.4 can be included and the data field of the general
extension payload contains a SAKKE payload specified in
IETF RFC 6509 \[18\]. In the SAKKE payload included in the general
extension payload:

1\) the SAKKE params field of the SAKKE payload is set to \'Parameter
Set 1\';

2\) the ID scheme field of the SAKKE payload is set to
\'MCPTT-SAKKE-to-self-ID-scheme\' or \'3GPP MCX hashed UID\' as
specified in subclause 7.5.3; and

3\) the SAKKE data field of the SAKKE payload contains the GMK or MKFC
specified in 3GPP TS 33.180 \[29\].

7.5 MIKEY parameters value assignment
-------------------------------------

### 7.5.1 General

The requirements in the remaining subclauses of the parent subclause of
this subclause apply for:

\- assignment of \'reserved for private use\' values of parameters
defined in IETF RFC 3830 \[16\], IETF RFC 6043 \[17\] and
IETF RFC 6509 \[18\]; or

\- IANA registered values in the Multimedia Internet KEYing (MIKEY)
Payload Name Spaces.

### 7.5.2 ID role field assignment

NOTE: A GMC can receive MKFC and MKFC-ID only from a GMS compliant only
to Release 13 of the present document.

IETF RFC 6043 \[17\] defines some values of the ID role field of the ID
payload with role indicator as \'reserved for private use\'. The
table 7.5.2-1 shows usage of the \'reserved for private use\' values of
the ID role field of the ID payload with role indicator for usage in
MCS.

IANA registered values for the ID role field of the ID payload is shown
in table 7.5.2-2.

The IANA registered values and the values \'reserved for private use\'
shall be supported.

NOTE: Only the values \'reserved for private use\' were specified in
early versions of the present document from release 13 to release 16.
The continued support for these values is for backwards compatibility.

Table 7.5.2-1: Usage of \'reserved for private use\' values of the ID
role field of the ID payload with role indicator

  -------------- --------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ID role name   ID role value   ID role descriptions
  IDRuidr        240             The ID data field of an ID payload with the ID role field set to \'IDRuidr\' contains UID generated from the MCS ID of an MCS user or a UID generated from the MCS Group ID of an MCS group or a UID generated from the MCS server\'s URI, as specified in 3GPP TS 33.180 \[29\].
  IDRuidi        241             The ID data field of an ID payload with the ID role field set to \'IDRuidi\' contains a UID generated from the GMS\'s URI or a UID generated from the MCS server\'s URI, as specified in 3GPP TS 33.180 \[29\].
  -------------- --------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.5.2-2: Usage of IANA registered values values of the ID role
field of the ID payload with role indicator

  -------------- --------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ID role name   ID role value   ID role descriptions
  IDRuidr        9               The ID data field of an ID payload with the ID role field set to \'IDRuidr\' contains UID generated from the MCS ID of an MCS user or a UID generated from the MCS Group ID of an MCS group or a UID generated from the MCS server\'s URI, as specified in 3GPP TS 33.180 \[29\].
  IDRuidi        8               The ID data field of an ID payload with the ID role field set to \'IDRuidi\' contains a UID generated from the GMS\'s URI or a UID generated from the MCS server\'s URI, as specified in 3GPP TS 33.180 \[29\].
  -------------- --------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### 7.5.3 ID scheme field assignment

IETF RFC 6509 \[18\] defines some values of the ID scheme field of the
SAKKE payload as \'reserved for private use\'. The table 7.5.3-1 shows
usage of the \'reserved for private use\' values of the ID scheme field
of the SAKKE payload for usage in MCS.

IANA registered values for the ID role field of the ID payload is shown
in table 7.5.3-2.

The IANA registered values and the values \'reserved for private use\'
shall be supported.

NOTE: Only the values \'reserved for private use\' were specified in
early versions of the present document from release 13 to release 16.
The continued support for these values is for backwards compatibility.

Table 7.5.3-1: Usage of \'reserved for private use\' values of the ID
scheme field of the SAKKE payload

  ------------------------------- ----------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ID scheme name                  ID scheme value   ID scheme descriptions
  MCPTT-ID-scheme                 240               The SAKKE data field of a SAKKE payload with the ID scheme field set to \'MCPTT-ID-scheme\' contains the GMK encapsulated to the UID generated from the IDRr payload or extracted from the IDRuidr payload according to 3GPP TS 33.180 \[29\] subclause F.2.1.
  MCPTT-SAKKE-to-self-ID-scheme   241               The SAKKE data field of a SAKKE payload with the ID scheme field set to \'MCPTT-SAKKE-to-self-ID-scheme\' contains the GMK encapsulated to the UID generated from the IDRi payload or extracted from the IDRuidi payload according to 3GPP TS 33.180 \[29\] subclause F.2.1.
  ------------------------------- ----------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.5.3-2: Usage of IANA registered values of the ID scheme field of
the SAKKE payload

  --------------------- ----------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ID scheme name        ID scheme value   ID scheme descriptions
  3GPP MCX hashed UID   2                 The SAKKE data field of a SAKKE payload with the ID scheme field set to \'3GPP MCX hashed UID\' contains the encapsulated GMK to the UID generated from the MC Service user ID of the group management client according to 3GPP TS 33.180 \[29\] subclause E.2.1.
  --------------------- ----------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### 7.5.4 Type field assignment

IETF RFC 3830 \[16\] defines some values of the type field of the
general extension payload as \'reserved for private use\'. The
table 7.5.4-1 shows usage of the \'reserved for private use\' values of
the type field of the general extension payload for usage in MCS.

IANA registered values for the ID role field of the ID payload is shown
in table 7.5.4-2.

The IANA registered values and the values \'reserved for private use\'
shall be supported.

NOTE: Only the values \'reserved for private use\' were specified in
early versions of the present document from release 13 to release 16.
The continued support for these values is for backwards compatibility.

Table 7.5.4-1: Usage of \'reserved for private use\' values of the type
field of the general extension payload

  ----------------------------------- --------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ID role name                        ID role value   Descriptions
  SAKKE-to-self                       241             The data field of a general extension payload with the type field set to \'SAKKE-to-self\' contains a SAKKE payload as specified in IETF RFC 6509 \[18\].
  GMK-or-MKFC-associated-parameters   242             The data field of a general extension payload with the type field set to \'GMK-or-MKFC-associated-parameters\' contains the associated parameters of GMK or MKFC as specified in 3GPP TS 33.180 \[29\] table  E.6.1-1.
  ----------------------------------- --------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.5.4-2: Usage of IANA registered values values of the type field
of the general extension payload

  ------------------------------ --------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  General extensions field nam   ID role value   Descriptions
  SAKKE-to-self                  6               The data field of a general extension payload with the type field set to \'SAKKE-to-self\' contains a SAKKE payload as specified in IETF RFC 6509 \[18\].
  3GPP key parameters            7               The data field of a general extension payload with the type field set to \'GMK-or-MKFC-associated-parameters\' contains the associated parameters of GMK, MKFC or MuSiK as specified in 3GPP TS 33.180 \[29\] table E.6.1-1.
  ------------------------------ --------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

7.6 Group key transport payload failure
---------------------------------------

### 7.6.1 General

The requirements in the remaining subclauses of the parent subclause of
this subclause apply for coding of group key transport payload failure.

### 7.6.2 Group key transport payload structure

The group key transport payload is an Error payload as specified in
IETF RFC 3830 \[16\].

7.7 MCS group key transport payloads (GKTP) document coding
-----------------------------------------------------------

### 7.7.1 General

The requirements in the remaining subclauses of the parent subclause of
this subclause apply for an MCS group key transport payloads (GKTP)
document.

The MCS GKTP document contains group key transport payloads for an MCS
group.

The MCS GKTP document is located in the global tree, cannot be managed
using XCAP and can be fetched using SIP.

An MCS GKTP document stored in a GMS compliant to Release 14 of the
present document does not contain an MKFC and an MKFC-ID.

A GMC can receive an MCS GKTP document containing an MKFC and an MKFC-ID
from a GMS compliant only to Release 13 of the present document.

### 7.7.2 Structure

The \<group\> element specified in
OMA OMA-SUP-XSD\_poc\_listService-V1\_0\_2 \[19\] of an MCS GKTP
document:

a\) shall be the root element; and

b\) shall include one \<list-service\> elements specified in
OMA OMA-SUP-XSD\_poc\_listService-V1\_0\_2 \[19\].

The \<list-service\> element specified in
OMA OMA-SUP-XSD\_poc\_listService-V1\_0\_2 \[19\] of an MCS GKTP
document:

a\) shall include a \"uri\" attribute specified in
OMA OMA-SUP-XSD\_poc\_listService-V1\_0\_2 \[19\]; and

b\) shall include an \<GKTPs\> element specified in subclause 7.7.4.2.

The \<GKTPs\> element specified in subclause 7.7.4.2 of an MCS GKTP
document:

a\) may include an \<anyExt\> element specified in subclause 7.2.4.2.

The \<GKTPs\> element specified in subclause 7.7.4.2 of an MCS GKTP
document which is associated as specified in subclause 7.7.11 with an
MCS group document defining an MCPTT group additionally:

a\) shall include zero or one \<GMK-GKTPs\> elements specified in
subclause 7.7.4.2; and

b\) shall include zero or one \<MKFC-GKTPs\> elements specified in
subclause 7.7.4.2.

The \<GMK-GKTPs\> element specified in subclause 7.7.4.2 of an MCS GKTP
document which is associated as specified in subclause 7.7.11 with an
MCS group document defining an MCPTT group:

a\) shall include zero or more \<GKTP\> elements specified in
subclause 7.7.4.2; and

b\) shall include zero or more \<on-network-regrouped-GKTPs\> elements
specified in subclause 7.7.4.2; and

c\) may include an \<anyExt\> element specified in subclause 7.2.4.2.

The \<MKFC-GKTPs\> element specified in subclause 7.7.4.2 of an MCS GKTP
document which is associated as specified in subclause 7.7.11 with an
MCS group document defining an MCPTT group:

a\) shall include zero or more \<GKTP\> elements specified in
subclause 7.7.4.2; and

b\) shall include zero or more \<on-network-regrouped-GKTPs\> elements
specified in subclause 7.7.4.2; and

c\) may include an \<anyExt\> element specified in subclause 7.2.4.2.

The \<GKTP\> element specified in subclause 7.7.4.2 of an MCS GKTP
document:

a\) shall include an \"id\" attribute specified in subclause 7.7.4.2.

The \<on-network-regrouped-GKTPs\> element specified in
subclause 7.7.4.2 of an MCS GKTP document:

a\) shall include a \"temporary-MCPTT-group-ID\" attribute specified in
subclause 7.7.4.2;

b\) shall include zero or more \<GKTP\> elements specified in
subclause 7.7.4.2; and

c\) may include an \<anyExt\> element specified in subclause 7.2.4.2.

\<anyExt\> element contains elements defined by future versions of the
present document.

Elements and attributes of the MCS GKTP document are defined in various
namespaces. The MCS GKTP document refers to namespaces using prefixes
specified in table 7.7.2-1.

Table 7.7.2-1: Assignment of prefixes to namespace names in MCS GKTP
documents

  ------------------------------------------------------------------------------------------------------------------------------------- ----------------------------
  Prefix                                                                                                                                Namespace
  oxe                                                                                                                                   urn:oma:xml:xdm:extensions
  mgktp                                                                                                                                 urn:3gpp:ns:mcpttGKTP:1.0
  NOTE: The \"urn:oma:xml:poc:list-service\" namespace is the default namespace so no prefix is used for it in the MCS GKTP document.   
  ------------------------------------------------------------------------------------------------------------------------------------- ----------------------------

MCS GKTP document may contain unknown elements and unknown attributes
according to the XML schemas specified in subclause 7.7.4.

### 7.7.3 Application Unique ID

Application Unique ID is \"org.3gpp.MCPTT-GKTP\".

### 7.7.4 XML schema

#### 7.7.4.1 General

The MCS GKTP document is composed according the XML schema specified in
the OMA OMA-SUP-XSD\_poc\_listService-V1\_0\_2 \[19\], and extended with
extensions from the XML schema defined in subclause 7.7.4.2.

#### 7.7.4.2 XML schema for MCS specific extensions

\<?xml version=\"1.0\" encoding=\"UTF-8\"?\>

\<xs:schema

targetNamespace=\"urn:3gpp:ns:mcpttGKTP:1.0\"

xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"

xmlns:mgktp=\"urn:3gpp:ns:mcpttGKTP:1.0\"

elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\"\>

\<!\-- MCS specific \"list-service\" child elements \--\>

\<xs:element name=\"GKTPs\" type=\"mgktp:allTypeGKTPsType\"/\>

\<!\-- complex type for GKTPs element \--\>

\<xs:complexType name=\"allTypeGKTPsType\"\>

\<xs:sequence\>

\<!\-- MCPTT specific extensions for regroupedType type defined in
release 13 \--\>

\<xs:element name=\"GMK-GKTPs\" type=\"mgktp:singleTypeGKTPsType\"
minOccurs=\"0\"/\>

\<xs:element name=\"MKFC-GKTPs\" type=\"mgktp:singleTypeGKTPsType\"
minOccurs=\"0\"/\>

\<xs:element name=\"anyExt\" type=\"mgktp:anyExtType\"
minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- MCS specific extensions for regroupedType type \--\>

\<!\-- MCPTT specific extensions for regroupedType type defined in a
release after release 13 \--\>

\<!\-- MCVideo specific extensions for regroupedType type \--\>

\<!\-- MCData specific extensions for regroupedType type \--\>

\<!\-- complex type for GKTPs element \--\>

\<xs:complexType name=\"singleTypeGKTPsType\"\>

\<xs:sequence\>

\<xs:element name=\"GKTP\" type=\"mgktp:GKTPType\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\<xs:element name=\"on-network-regrouped-GKTPs\"

type=\"mgktp:on-network-regrouped-GKTPsType\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\<xs:element name=\"anyExt\" type=\"mgktp:anyExtType\"
minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- complex type for GKTP element \--\>

\<xs:complexType name=\"GKTPType\"\>

\<xs:simpleContent\>

\<xs:extension base=\"xs:hexBinary\"\>

\<xs:attribute name=\"id\" type=\"xs:string\" use=\"required\"/\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:extension\>

\</xs:simpleContent\>

\</xs:complexType\>

\<!\-- complex type for on-network-regrouped element \--\>

\<xs:complexType name=\"on-network-regrouped-GKTPsType\"\>

\<xs:sequence\>

\<xs:element name=\"GKTP\" type=\"mgktp:GKTPType\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\<xs:element name=\"anyExt\" type=\"mgktp:anyExtType\"
minOccurs=\"0\"/\>

\<xs:any namespace=\"\#\#other\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\<xs:attribute name=\"temporary-MCPTT-group-ID\" type=\"xs:anyURI\"
use=\"required\"/\>

\<xs:anyAttribute namespace=\"\#\#any\" processContents=\"lax\"/\>

\</xs:complexType\>

\<!\-- complex type for any extensions element \--\>

\<xs:complexType name=\"anyExtType\"\>

\<xs:sequence\>

\<xs:any namespace=\"\#\#any\" processContents=\"lax\" minOccurs=\"0\"
maxOccurs=\"unbounded\"/\>

\</xs:sequence\>

\</xs:complexType\>

\</xs:schema\>

### 7.7.5 Default document namespace

The default document namespace used in evaluating URIs for MCS GKTP
document is urn:oma:xml:poc:list-service specified in the
OMA OMA-SUP-XSD\_poc\_listService-V1\_0\_2 \[19\].

### 7.7.6 MIME type

MIME type for MCS GKTP document is not specified.

NOTE: according to subclause 7.7.12, the MCS GKTP documents are not
managed using XCAP and fetching entire MCS GKTP document or a fragment
of the MCS GKTP using SIP as specified in subclause 6.3.13 and
IETF RFC 5875 \[13\] uses application/xcap-diff+xml MIME type.

### 7.7.7 Validation constraints

None.

### 7.7.8 Data semantics

If a MCS GKTP document includes an element not specified in
subclause 7.7.2 and the element has the \"must-understand\" attribute
with value \"true\", then the MCS GKTP document shall be ignored.

If a MCS GKTP document includes an element not specified in
subclause 7.7.2 and the element does not have the \"must-understand\"
attribute with value \"true\", then the element shall be ignored.

If a MCS GKTP document includes an attribute not specified in
subclause 7.7.2 and different from the \"must-understand\" attribute,
then the attribute shall be ignored.

The \"uri\" attribute of a \<list-service\> element of a MCS GKTP
document contains the MCS group ID, which is defined by a group document
as specified in subclause 7.2 and located in the same XCAP server.

The \<GKTPs\> element of the \<list-service\> element of the MCS GKTP
document:

\- can contain a \<GMK-GKTPs\> element containing group key transport
payloads carrying GMKs; and

\- can contain a \<MKFC-GKTPs\> element containing group key transport
payloads carrying MKFCs;

associated with the MCPTT group with the MCS group ID indicated in the
\"uri\" attribute of a \<list-service\> element.

Value of a \<GKTP\> element of a \<GMK-GKTPs\> element of a \<GKTPs\>
element of the \<list-service\> element of the MCS GKTP document
contains a group key transport payload carrying GMK as described in
subclause 7.4, indicating the GMK for protection of:

a\) media; and

b\) floor control signalling when the UE operates off the network;

to be used when the MCPTT group is not a constituent MCPTT group,
encrypted to the MCPTT ID of the MCPTT user accessing the MCS GKTP
document, according to 3GPP TS 33.180 \[29\], signed using the identity
of the GMS.

Value of a \<GKTP\> element of a \<MKFC-GKTPs\> element of a \<GKTPs\>
element of the \<list-service\> element of the MCS GKTP document
contains a group key transport payload carrying MKFC as described in
subclause 7.4, indicating the MKFC for protection of multicast floor
control signalling when the UE operates on the network, to be used when
the MCPTT group is not a constituent MCPTT group, encrypted to:

\- MCPTT ID of the MCPTT user accessing the MCS GKTP document; or

\- the identity of MCPTT server accessing the MCS GKTP document;

according to 3GPP TS 33.180 \[29\], signed using the identity of the
GMS.

Value of the \"id\" attribute of a \<GKTP\> element shall be unique
amongst values of all other \"id\" attributes in \<GKTP\> elements
within the same parent element.

If multiple \<GKTP\> elements are included in a parent element, then
each \<GKTP\> element with the parent element has a different activation
time.

Value of a \<GKTP\> element of an \<on-network-regrouped-GKTPs\> element
of a \<GMK-GKTPs\> element of a \<GKTPs\> element of the
\<list-service\> element of the MCS GKTP document contains a group key
transport payload carrying GMK as described in subclause 7.4, indicating
the GMK for protection of:

a\) media; and

b\) floor control signalling when the UE operates off the network;

to be used when the MCPTT group is a constituent MCS group of the
temporary MCS group with the MCS Group ID indicated in the
\"temporary-MCPTT-group-ID\" attribute of the
\<on-network-regrouped-GKTPs\> element, encrypted to the MCPTT ID of the
MCPTT user accessing the MCS GKTP document, according to
3GPP TS 33.180 \[29\], signed using the identity of the GMS.

Value of a \<GKTP\> element of an \<on-network-regrouped-GKTPs\> element
of a \<MKFC-GKTPs\> element of a \<GKTPs\> element of the
\<list-service\> element of the MCS GKTP document contains a group key
transport payload carrying MKFC as described in subclause 7.4,
indicating the MKFC for protection of multicast floor control signalling
when the UE operates on the network, to be used when the MCPTT group is
a constituent MCS group of the temporary MCS group with the MCS Group ID
indicated in the \"temporary-MCPTT-group-ID\" attribute of the
\<on-network-regrouped-GKTPs\> element, encrypted to:

\- MCPTT ID of the MCPTT user accessing the MCS GKTP document; or

\- the identity of MCPTT server accessing the MCS GKTP document;

according to 3GPP TS 33.180 \[29\], signed using the identity of the
GMS.

\<anyExt\> element contains elements defined by future versions of the
present document.

### 7.7.9 Naming conventions

None.

### 7.7.10 Global documents

MCS GKTP documents:

\- are located in a subdirectory of the global tree, with the
subdirectory name specified by the byGroupID-subdirectory ANBF rule of
table 7.7.10.2-1; and

\- have the document name set to the group ID.

Table 7.7.10.2-1: ABNF syntax of directory name for MCS GKTP documents
addressed by a group ID

byGroupID-subdirectory = %x62.79.47.72.6f.75.70.49.44; \"byGroupID\"

### 7.7.11 Resource interdependencies

The following applies for a MCS GKTP document:

a\) a MCS GKTP document shall be associated with an MCS group document
in the users tree of a particular user which defines the group ID;

b\) a MCS GKTP document shall exist for each associated MCS group
document;

c\) GMS shall create a MCS GKTP document when the associated MCS group
document is created; and

d\) GMS shall generate the GMK(s) of the MCS GKTP document according to
the presence and values of, or the absence of, the \<protect-media\>
element, the \<protect-floor-control-signalling\> element and the
\<require-multicast-floor-control-signalling\> element of the associated
MCS group document.

NOTE: 3GPP TS 33.180 \[29\] describes how GMK(s) and MKFC(s) are
generated.

### 7.7.12 Authorization policies

MCS GKTP documents shall not be managed using XCAP.

MCS GKTP documents can be fetched using SIP.

An authenticated identity is authorized to subscribe to notification of
changes of an \<GKTPs\> element of an MCS GKTP document if:

a\) the authenticated identity is a member of an MCS group defined by an
MCS group document associated with the MCS GKTP document; or

b\) the authenticated identity is listed in the authorized GMS list
specified in subclause 6.2.5.1 and the subscription is on behalf of a
constituent MCS group of the MCS group defined by an MCS group document
associated with the MCS GKTP document.

######## Annex A (informative): Signalling flows

A.1 Scope of signalling flows
=============================

This annex gives examples of signalling flows for group document
management on the extensible markup language configuration access
protocol (XCAP) and the session initiation protocol (SIP).

HTTP header fields and SIP header fields insignificant for the group
document management are omitted.

A.2 Signalling flows for group creation
=======================================

A.2.1 General
-------------

The key to interpret signalling flows:

\- The MCPTT IDs of MCPTT users of the MCPTT service provider SP1 have
format sip:user*\<sometext\>*\@MCPTTSP1.example.com

\- The MCPTT ID of the MCPTT user 1 of the MCPTT service provider SP1 is
sip:user1\@MCPTTSP1.example.com.

\- The GMC-1 serves the MCPTT user 1.

\- The GMC-1 is configured with the group creation XUI configuration
parameter set to sip:department1\@MCPTTSP1.example.com.

\- The GMC-1 is configured with XCAP Root URI set to
http://xcap.MCPTTSP1.example.com/path1

\- The GMS-1 is deployed in MCPTT service provider SP1.

\- The hostname of the GMS-1 is xcap.MCPTTSP1.example.com.

\- The GMS-1 provides XCAP server at XCAP Root URI
http://xcap.MCPTTSP1.example.com/path1

\- MCPTT Group IDs of MCPTT groups defined by group documents stored in
GMS-1 have format sip:group*\<sometext\>*\@MCPTTSP1.example.com

\- The GMS-2 is deployed in MCPTT service provider SP2.

\- The hostname of the GMS-2 is xcap.MCPTTSP2.example.com.

\- The GMS-2 provides XCAP server at XCAP Root URI
http://xcap.MCPTTSP2.example.com/path2

\- MCPTT Group IDs of MCPTT groups defined by group documents stored in
GMS-2 have format sip:group*\<sometext\>*\@MCPTTSP2.example.com

A.2.2 GMC creating a MCPTT group on behalf of MCPTT user served by the GMC
--------------------------------------------------------------------------

Figure A.2.2-1 shows a flow for a group management client GMC-1 creating
an MCPTT group document in a group management server GMS-1.

Document name of the MCPTT group document is groupdocument1.xml.

The MCPTT group is a pre-arranged MCPTT group, which is disabled for
on-network procedures, with maximum of 10 participants, with
on-network-group-priority of 5, and with display name \"My conference
display name\".

The MCPTT group members are the MCPTT user 1, a MCPTT user 2 and a MCPTT
user 3. The MCPTT user 1 and the MCPTT user 2 are MCPTT group members
required in on-network procedures.

The MCPTT user identity of the MCPTT user 2 is
sip:user2\@MCPTTSP1.example.com, and the MCPTT user identity of the
MCPTT user 3 is sip:user3\@MCPTTSP1.example.com. The MCPTT group
document indicates a display name for each member.

The user-priority of the MCPTT user 1 is 1, the user-priority of the
MCPTT user 2 is 2, and the user-priority of the MCPTT user 3 is 3.

The XUI of the MCPTT user 1 is the same as the MCPTT user identity of
the MCPTT user 1.

The members of the MCPTT group are allowed to initiate the MCPTT group
session, are allowed to join the MCPTT group session, are allowed to
request an MCPTT-emergency call on the MCPTT group, are allowed to
request an imminent peril call on the MCPTT group and are allowed to
request an MCPTT-emergency alert on the MCPTT group.

The GMC-1 proposes that the MCPTT group identity of the MCPTT group is
sip:GMCproposedMCPTTGroupID\@MCPTTSP1.example.com, but the GMS-1 decides
that the MCPTT group identity of the MCPTT group is
sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com.

Figure A.2.2-1: GMC-1 creating a MCPTT group document in GMS-1 on behalf
of user served by the GMC-1

The details of the flows are as follows:

1\) GMC-1 sends an HTTP PUT request shown in table A.2.2-1 to the GMS-1.

Table A.2.2-1: first HTTP PUT request

+----------------------------------------------------------------------+
| PUT                                                                  |
| http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.g      |
| roups/users/sip:department1\@MCPTTSP1.example.com/groupdocument1.xml |
| HTTP/1.1                                                             |
|                                                                      |
| Host: xcap.MCPTTSP1.example.com                                      |
|                                                                      |
| Content-Type: application/vnd.oma.poc.groups+xml; charset=\"utf-8\"  |
|                                                                      |
| \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>                         |
|                                                                      |
| \<group                                                              |
|                                                                      |
| xmlns=\"urn:oma:xml:poc:list-service\"                               |
|                                                                      |
| xmlns:rl=\"urn:ietf:params:xml:ns:resource-lists\"                   |
|                                                                      |
| xmlns:cp=\"urn:ietf:params:xml:ns:common-policy\"                    |
|                                                                      |
| xmlns:ocp=\"urn:oma:xml:xdm:common-policy\"                          |
|                                                                      |
| xmlns:oxe=\"urn:oma:xml:xdm:extensions\"                             |
|                                                                      |
| xmlns:mcpttgi=\"urn:3gpp:ns:mcpttGroupInfo:1.0\"                     |
|                                                                      |
| \>                                                                   |
|                                                                      |
| \<list-service                                                       |
| uri=\"sip:GMCproposedMCPTTGroupID\@MCPTTSP1.example.com\"\>          |
|                                                                      |
| \<display-name xml:lang=\"en-us\"\>My conference display             |
| name\</display-name\>                                                |
|                                                                      |
| \<list\>                                                             |
|                                                                      |
| \<entry uri=\"sip:user1\@MCPTTSP1.example.com\"\>                    |
|                                                                      |
| \<rl:display-name\>User 1\</rl:display-name\>                        |
|                                                                      |
| \<mcpttgi:on-network-required/\>                                     |
|                                                                      |
| \<mcpttgi:user-priority\>1\</mcpttgi:user-priority\>                 |
|                                                                      |
| \</entry\>                                                           |
|                                                                      |
| \<entry uri=\"sip:user2\@MCPTTSP1.example.com\"\>                    |
|                                                                      |
| \<rl:display-name\>User 2\</rl:display-name\>                        |
|                                                                      |
| \<mcpttgi:on-network-required/\>                                     |
|                                                                      |
| \<mcpttgi:user-priority\>2\</mcpttgi:user-priority\>                 |
|                                                                      |
| \</entry\>                                                           |
|                                                                      |
| \<entry uri=\"sip:user3\@MCPTTSP1.example.com\"\>                    |
|                                                                      |
| \<rl:display-name\>User 3\</rl:display-name\>                        |
|                                                                      |
| \<mcpttgi:user-priority\>3\</mcpttgi:user-priority\>                 |
|                                                                      |
| \</entry\>                                                           |
|                                                                      |
| \</list\>                                                            |
|                                                                      |
| \<mcpttgi:o                                                          |
| n-network-invite-members\>true\</mcpttgi:on-network-invite-members\> |
|                                                                      |
| \<mcpttgi:on-network-ma                                              |
| x-participant-count\>10\</mcpttgi:on-network-max-participant-count\> |
|                                                                      |
| \<cp:ruleset\>                                                       |
|                                                                      |
| \<cp:rule id=\"a7c\"\>                                               |
|                                                                      |
| \<cp:conditions\>                                                    |
|                                                                      |
| \<is-list-member/\>                                                  |
|                                                                      |
| \</cp:conditions\>                                                   |
|                                                                      |
| \<cp:actions\>                                                       |
|                                                                      |
| \<allow-initiate-conference\>true\</allow-initiate-conference\>      |
|                                                                      |
| \<join-handling\>true\</join-handling\>                              |
|                                                                      |
| \<mcpttgi:all                                                        |
| ow-MCPTT-emergency-call\>true\</mcpttgi:allow-MCPTT-emergency-call\> |
|                                                                      |
| \<mcpttgi:a                                                          |
| llow-imminent-peril-call\>true\</mcpttgi:allow-imminent-peril-call\> |
|                                                                      |
| \<mcpttgi:allow                                                      |
| -MCPTT-emergency-alert\>true\</mcpttgi:allow-MCPTT-emergency-alert\> |
|                                                                      |
| \</cp:actions\>                                                      |
|                                                                      |
| \</cp:rule\>                                                         |
|                                                                      |
| \</cp:ruleset\>                                                      |
|                                                                      |
| \<oxe:supported-services\>                                           |
|                                                                      |
| \<oxe:service enabler=\"urn:urn-7:3gpp-service.ims.icsi.mcptt\"\>    |
|                                                                      |
| \<oxe:group-media\>                                                  |
|                                                                      |
| \<mcpttgi:mcptt-speech/\>                                            |
|                                                                      |
| \</oxe:group-media\>                                                 |
|                                                                      |
| \</oxe:service\>                                                     |
|                                                                      |
| \</oxe:supported-services\>                                          |
|                                                                      |
| \<mcpttgi:on-network-disabled/\>                                     |
|                                                                      |
| \<mcpttg                                                             |
| i:on-network-group-priority\>5\</mcpttgi:on-network-group-priority\> |
|                                                                      |
| \</list-service\>                                                    |
|                                                                      |
| \</group\>                                                           |
+----------------------------------------------------------------------+

2\) GMS-1 rejects the HTTP PUT request with HTTP 409 (Conflict) response
shown in table A.2.2-2.

Table A.2.2-2: HTTP 409 (Conflict) response to HTTP PUT request

+----------------------------------------------------------------------+
| HTTP/1.1 409 Conflict                                                |
|                                                                      |
| Content-Type: application/xcap-error+xml; charset=\"utf-8\"          |
|                                                                      |
| \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>                         |
|                                                                      |
| \<xcap-error xmlns=\"urn:ietf:params:xml:ns:xcap-error\"\>           |
|                                                                      |
| \<uniqueness-failure phrase=\"URI constraint violated\"\>            |
|                                                                      |
| \<exists field=\"group/list-service/\@uri\"\>                        |
|                                                                      |
| \<alt-value\                                                         |
| >sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com\</alt-value\> |
|                                                                      |
| \</exists\>                                                          |
|                                                                      |
| \</uniqueness-failure\>                                              |
|                                                                      |
| \</xcap-error\>                                                      |
+----------------------------------------------------------------------+

3\) GMC-1 sends an HTTP PUT request to the GMS-1. The HTTP PUT request
is the same as shown in table A.2.2-1 with exception of the value of the
\"uri\" attribute of the \<list-service\> element of the \<group\> root
element. The \"uri\" attribute contains
sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com.

4\) GMS-1 creates the MCPTT group document so that it is accessible
using the XCAP URIs

http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.groups/users/sip:department1\@MCPTTSP1.example.com/groupdocument1.xml

and

http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.groups/global/byGroupID/sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com.

GMS-1 also creates the MCPTT GKTP document at
http://xcap.MCPTTSP1.example.com/path1/org.3gpp.MCPTT-GKTP/global/byGroupID/sip:groupGMSdecidedMCPTTGroupID\@MCPTTSP1.example.com

GMS-1 accepts the HTTP PUT request with HTTP 201 (Created) response.

A.2.3 GMC performing a temporary MCPTT group formation of two MCPTT groups to be combined
-----------------------------------------------------------------------------------------

Figure A.2.3-1 shows a flow for a group management client GMC-1
performing formation of a temporary MCPTT group by combination of two
MCPTT groups to be combined.

The temporary MCPTT group is identified by the temporary MCPTT Group ID
sip:groupT\@MCPTTSP1.example.com and is being created in GMS-1 under the
groupdocumentT.xml document name.

The temporary MCPTT group is a pre-arranged MCPTT group.

The GMK is required to confidentiality and integrity protect media for
calls on the temporary MCPTT group. Both confidentiality protection and
integrity protection of floor control signalling are required for calls
on the temporary MCPTT group. Multicast bearers are used for floor
controlling signalling for the temporary MCPTT group.

One MCPTT group to be combined is identified by the MCPTT Group ID
sip:groupA\@MCPTTSP1.example.com and is owned by GMS-1.

The other MCPTT group to be combined is identified by the MCPTT Group ID
sip:groupB\@MCPTTSP2.example.com and is owned by GMS-2.

The GMS-1 is configured with the group ID routing database stating:

\- the XCAP Root URI of sip:groupB\@MCPTTSP2.example.com is
http://xcap.MCPTTSP2.example.com/path2; and

\- the public service identity for accessing documents of the MCPTT
provider of sip:groupB\@MCPTTSP2.example.com is
sip:gms.MCPTTSP2.example.com.

The GMS-2 is configured with the group ID routing database stating:

\- the XCAP Root URI of sip:groupT\@MCPTTSP1.example.com is
http://xcap.MCPTTSP1.example.com/path1; and

\- the public service identity for accessing documents of the MCPTT
provider of sip:groupT\@MCPTTSP1.example.com is
sip:gms.MCPTTSP1.example.com.

Figure A.2.3-1: GMC performing a temporary MCPTT group formation of two
MCPTT groups to be combined

The details of the flows are as follows:

1\) GMC-1 sends an HTTP POST request with the GMOP document requesting
group regroup creation shown in table A.2.3-1 to the GMS-1.

Table A.2.3-1: 1. HTTP POST (GMOP document requesting group regroup
creation)

+----------------------------------------------------------------------+
| POST                                                                 |
| http://xcap.MCPTTSP1.example.com/path1/org.openmobilea               |
| lliance.groups/users/sip:department1\@example.com/groupdocumentT.xml |
| HTTP/1.1                                                             |
|                                                                      |
| Host: xcap.MCPTTSP1.example.com                                      |
|                                                                      |
| Content-Type: application/vnd.3gpp.GMOP+xml; charset=\"utf-8\"       |
|                                                                      |
| \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>                         |
|                                                                      |
| \<gmop:document                                                      |
|                                                                      |
| xmlns=\"urn:oma:xml:poc:list-service\"                               |
|                                                                      |
| xmlns:rl=\"urn:ietf:params:xml:ns:resource-lists\"                   |
|                                                                      |
| xmlns:cp=\"urn:ietf:params:xml:ns:common-policy\"                    |
|                                                                      |
| xmlns:ocp=\"urn:oma:xml:xdm:common-policy\"                          |
|                                                                      |
| xmlns:oxe=\"urn:oma:xml:xdm:extensions\"                             |
|                                                                      |
| xmlns:mcpttgi=\"urn:3gpp:ns:mcpttGroupInfo:1.0\"                     |
|                                                                      |
| xmlns:gmop=\"urn:3gpp:ns:mcpttGMOP:1.0\"                             |
|                                                                      |
| \>                                                                   |
|                                                                      |
| \<gmop:request\>                                                     |
|                                                                      |
| \<gmop:group-regroup-creation\>                                      |
|                                                                      |
| \<group\>                                                            |
|                                                                      |
| \<list-service uri=\"sip:groupT\@MCPTTSP1.example.com\"\>            |
|                                                                      |
| \<mcpttgi:o                                                          |
| n-network-invite-members\>true\</mcpttgi:on-network-invite-members\> |
|                                                                      |
| \<oxe:supported-services\>                                           |
|                                                                      |
| \<oxe:service enabler=\"urn:urn-7:3gpp-service.ims.icsi.mcptt\"\>    |
|                                                                      |
| \<oxe:group-media\>                                                  |
|                                                                      |
| \<mcpttgi:mcptt-speech/\>                                            |
|                                                                      |
| \</oxe:group-media\>                                                 |
|                                                                      |
| \</oxe:service\>                                                     |
|                                                                      |
| \</oxe:supported-services\>                                          |
|                                                                      |
| \<mcpttgi:on-network-temporary\>                                     |
|                                                                      |
| \<mcpttgi:constituent-MCPTT-group-IDs\>                              |
|                                                                      |
| \<mcpttgi:constituent-MCPTT-group-ID\>sip                            |
| :groupA\@MCPTTSP1.example.com\</mcpttgi:constituent-MCPTT-group-ID\> |
|                                                                      |
| \<mcpttgi:constituent-MCPTT-group-ID\>sip                            |
| :groupB\@MCPTTSP2.example.com\</mcpttgi:constituent-MCPTT-group-ID\> |
|                                                                      |
| \</mcpttgi:constituent-MCPTT-group-IDs\>                             |
|                                                                      |
| \</mcpttgi:on-network-temporary\>                                    |
|                                                                      |
| \</list-service\>                                                    |
|                                                                      |
| \</group\>                                                           |
|                                                                      |
| \</gmop:group-regroup-creation\>                                     |
|                                                                      |
| \</gmop:request\>                                                    |
|                                                                      |
| \</gmop:document\>                                                   |
+----------------------------------------------------------------------+

2\) GMS-1 authorizes the request as specified in subclause 6.3.14.3.1
and sends HTTP POST request with the GMOP document requesting group
regroup check.

3\) GMS-1 sends HTTP POST request with the GMOP document requesting
group regroup check to GMS-2 as shown in table A.2.3-3.

Table A.2.3-3: 3. HTTP POST (GMOP document requesting group regroup
check)

+----------------------------------------------------------------------+
| POST                                                                 |
| http://xcap.MCPT                                                     |
| TSP2.example.com/path2/org.openmobilealliance.groups/global/byGroupI |
| D/sip:groupB\@MCPTTSP2.example.com/\~\~/group/list-service/mcpttgi:o |
| n-network-regrouped%5b\@temporary-MCPTT-group-ID=%22sip:groupT\@MCPT |
| TSP1.example.com%22%5d?xmlns(mcpttgi=urn:3gpp:ns:mcpttGroupInfo:1.0) |
| HTTP/1.1                                                             |
|                                                                      |
| Host: xcap.MCPTTSP2.example.com                                      |
|                                                                      |
| X-3GPP-Asserted-Identity: sip:gms.MCPTTSP1.example.com               |
|                                                                      |
| Content-Type: application/vnd.3gpp.GMOP+xml; charset=\"utf-8\"       |
|                                                                      |
| \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>                         |
|                                                                      |
| \<gmop:document                                                      |
|                                                                      |
| xmlns=\"urn:oma:xml:poc:list-service\"                               |
|                                                                      |
| xmlns:rl=\"urn:ietf:params:xml:ns:resource-lists\"                   |
|                                                                      |
| xmlns:cp=\"urn:ietf:params:xml:ns:common-policy\"                    |
|                                                                      |
| xmlns:ocp=\"urn:oma:xml:xdm:common-policy\"                          |
|                                                                      |
| xmlns:oxe=\"urn:oma:xml:xdm:extensions\"                             |
|                                                                      |
| xmlns:mcpttgi=\"urn:3gpp:ns:mcpttGroupInfo:1.0\"                     |
|                                                                      |
| xmlns:gmop=\"urn:3gpp:ns:mcpttGMOP:1.0\"                             |
|                                                                      |
| \>                                                                   |
|                                                                      |
| \<gmop:request\>                                                     |
|                                                                      |
| \<gmop:group-regroup-check\>                                         |
|                                                                      |
| \<mcpttgi:on-network-regrouped                                       |
|                                                                      |
| temporary-MCPTT-group-ID=\"sip:groupT\@MCPTTSP1.example.com\"        |
|                                                                      |
| temporary-MCPTT-group-requestor=\"sip:user1\@MCPTTSP1.example.com\"  |
|                                                                      |
| \>                                                                   |
|                                                                      |
| \<mcpttgi:constituent-MCPTT-group-IDs\>                              |
|                                                                      |
| \<mcpttgi:constituent-MCPTT-group-ID\>sip                            |
| :groupA\@MCPTTSP1.example.com\</mcpttgi:constituent-MCPTT-group-ID\> |
|                                                                      |
| \<mcpttgi:constituent-MCPTT-group-ID\>sip                            |
| :groupB\@MCPTTSP2.example.com\</mcpttgi:constituent-MCPTT-group-ID\> |
|                                                                      |
| \</mcpttgi:constituent-MCPTT-group-IDs\>                             |
|                                                                      |
| \</mcpttgi:on-network-regrouped\>                                    |
|                                                                      |
| \<protect-media\>true\</protect-media\>                              |
|                                                                      |
| \<protect                                                            |
| -floor-control-signalling\>true\</protect-floor-control-signalling\> |
|                                                                      |
| \<require-multicast-floor-con                                        |
| trol-signalling\>true\</require-multicast-floor-control-signalling\> |
|                                                                      |
| \</gmop:group-regroup-check\>                                        |
|                                                                      |
| \</gmop:request\>                                                    |
|                                                                      |
| \</gmop:document\>                                                   |
+----------------------------------------------------------------------+

4\) GMS-1 authorizes the request as specified in subclause 6.3.14.3.2
and responds with a HTTP 200 (OK) response to the HTTP POST request.

5\) GMS-2 authorizes the request as specified in subclause 6.3.14.3.2
and responds with a HTTP 200 (OK) response to the HTTP POST request.

6\) GMS-1 sends HTTP POST request with the GMOP document requesting
group regroup notification.

7\) GMS-1 sends HTTP POST request with the GMOP document requesting
group regroup notification to GMS-2 as shown in table A.2.3-7.

Table A.2.3-7: 7. HTTP POST (GMOP document requesting group regroup
notification)

+----------------------------------------------------------------------+
| POST                                                                 |
| http://xcap.MCPT                                                     |
| TSP2.example.com/path2/org.openmobilealliance.groups/global/byGroupI |
| D/sip:groupB\@MCPTTSP2.example.com/\~\~/group/list-service/mcpttgi:o |
| n-network-regrouped%5b\@temporary-MCPTT-group-ID=%22sip:groupT\@MCPT |
| TSP1.example.com%22%5d?xmlns(mcpttgi=urn:3gpp:ns:mcpttGroupInfo:1.0) |
| HTTP/1.1                                                             |
|                                                                      |
| Host: xcap.MCPTTSP2.example.com                                      |
|                                                                      |
| X-3GPP-Asserted-Identity: sip:gms.MCPTTSP1.example.com               |
|                                                                      |
| Content-Type: application/vnd.3gpp.GMOP+xml; charset=\"utf-8\"       |
|                                                                      |
| \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>                         |
|                                                                      |
| \<gmop:document                                                      |
|                                                                      |
| xmlns=\"urn:oma:xml:poc:list-service\"                               |
|                                                                      |
| xmlns:rl=\"urn:ietf:params:xml:ns:resource-lists\"                   |
|                                                                      |
| xmlns:cp=\"urn:ietf:params:xml:ns:common-policy\"                    |
|                                                                      |
| xmlns:ocp=\"urn:oma:xml:xdm:common-policy\"                          |
|                                                                      |
| xmlns:oxe=\"urn:oma:xml:xdm:extensions\"                             |
|                                                                      |
| xmlns:mcpttgi=\"urn:3gpp:ns:mcpttGroupInfo:1.0\"                     |
|                                                                      |
| xmlns:gmop=\"urn:3gpp:ns:mcpttGMOP:1.0\"                             |
|                                                                      |
| \>                                                                   |
|                                                                      |
| \<gmop:request\>                                                     |
|                                                                      |
| \<gmop:group-regroup-notification\>                                  |
|                                                                      |
| \<mcpttgi:on-network-regrouped                                       |
|                                                                      |
| temporary-MCPTT-group-ID=\"sip:groupT\@MCPTTSP1.example.com\"        |
|                                                                      |
| temporary-MCPTT-group-requestor=\"sip:user1\@MCPTTSP1.example.com\"  |
|                                                                      |
| \>                                                                   |
|                                                                      |
| \<mcpttgi:constituent-MCPTT-group-IDs\>                              |
|                                                                      |
| \<mcpttgi:constituent-MCPTT-group-ID\>sip                            |
| :groupA\@MCPTTSP1.example.com\</mcpttgi:constituent-MCPTT-group-ID\> |
|                                                                      |
| \<mcpttgi:constituent-MCPTT-group-ID\>sip                            |
| :groupB\@MCPTTSP2.example.com\</mcpttgi:constituent-MCPTT-group-ID\> |
|                                                                      |
| \</mcpttgi:constituent-MCPTT-group-IDs\>                             |
|                                                                      |
| \<protect-media\>true\</protect-media\>                              |
|                                                                      |
| \<protect                                                            |
| -floor-control-signalling\>true\</protect-floor-control-signalling\> |
|                                                                      |
| \<require-multicast-floor-con                                        |
| trol-signalling\>true\</require-multicast-floor-control-signalling\> |
|                                                                      |
| \</mcpttgi:on-network-regrouped\>                                    |
|                                                                      |
| \</gmop:group-regroup-notification\>                                 |
|                                                                      |
| \</gmop:request\>                                                    |
|                                                                      |
| \</gmop:document\>                                                   |
+----------------------------------------------------------------------+

8\) GMS-1 authorizes the request as specified in subclause 6.3.14.3.2,
place the \<on-network-regrouped\> element of the GMOP document
requesting group regroup notification of the HTTP POST request at the
location identified by the Request-URI of the received HTTP POST request
and responds with a HTTP 200 (OK) response to the HTTP POST request.

9\) GMS-2 authorizes the request as specified in subclause 6.3.14.3.2,
place the \<on-network-regrouped\> element of the GMOP document
requesting group regroup notification of the HTTP POST request at the
location identified by the Request-URI of the received HTTP POST request
and responds with a HTTP 200 (OK) response to the HTTP POST request.

10\) GMS-1 creates the temporary MCPTT group document so that it is
accessible using the XCAP URIs

http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.groups/users/sip:department1\@MCPTTSP1.example.com/groupdocumentT.xml

and

http://xcap.MCPTTSP1.example.com/path1/org.openmobilealliance.groups/global/byGroupID/sip:groupT\@MCPTTSP1.example.com.

GMS-1 also creates the MCPTT GKTP document at
http://xcap.MCPTTSP1.example.com/path1/org.3gpp.MCPTT-GKTP/global/byGroupID/sip:groupT\@MCPTTSP1.example.com

GMS-1 accepts the HTTP POST request with HTTP 200 (OK) response. The
HTTP 200 (OK) response includes the GMOP document with group regroup
creation response.

10\) GMS-1 subscribes to changes of the \<GKTPs\> element of MCPTT-GKTP
document of the temporary MCPTT group, is notified about the current
state and updates the MCPTT-GKTP document for the MCPTT group with
sip:groupA\@MCPTTSP1.example.com MCPTT Group ID.

11\) GMS-2 subscribes to changes of the \<GKTPs\> element of MCPTT-GKTP
document of the temporary MCPTT group as shown in table A.2.3-11.

Table A.2.3-11: 11. SIP SUBSCRIBE request

+----------------------------------------------------------------------+
| SUBSCRIBE sip:gms.MCPTTSP1.example.com SIP/2.0                       |
|                                                                      |
| \...                                                                 |
|                                                                      |
| Accept: application/xcap-diff+xml                                    |
|                                                                      |
| Event: xcap-diff; diff-processing=no-patching                        |
|                                                                      |
| Content-Type: multipart/mixed;boundary=\"xyz\"                       |
|                                                                      |
| P-Asserted-Identity: sip:gms.MCPTTSP2.example.com                    |
|                                                                      |
| Content-Length: \...                                                 |
|                                                                      |
| \--xyz                                                               |
|                                                                      |
| Content-Type: application/resource-lists+xml                         |
|                                                                      |
| \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>                         |
|                                                                      |
| \<resource-lists xmlns=\"urn:ietf:params:xml:ns:resource-lists\"\>   |
|                                                                      |
| \<list\>                                                             |
|                                                                      |
| \<entry                                                              |
| uri=\"org.3gpp.MCPT                                                  |
| T-GKTP/global/byGroupID/sip:groupT\@MCPTTSP1.example.com/\~\~/group/ |
| list-service/mgktp:GKTPs?xmlns(mgktp=urn:3gpp:ns:mcpttGKTP:1.0)\"/\> |
|                                                                      |
| \</list\>                                                            |
|                                                                      |
| \</resource-lists\>                                                  |
|                                                                      |
| \--xyz                                                               |
|                                                                      |
| Content-Type: application/vnd.3gpp.mcptt-info+xml                    |
|                                                                      |
| \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>                         |
|                                                                      |
| \<mcptt-info\>                                                       |
|                                                                      |
| \<mcptt-Params\>                                                     |
|                                                                      |
| \<mcptt-calling-g                                                    |
| roup-id\>sip:groupB\@MCPTTSP2.example.com\</mcptt-calling-group-id\> |
|                                                                      |
| \</mcptt-Params\>                                                    |
|                                                                      |
| \</mcptt-info\>                                                      |
|                                                                      |
| \--xyz\--                                                            |
+----------------------------------------------------------------------+

12\) GMS-1 authorizes the SIP SUBSCRIBE request and accepts it with SIP
200 (OK) response.

13\) GMS-1 sends a SIP NOTIFY request with the content of the \<GKTPs\>
element of MCPTT-GKTP document of the temporary MCPTT group as shown in
table A.2.3-13.

Table A.2.3-11: 13. SIP NOTIFY request

+----------------------------------------------------------------------+
| NOTIFY XXX SIP/2.0                                                   |
|                                                                      |
| \...                                                                 |
|                                                                      |
| Event: xcap-diff                                                     |
|                                                                      |
| Content-Type: application/xcap-diff+xml                              |
|                                                                      |
| Content-Length: \...                                                 |
|                                                                      |
| \<?xml version=\"1.0\" encoding=\"UTF-8\"?\>                         |
|                                                                      |
| \<d:xcap-diff xmlns:d=\"urn:ietf:params:xml:ns:xcap-diff\"           |
| xcap-root=\"http://xcap.MCPTTSP1.example.com/path1\"\>               |
|                                                                      |
| \<d:element                                                          |
| sel=\"org.3gpp.MCP                                                   |
| TT-GKTP/global/byGroupID/sip:groupT\@MCPTTSP1.example.com/\~\~/group |
| /list-service/mgktp:GKTPs?xmlns(mgktp=urn:3gpp:ns:mcpttGKTP:1.0)\"\> |
|                                                                      |
| \<mgktp:GKTPs\>                                                      |
|                                                                      |
| \<mgktp:GMK-GKTPs\>                                                  |
|                                                                      |
| \<mgktp:GKTP id=\"1\"\>AAA\</mgktp:GKTP\>                            |
|                                                                      |
| \</mgktp:GMK-GKTPs\>                                                 |
|                                                                      |
| \<d:element\>                                                        |
|                                                                      |
| \</d:xcap-diff\>                                                     |
+----------------------------------------------------------------------+

14\) GMS-2 accepts the SIP NOTIFY request with SIP 200 (OK) response and
updates the MCPTT-GKTP document for the MCPTT group with
sip:groupB\@MCPTTSP2.example.com MCPTT Group ID.

######## Annex B (informative): IANA registration templates

B.1 IANA registration templates for MIME types
==============================================

B.1.1 application/vnd.3gpp.GMOP+xml IANA registration template
--------------------------------------------------------------

Your Name:

\<MCC name\>

Your Email Address:

\<MCC email address\>

Media Type Name:

application

Subtype name:

vnd.3gpp.GMOP+xml

Required parameters:

None

Optional parameters:

\"charset\" the parameter has identical semantics to the charset
parameter of the \"application/xml\" media type as specified in
section 9.1 of IETF RFC 7303.

Encoding considerations:

binary.

Security considerations:

Same as general security considerations for application/xml media type
as specified in section 10 of IETF RFC 7303.

The information transported in this media type does not include active
or executable content.

Mechanisms for privacy and integrity protection of protocol parameters
are expected to be provided by the environment the media type operates
in.

When a MIME body of the application/vnd.3gpp.GMOP+xml MIME type is
transported over HTTP protocol over unsecured IP network, the integrity
protection needs to be provided. Particularly, between the user agent
and the entry point of the provider\'s network, the integrity protection
is provided by TLS as described in 3GPP TS 24.482
(http://www.3gpp.org/ftp//Specs/archive/24\_series/24.482/)
subclause A.2.1.2.

When a MIME body of the application/vnd.3gpp.GMOP+xml MIME type is
transported over SIP protocol and when required so by provider providing
the \"mission critical\" service, the integrity protection of the MIME
body needs to be provided. Particularly, the integrity protection of the
MIME body is provided as described in 3GPP TS 24.379
(http://www.3gpp.org/ftp//Specs/archive/24\_series/24.379/)
subclause 6.6.1.3.

This media type does not include provisions for directives that
institute actions on a recipient\'s files or other resources.

This media type does not include provisions for directives that
institute actions that, while not directly harmful to the recipient, may
result in disclosure of information that either facilitates a subsequent
attack or else violates a recipient\'s privacy in any way.

This media type does not employ compression.

Interoperability considerations:

Same as general interoperability considerations for application/xml
media type as specified in section 9.1 of IETF RFC 7303. Any unknown XML
elements and any unknown XML attributes are to be ignored by recipient
of the MIME body.

Published specification:

3GPP TS 24.481 \"Mission Critical Services (MCS) group management;
Protocol specification\" version 13.4.0, available via
http://www.3gpp.org/specs/numbering.htm.

Applications which use this media type:

Applications supporting the Mission Critical Push To Talk (MCPTT) group
management as described in the published specification.

Fragment identifier considerations:

The handling in section 5 of IETF RFC 7303 applies.

Restrictions on usage:

None

Provisional registration? (standards tree only):

N/A

Additional information:

1\. Deprecated alias names for this type: none

2\. Magic number(s): none

3\. File extension(s): none

4\. Macintosh File Type Code(s): none

5\. Object Identifier(s) or OID(s): none

Intended usage:

Common

Person to contact for further information:

\- Name: \<MCC name\>

\- Email: \<MCC email address\>

\- Author/Change controller:

i\) Author: 3GPP CT1 Working Group/3GPP\_TSG\_CT\_WG1\@LIST.ETSI.ORG

ii\) Change controller: \<MCC name\>/\<MCC email address\>

######## Annex C (informative): Change history

  -------------------- ------------- ------------- ------------- --------- --------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ----------------- ---------
  **Change history**                                                                                                                                                                                                                                                                                                                                                                               

  **Date**             **TSG \#**    **TSG doc**   **WG Doc.**   **CR**    **Rev**   **Subject/Comment**                                                                                                                                                                                                                                                                         **Old**           **New**

  2015-07                                                                            Initial proposal to CT1\#92-bis                                                                                                                                                                                                                                                             \-                0.0.0

  2015-07                                                                            Contains agreed P-CRs from CT1\#92-bis: C1ah-150043, C1ah-150004, C1ah-150044                                                                                                                                                                                                               0.0.0             0.1.0

  2015-08                                                                            Contains agreed P-CRs from CT1\#93: C1-153181, C1-153182 and changes by rapporteur.                                                                                                                                                                                                         0.1.0             0.2.0

  2015-08                                                                            minor fixes from the rapporteur                                                                                                                                                                                                                                                             0.2.0             0.2.1

  2015-09                                                                            specification numbers decided by CT\#69 are indicated by the rapporteur                                                                                                                                                                                                                     0.2.1             0.2.2

  2015-10                                                                            Contains agreed P-CRs from CT1\#94: C1-153717, C1-153745, C1-153753.                                                                                                                                                                                                                        0.2.2             0.3.0

  2015-11                                                                            Contains agreed P-CRs from CT1\#95: C1-154409, C1-154593, C1-154594. Editorial fixes done and abbreviations added by the rapporteur.                                                                                                                                                        0.3.0             0.4.0

  2015-12              CT-70         CP-150735                                       Version 1.0.0 created for presentation for information                                                                                                                                                                                                                                      0.4.0             1.0.0

  2016-01                                                                            Contains agreed P-CRs from CT1\#95-BIS: C1-160018, C1-160019, C1-160020, C1-160021, C1-160023, C1-160026, C1-160030, C1-160031, C1-160032, C1-160033, C1-160367, C1-160369, C1-160467, C1-160468, C1-160469, C1-160470. Subclause renumbering and editorial fixes done by the rapporteur.   1.0.0             1.1.0

  2016-02                                                                            Contains agreed P-CRs from CT1-on MCPTT and CT1\#96: C1ah-160040, C1ah-160086, C1ah-160093, C1ah-160104, C1-161328, C1-161373, C1-161382, C1-161397, C1-161398, C1-161399. Subclause renumbering and editorial fixes done by the rapporteur.                                                1.1.0             1.2.0

  2016-03              CT-71         CP-160061                                       Version 2.0.0 created for presentation for approval                                                                                                                                                                                                                                         1.2.0             2.0.0

  2016-03              CT-71                                                         Version 13.0.0 created after approval                                                                                                                                                                                                                                                       2.0.0             13.0.0

  2016-03                                                                            Editorial fixes - removal of superfluous spaces and addition of \"(GC)\", \"(GMC)\" and \"(GMS)\" when missing.                                                                                                                                                                             13.0.0            13.0.1

  2016-06              CT-72         CP-160322     C1-161736     0007      \-        Correction for semantic and values of group-priority and user-priority                                                                                                                                                                                                                      13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-162061     0001      1         Corrections for internal inconsistencies in the document                                                                                                                                                                                                                                    13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-162375     0010      \-        Correction for \"the present document\"                                                                                                                                                                                                                                                     13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-162399     0002      2         Corrections for managing group documents based on group ID                                                                                                                                                                                                                                  13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-162590     0014      \-        Add validations for \<on-network-maximum-duration\>                                                                                                                                                                                                                                         13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-162841     0004      3         Correction for missing MCPTT group properties                                                                                                                                                                                                                                               13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-162843     0012      1         Corrections for group document excluding group members retrieval procedure                                                                                                                                                                                                                  13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-162845     0015      1         Corrections for security                                                                                                                                                                                                                                                                    13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-162846     0009      2         Adding security configuration to the group document                                                                                                                                                                                                                                         13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-163047     0003      4         Corrections in the temporary MCPTT group formation procedure and the temporary MCPTT group tear down procedure                                                                                                                                                                              13.0.1            13.1.0

  2016-06              CT-72         CP-160322     C1-163049     0013      2         Corrections for group management operations which cannot be expressed by HTTP GET, HTTP PUT or HTTP DELETE methods                                                                                                                                                                          13.0.1            13.1.0

  **Change history**                                                                                                                                                                                                                                                                                                                                                                               

  **Date**             **Meeting**   **TDoc**      **CR**        **Rev**   **Cat**   **Subject/Comment**                                                                                                                                                                                                                                                                         **New version**   

  2016-09              CT\#73        CP-160502     0011          2         F         Corrections in subscription to MCPTT group for not-routable MCPTT identities and for MCPTT signalling security                                                                                                                                                                              13.2.0            

  2016-09              CT\#73        CP-160502     0016          2         F         Coding for group communication security                                                                                                                                                                                                                                                     13.2.0            

  2016-09              CT\#73        CP-160502     0017          1         F         Corrections in security level of temporary MCPTT group                                                                                                                                                                                                                                      13.2.0            

  2016-09              CT\#73        CP-160502     0018          1         F         Corrections in temporary MCPTT group formation                                                                                                                                                                                                                                              13.2.0            

  2016-09              CT\#73        CP-160502     0019                    F         Corrections in application/g.3gpp.GMOP+xml IANA registration template                                                                                                                                                                                                                       13.2.0            

  2016-09              CT\#73        CP-160502     0020                    F         Corrections in the flows                                                                                                                                                                                                                                                                    13.2.0            

  2016-09              CT\#73        CP-160502     0021                    F         Correction for re-grouping with MCPTT group to be combined owned by other MCPTT provider                                                                                                                                                                                                    13.2.0            

  2016-09              CT\#73        CP-160502     0022          1         F         Correction in group key transport payloads                                                                                                                                                                                                                                                  13.2.0            

  2016-09              CT\#73        CP-160502     0027                    F         Default document namespace correction                                                                                                                                                                                                                                                       24.381\           
                                                                                                                                                                                                                                                                                                                                                                                 13.2.0            

  2016-12              CT\#74                                                        Change of spec number from 24.381 to 24.481 with wider scope and changed title                                                                                                                                                                                                              24.481\           
                                                                                                                                                                                                                                                                                                                                                                                 13.2.1            

  2016-12              CT\#74        CP-160733     0028                    F         Correcting references                                                                                                                                                                                                                                                                       13.3.0            

  2016-12              CT\#74        CP-160733     0029                    F         Corrections in syntax and semantic of MCPTT groups                                                                                                                                                                                                                                          13.3.0            

  2016-12              CT\#74        CP-160733     0030          2         F         Corrections in authorization policy                                                                                                                                                                                                                                                         13.3.0            

  2016-12              CT\#74        CP-160733     0031          1         F         Reuse of OMA-TS-XDM\_Core                                                                                                                                                                                                                                                                   13.3.0            

  2016-12              CT\#74        CP-160733     0032          1         F         Change maximum allowed priority value based upon that allowed in service config                                                                                                                                                                                                             13.3.0            

  2016-12              CT\#74        CP-160733     0033                    F         Removal of user info ID from the group document                                                                                                                                                                                                                                             13.3.0            

  2016-12              CT\#74        CP-160733     0034          1         F         Correction of use of Group key transport                                                                                                                                                                                                                                                    13.3.0            

  2016-12              CT\#74        CP-160733     0036          1         F         Off-network configuration parameter for queue                                                                                                                                                                                                                                               13.3.0            

  2017-03              CT\#75        CP-170117     0001          2         F         Reference update for OMA-TS-XDM Group                                                                                                                                                                                                                                                       13.4.0            

  2017-03              CT\#75        CP-170117     0003                    F         Scope alignment with TS name                                                                                                                                                                                                                                                                13.4.0            

  2017-03              CT\#75        CP-170117     0004          1         F         Corrections to elements, identifiers, names, steps, and labels                                                                                                                                                                                                                              13.4.0            

  2017-03              CT\#75        CP-170117     0005                    F         Reference correction in IANA registration template for application/g.3gpp.GMOP+xml MIME type                                                                                                                                                                                                13.4.0            

  2017-03              CT\#75        CP-170205     0006                    F         Correcting incorrect name of application/g.3gpp.GMOP+xml MIME type                                                                                                                                                                                                                          13.4.0            

  2017-03              CT\#75        CP-170127     0002          2         F         Reference update for 24.382 and for 24.381                                                                                                                                                                                                                                                  14.0.0            

  2017-06              CT\#76        CP-171114     0007          2         B         Audio cut-in configuration change                                                                                                                                                                                                                                                           14.1.0            

  2017-06              CT\#76        CP-171114     0008          2         B         Restructure TS 24.481 for MCVideo and MCData                                                                                                                                                                                                                                                14.1.0            

  2017-06              CT\#76        CP-171113     0013                    A         Reference update for OMA-TS-XDM\_Group-V1\_1\_1                                                                                                                                                                                                                                             14.1.0            

  2017-06              CT\#76        CP-171114     0015          1         F         Introduction of KMS URI                                                                                                                                                                                                                                                                     14.1.0            

  2017-06              CT\#76                                                        Correct numbering of references                                                                                                                                                                                                                                                             14.1.1            

  2017-07                                                                            Addition of missing attachment                                                                                                                                                                                                                                                              14.1.2            

  2017-09              CT\#77        CP-172102     0016                    F         MCVideo ID and MCData ID of member of MCS group usable in multiple MCSs                                                                                                                                                                                                                     14.2.0            

  2017-09              CT\#77        CP-172096     0018                    A         IANA registration of application/vnd.3gpp.GMOP+xml MIME type                                                                                                                                                                                                                                14.2.0            

  2017-09              CT\#77        CP-172096     0020          1         A         Corrections to cross reference, coding, and labels                                                                                                                                                                                                                                          14.2.0            

  2017-09              CT\#77        CP-172096     0022                    A         application/vnd.3gpp.MCPTT-GKTP+xml MIME type                                                                                                                                                                                                                                               14.2.0            

  2017-09              CT\#77        CP-172102     0023          2         F         Updating configuration changes related to auto-send, auto-receive updates                                                                                                                                                                                                                   14.2.0            

  2017-09              CT\#77        CP-172104     0024          1         F         Proposal for subclause 7.2.8 on identifying MCVideo group document                                                                                                                                                                                                                          14.2.0            

  2017-12              CT\#78        CP-173063     0011          4         B         Signalling security alignment                                                                                                                                                                                                                                                               14.3.0            

  2017-12              CT\#78        CP-173066     0025          1         F         Off-network MCVideo configurations                                                                                                                                                                                                                                                          14.3.0            

  2017-12              CT\#78        CP-173075     0014          5         B         Response-Source header field handling completion                                                                                                                                                                                                                                            15.0.0            

  2018-03              CT\#79        CP-180072     0027          3         A         Resolution of editor\'s note                                                                                                                                                                                                                                                                15.1.0            

  2018-06              CT\#80        CP-181072     0028          1         B         Group Configuration Multi-Talker                                                                                                                                                                                                                                                            15.2.0            

  2018-06              CT\#80        CP-181064     0029          1         F         Modification in schema for mcdata-enhanced-status-operational-values element                                                                                                                                                                                                                15.2.0            

  2018-06              CT\#80        CP-181055     0031          1         A         user-reception-priority attribute configuration                                                                                                                                                                                                                                             15.2.0            

  2019-03              CT\#83        CP-190094     0035          3         F         Update of XML to include information string in the Enhanced Status message                                                                                                                                                                                                                  15.3.0            

  2019-03              CT\#83        CP-190097     0037          1         F         Correction for Group ID usage in group creation                                                                                                                                                                                                                                             15.3.0            

  2019-09              CT\#85        CP-192065     0038          1         F         Mission critical data and video in scope clause.                                                                                                                                                                                                                                            16.0.0            

  2019-12              CT\#86        CP-193110     0039          1         B         Update group document to support additional commencement modes for group calls                                                                                                                                                                                                              16.1.0            

  2020-06              CT\#88e       CP-201086     0043          1         A         Resolution of registered SAKKE parameters clash                                                                                                                                                                                                                                             16.2.0            

  2020-12              CT\#90e       CP-203183     0048                    A         Correct definition of enhancedStatusType in XML                                                                                                                                                                                                                                             16.3.0            

  2022-03              CT\#95e       CP-220220     0056          1         A         Group subscription service elements                                                                                                                                                                                                                                                         16.4.0            

  2022-04                                                                            Update of history table                                                                                                                                                                                                                                                                     16.4.1            
  -------------------- ------------- ------------- ------------- --------- --------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ----------------- ---------
