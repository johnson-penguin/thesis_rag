![](media/image1.wmf){width="7.0875in" height="0.9722222222222222in"}

Contents {#contents .TT}
========

[5](#foreword)

[6](#scope)

[6](#references)

[6](#normative-references)

[7](#informative-references)

[7](#definitions-and-abbreviations)

[7](#definitions)

[7](#abbreviations)

[7](#main-concepts)

[7](#localised-service-area-definition)

[7](#subscriber-information-for-localised-service-area)

[8](#localised-service-area-support-in-idle-mode)

[8](#cell-selection-and-reselection)

[8](#localised-service-area-indication)

[8](#exclusive-access)

[8](#lsa-only-access)

[8](#localised-service-area-support-in-active-mode)

[8](#localised-service-area-indication-1)

[8](#resource-handling)

[9](#localised-service-area-support-in-access-control)

[9](#emergency-call-setup)

[9](#mobile-originating-and-mobile-terminating-call-setup)

[9](#location-registration)

[9](#call-unrelated-services-short-message-transfer-ussd-supplementary-service-management)

[9](#routing-area-update)

[10](#general-architecture)

[10](#compatibility-issues)

[10](#handling-of-mobiles-in-exclusive-access-cells)

[11](#transmission)

[11](#information-storage)

[11](#information-managed-per-subscriber)

[11](#stored-in-the-hlr)

[11](#stored-in-the-vlr)

[12](#stored-in-the-sim)

[12](#stored-in-the-sgsn)

[12](#information-managed-per-lsa)

[12](#stored-in-the-msc)

[13](#stored-in-the-bss)

[13](#identities)

[13](#identities-for-lsa)

[13](#lsa-id)

[13](#lsa-name)

[13](#operation-and-maintenance-aspects)

[13](#function-and-information-flows)

[13](#lsa-management)

[14](#subscription-management)

[14](#update-of-lsa-data-in-sim)

[14](#functions-related-to-ms-in-idle-mode-for-support-of-lsa)

[14](#broadcast-information)

[14](#cell-selection-and-reselection-1)

[15](#location-updating)

[15](#routing-area-update-1)

[15](#transfer-of-information-from-hlr-to-vlr)

[15](#transfer-of-information-from-hlr-to-sgsn)

[15](#functions-related-to-active-mode-support-of-lsa)

[15](#ms-connection-establishment)

[15](#indication-of-current-lsa-to-the-msc)

[15](#indication-of-allowed-lsa-to-the-bss)

[15](#indication-of-allowed-lsa-to-the-bss-1)

[16](#handover)

[16](#indication-of-allowed-lsa-to-the-target-bss)

[16](#indication-of-current-lsa-to-the-msc-1)

[16](#indication-of-current-lsa-to-the-sgsn)

[16](#lsa-indication-procedures)

[16](#indication-for-mobile-stations-in-idle-mode)

[16](#indications-for-mobile-stations-in-active-mode)

[16](#overview-of-signalling)

[21](#charging)

[21](#general-principles)

[21](#toll-ticketing)

[22](#annex-a-informative-solsa-interworking-with-camel)

[22](#a.1-subscriber-information-for-localised-service-area)

[22](#a.2-network-architecture)

[23](#a.3-signalling-interworking)

[25](#annex-b-informative-change-history)Foreword 1 Scope 2 References
2.1 Normative references 2.2 Informative references 3 Definitions and
abbreviations 3.1 Definitions 3.2 Abbreviations 4 Main concepts 4.1
Localised Service Area definition 4.2 Subscriber information for
Localised Service Area 4.3 Localised Service Area support in idle mode
4.3.1 Cell selection and reselection 4.3.2 Localised service area
indication 4.3.3 Exclusive access 4.3.4 LSA only access 4.4 Localised
Service Area support in active mode 4.4.1 Localised service area
indication 4.4.2 Resource handling 4.5 Localised Service Area support in
access control 4.5.1 Emergency Call setup 4.5.2 Mobile Originating and
Mobile Terminating Call setup 4.5.3 Location Registration 4.5.4 Call
unrelated services (Short message transfer, USSD, Supplementary Service
management) 4.5.5 Routing Area Update 5 General architecture 6
Compatibility issues 6.1 Handling of mobiles in exclusive access cells 7
Transmission 8 Information storage 8.1 Information managed per
subscriber 8.1.1 Stored in the HLR 8.1.2 Stored in the VLR 8.1.3 Stored
in the SIM 8.1.4 Stored in the SGSN 8.2 Information managed per LSA
8.2.1 Stored in the MSC 8.2.2 Stored in the BSS 9 Identities 9.1
Identities for LSA 9.1.1 LSA ID 9.1.2 LSA name 10 Operation and
maintenance aspects 11 Function and information flows 11.1 LSA
management 11.2 Subscription management 11.3 Update of LSA data in SIM
11.4 Functions related to MS in idle mode for support of LSA 11.4.1
Broadcast information 11.4.2 Cell selection and reselection 11.4.3
Location Updating 11.4.4 Routing Area Update 11.5 Transfer of
information from HLR to VLR 11.6 Transfer of information from HLR to
SGSN 11.7 Functions related to active mode support of LSA 11.7.1 MS
connection establishment 11.7.1.1 Indication of current LSA to the MSC
11.7.1.2 Indication of allowed LSA to the BSS 11.7.1.3 Indication of
allowed LSA to the BSS 11.7.2 Handover 11.7.2.1 Indication of allowed
LSA to the target BSS 11.7.2.2 Indication of current LSA to the MSC
11.7.2.3 Indication of current LSA to the SGSN 11.8 LSA indication
procedures 11.8.1 Indication for mobile stations in idle mode 11.8.2
Indications for mobile stations in active mode 11.9 Overview of
signalling 12 Charging 12.1 General principles 12.2 Toll ticketing Annex
A (informative): SoLSA interworking with CAMEL A.1 Subscriber
information for Localised Service Area A.2 Network Architecture A.3
Signalling Interworking Annex B (informative): Change history

Foreword
========

This Technical Specification (TS) has been produced by the 3^rd^
Generation Partnership Project (3GPP).

The present document specifies the stage 2 description of the SoLSA
service within the 3GPP system.

The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:

Version x.y.z

where:

x the first digit:

1 presented to TSG for information;

2 presented to TSG for approval;

3 or greater indicates TSG approved document under change control.

y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.

z the third digit is incremented when editorial only changes have been
incorporated in the document.

1 Scope
=======

The present document specifies the stage 2 description of the SoLSA
service, which gives the network operator the basis to offer subscribers
or group of subscribers different services, different tariffs and
different access rights depending on the geographical location of the
subscriber, according to GSM 02.43.

2 References
============

The following documents contain provisions which, through reference in
this text, constitute provisions of the present document.

\- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.

\- For a specific reference, subsequent revisions do not apply.

\- For a non-specific reference, the latest version applies. In the case
of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document *in the same Release as the present document*.

2.1 Normative references
------------------------

\[1\] 3GPP TS 22.043: \"Support of Localised Service Area (SoLSA) -
Stage 1\".

\[2\] 3GPP TS 23.003: \"Numbering, Addressing and Identification\".

\[3\] 3GPP TS 23.022: \"Functions Related to Mobile Station (MS) in Idle
Mode\".

\[4\] 3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification;
Core Network Protocols - Stage 3\".

\[5\] 3GPP TS 44.060: \"General Packet Radio Service (GPRS); Mobile
Station (MS) -- Base Station System (BSS) interface; Radio Link Control/
Medium Access Control (RLC/MAC) protocol (GPRS)\".

\[6\] 3GPP TS 45.002: \"Multiplexing and Multiple Access on the Radio
Path\".

\[7\] 3GPP TS 45.008: \"Radio subsystem link control\".

\[8\] 3GPP TS 48.008: \"Mobile Switching Centre ‑ Base Station System
(MSC -- BSS) interface - Layer 3 specification\".

\[9\] 3GPP TS 48.018: \"General Packet Radio Service (GPRS); Base
Station System (BSS) -- Serving GPRS Support Node (SGSN); BSS GPRS
Protocol (BSSGP)\".

\[10\] 3GPP TS 48.058: \"BSC-BTS Interface -- Layer 3 Specification\".

\[11\] 3GPP TS 51.011: \"Specification of the Subscriber Identity Module
-- Mobile Equipment (SIM-ME) Interface\".

\[12\] 3GPP TS 31.111: \"USIM Application Toolkit (USAT)\".

2.2 Informative references
--------------------------

3 Definitions and abbreviations
===============================

3.1 Definitions
---------------

For the purposes of the present document, the following terms and
definitions apply.

**Allowed localised service area**: Localised Service Area where the
subscriber has allowed service.

**Current localised service area**: Localised Service Area of the
serving cell to which the mobile station has subscription.

**Escape PLMN**: specific PLMN code that may be broadcast for non SoLSA
compatible mobile stations that do not understand the exclusive access
indicator.

**Localised Service Area**: Localised Service Area consists of a cell or
a number of cells. The cells constituting a LSA may not necessarily
provide continuous coverage.

**Network operator:** entity that provides the network operating
elements and resources for the execution of the LSA service.

**Service provider:** entity that offers the LSA services for
subscription. The network operator may be the service provider.

**Service subscriber:** mobile subscriber, which subscribes to the LSA
service. In principle, if a network provides LSA service, all users are
able to subscribe to this service.

3.2 Abbreviations
-----------------

For the purposes of the present document, the following abbreviations
apply:

LSA Localised Service Area

LSA ID Localised Service Area Identity

CSE Camel Service Environment

4 Main concepts
===============

4.1 Localised Service Area definition
-------------------------------------

The network operator can define a Localised Service Area, LSA,
consisting of a cell or a number of cells. It is possible for the
network operator to set certain characteristics/attributes per LSA. Some
LSA related attributes may be managed as part of cell management, e.g.
exclusive access.

The LSA is identified by a LSA ID. It shall be possible for the service
subscriber to define a name on each of her allowed LSAs.

4.2 Subscriber information for Localised Service Area
-----------------------------------------------------

For a subscriber, the network operator or the service provider can
define one or more LSA(s) as allowed LSA(s). It shall be possible to
establish an order of priority between the allowed LSAs for a given
subscriber and if the subscriber shall have preferential access within
these LSAs. It shall also be possible to define whether access outside
the allowed LSA(s) is allowed for a subscriber.

Subscriber specific LSA information is stored and managed in the HLR.
Application related LSA information is stored in appropriate service
platform, e.g. in the CAMEL Service Environment (see annex A).

In addition to subscriber details in the HLR server, it is also
necessary for subscriber specific LSA information to be stored and
managed in the SIM.

Subscribers may receive SIM cards with the initial LSA data stored. The
management of LSA data on SIM may be performed manually (in which case
SIM has to be returned to the network operator or service provider for
updating), or over the air interface as described in subclause 11.3.

4.3 Localised Service Area support in idle mode
-----------------------------------------------

### 4.3.1 Cell selection and reselection

A cell reselection mechanism as defined in subclause 11.4.2 shall be
used so that when camping on a cell in idle mode, the subscriber\'s
mobile station favours the cells belonging to her LSA(s). The mobile
station shall always attempt to reselect a cell in a higher priority
LSA. Cells outside the allowed LSA(s) shall have the lowest priority.

### 4.3.2 Localised service area indication

The service subscriber can define a name (alphanumeric name, icon, etc)
for each of her allowed LSAs. The MS will, in idle mode and if required
by the user, indicate to the user the current LSA. The indication may be
the name of the current LSA, as set by the user. The form of display and
indication are left to manufacturer\'s choice.

### 4.3.3 Exclusive access

An exclusive access cell is a cell belonging to one or more LSAs and
with allowed access only for users having this exclusive access cell
included in his/her allowed LSAs. Other user\'s mobile stations must be
prevented from using the cell to obtain any service, other than TS12
(Emergency Calls).

### 4.3.4 LSA only access

It shall be BSS-controlled functionality to prevent terminated and/or
originated calls outside the subscriber\'s allowed LSA(s). Emergency
calls are however always allowed.

4.4 Localised Service Area support in active mode
-------------------------------------------------

### 4.4.1 Localised service area indication

As a network option, service subscribers may be notified at change of
current LSA. This notification shall be performed as described in
subclause 11.7. The form of display and indication are left to
manufacturer\'s choice.

### 4.4.2 Resource handling 

As a network operator option it shall be possible to allow or prohibit
connection set-up and handover depending on the subscriber\'s LSA
information.

Information to be made available to the radio resource allocation
function and the handover function are as depicted in subclause 8.2.2.

NOTE: For the handling of an established connection, it is out of scope
of the present document to describe how the network shall perform the
resource allocation, handover, etc. depending on the subscriber\'s LSA
information. The following shall only be seen as examples.

Assignment of traffic resources in preferential access LSA\'s may
(network option) be favoured for subscribers having this cell as part of
their allowed LSAs.

When the subscriber sets up a call in one of her LSAs, the cells
belonging to that LSA can (network option) be favoured when handovers
are carried out.

Handovers to exclusive access cells can (network option) be prevented
for users not having the cell as part of their allowed LSA.

For a user with LSA only access, handovers as well as new originating
and terminating calls may (network option) be allowed outside the
allowed LSAs. Emergency calls are however always allowed.

4.5 Localised Service Area support in access control
----------------------------------------------------

### 4.5.1 Emergency Call setup

The Emergency Call setup shall always be accepted by the MSC.

### 4.5.2 Mobile Originating and Mobile Terminating Call setup

The MSC receives the LSA ID(s) of the current cell from the BSC before
the call setup. The current LSA can be selected on the basis of the
allowed LSA(s) in the subscriber data. Depending on the current LSA, the
network may continue as follows:

\- The MSC accepts the setup without Active mode support, if the active
mode indicator flag for selected LSA is not set.

\- The MSC accepts the setup with Active mode support, if the active
mode indicator flag for selected LSA is set.

\- The MSC starts charging activities for the current LSA.

### 4.5.3 Location Registration

The MSC/VLR shall reject a location registration if the cell is used for
exclusive access and none of the LSA Ids of current cell corresponds to
the LSA ID(s) stored in the subscriber record.

### 4.5.4 Call unrelated services (Short message transfer, USSD, Supplementary Service management)

The MSC receives the LSA ID(s) of the current cell from the BSC in the
COMPLETE\_L3\_INFO. The current LSA can be selected on the basis of the
allowed LSA(s) in the subscriber data and it can be used e.g. for the
charging purposes. However, the service request is always accepted.
Also, no active mode support is applied for the call unrelated services.

### 4.5.5 Routing Area Update

SGSN shall reject a routing area update if the cell is used for
exclusive access and none of the LSA Ids of current cell corresponds to
the LSA ID(s) stored in the subscriber record.

5 General architecture
======================

No specific requirements are identified. The general architecture of GSM
is maintained.

Figure 1: General architecture

6 Compatibility issues
======================

LSA can not be used with standard phase 1 or phase 2 mobile stations (or
with non-compatible phase 2+ mobile stations) with all service aspects.
A dedicated mobile station with LSA capability is required.

A compatible mobile station shall provide the following specific
functions:

\- cell reselection in case of a LSA subscription;

\- notification of the current LSA.

A mobile station with LSA capability shall also provide the complete
functionality in order to allow the use of phase 2 services.

Standard phase 1 and phase 2 mobile stations in a network shall not be
impacted by the presence of LSA services in that network due to LSA
signalling, also if the mobile station is operated with a SIM that
contains SoLSA fields.

However, if LSA is provided in a network, it can be applied to
non-compatible mobile stations in the following way:

\- For a user with a LSA service subscription and with LSA only access,
support is given for LSA only access, with exception of the notification
(LSA indication).

\- For a user with a LSA service subscription, support is given for LSAs
in active mode, with exception of the notification (LSA indication).

6.1 Handling of mobiles in exclusive access cells
-------------------------------------------------

An escape PLMN may be included for old MSs that do not understand the
exclusive access indicator. Such an MS will consider the cell as
belonging to another PLMN. If the escape PLMN is broadcast and the
subscriber is not allowed within the cell, the receiving MSC/VLR/SGSN
shall reject the location update with the cause PLMN not allowed. The
escape PLMN will be added to the list of forbidden PLMNs and not
accessed again. SoLSA compatible mobile stations will however read the
correct PLMN in the system information and treat the cell as normal.

7 Transmission
==============

No specific requirements are identified.

8 Information storage
=====================

8.1 Information managed per subscriber
--------------------------------------

### 8.1.1 Stored in the HLR

The following mandatory information shall be stored in the HLR for each
service subscriber:

\- a list of all the LSA Ids for the service subscriber;

\- the priority for each LSA;

\- the preferential access indicator for each LSA;

\- the LSA only access indicator.

The following optional information may be stored in the HLR for each
service subscriber:

\- LSA only access indication text (text to be displayed when out of
LSA).

The following optional information may also be stored for each
subscribed LSA:

\- LSA name (A text string describing area and/or service. For example
\"ETSI BUILDING\");

\- LSA indication for idle mode (flag to activate/deactivate LSA
indication in idle mode);

\- LSA indication for active mode (flag to activate/deactivate LSA
indication in active mode);

\- idle mode support (flag to activate/deactivate idle mode support in
LSA);

\- active mode support (flag to activate/deactivate active mode support
in LSA).

The LSA Ids are defined in subclause 9.1.1.

A service subscriber shall not be provided with more than 20 LSAs per
PLMN (including universal LSA\'s).

### 8.1.2 Stored in the VLR

The following mandatory information, which is relevant in the VPLMN,
shall be stored in the VLR for each service subscriber:

\- a list of all the LSA Ids for the service subscriber;

\- the priority for each LSA;

\- the preferential access indicator for each LSA;

\- the LSA only access indicator.

The following optional information may also be stored for each
subscribed LSA:

\- LSA indication for active mode (flag to activate/deactivate LSA
indication in active mode);

\- active mode support (flag to activate/deactivate active mode support
in LSA).

This information shall be brought forward to the VLR at the same time as
other subscriber information is copied form HLR. VLR entries shall be
modified when corresponding HLR records are changed.

### 8.1.3 Stored in the SIM

The following mandatory information shall be stored in the SIM for each
service subscriber:

\- a list of all the LSA Ids for the service subscriber;

\- the priority for each LSA;

\- the LSA only access indicator.

The following optional information may be stored in the SIM for each
service subscriber:

\- LSA only access indication text (text to be displayed when out of
LSA).

The following optional information may also be stored for each
subscribed LSA:

\- a list of all the cell identities for the subscribed LSA;

\- LSA name (A text string describing area and / or service. For example
\"ETSI BUILDING\");

\- LSA indication for idle mode (flag to activate/deactivate LSA
indication in idle mode);

\- idle mode support (flag to activate/deactivate idle mode support in
LSA);

The information shall be modified when corresponding HLR and BSS records
are changed.

### 8.1.4 Stored in the SGSN

The following mandatory information, which is relevant in the VPLMN,
shall be stored in the SGSN for each service subscriber:

\- a list of all the LSA Ids for the service subscriber;

\- the priority for each LSA;

\- the preferential access indicator for each LSA;

\- the LSA only access indicator.

The following optional information may also be stored for each
subscribed LSA:

\- LSA indication for active mode (flag to activate/deactivate LSA
indication in active mode);

\- active mode support (flag to activate/deactivate active mode support
in LSA).

This information shall be brought forward to the SGSN at the same time
as other subscriber information is copied form HLR. SGSN entries shall
be modified when corresponding HLR records are changed.

8.2 Information managed per LSA
-------------------------------

The LSA is defined as a list of cells inside the network. The cells
shall be defined by their cell identification consisting of the Location
Area Code and the Cell Identity as defined in 3GPP TS 48.008 and are
therefore uniquely identified in the network.

### 8.2.1 Stored in the MSC

The information stored in the MSC (network option) is the network
specific service configuration of each LSA defined by the network
operator and relevant for the MSC.

The network specific configuration of each LSA may also include specific
rules for e.g. the priority handling and the mapping between LSA
information for the subscriber (VLR data) and the LSA information sent
to BSS and when to notify MS about a service area change.

NOTE: For the handling of call establishment, it is out of scope of the
present document to describe how the network shall perform e.g. mapping
between LSA information for the subscriber (VLR data) and the LSA
information sent to BSS. The network specific service configuration
information shall only be seen as an example.

### 8.2.2 Stored in the BSS

The information stored in the BSS is the network specific service
configuration of each LSA defined by the network operator and relevant
for the BSS.

For each LSA relevant for the BSS in case of internal and external
handover support, the LSA ID and the cells belonging to the LSA shall be
stored. The BSS must also have knowledge about in which LSA cells that
the exclusive access shall be indicated.

The network specific configuration of each LSA may also include rules
for e.g. handover and resource allocation.

9 Identities
============

9.1 Identities for LSA
----------------------

### 9.1.1 LSA ID

The LSA ID shall either be a PLMN significant number or a universal
identity, indicated by one bit in the LSA ID.

PLMN significant number: The LSA ID shall be a binary number uniquely
assigned to an area in one network. The identity consists of 3 octets.

Universal identity: The LSA ID shall be a globally unique identity
assigned to a specific company or organisation. A suitable Assigning and
Registration Authority is required.

### 9.1.2 LSA name

It shall be possible to assign a subscriber-defined identifier to each
LSA. The LSA name can e.g. be an icon or an alphanumeric text up to 10
characters.

10 Operation and maintenance aspects
====================================

The operators have the possibility to:

\- Define LSAs consisting of a cell or a number of cells.

\- Set parameters for prioritised LSA cell reselection.

\- Set the parameter for exclusive access.

11 Function and information flows
=================================

11.1 LSA management
-------------------

The LSA attributes, as given in subclause 8.2 shall be entered and
modified by the network operator or the service provider.

11.2 Subscription management
----------------------------

When the subscriber record is created in the HLR, the list of allowed
LSAs, priority of each LSA, the preferential access indicator of each
LSA and information about access rights outside these LSAs shall be
included.

The network operator can change the LSA information for a subscription
at any time. A change of subscription shall not affect any on-going
calls at the moment of change.

The update of SIM with user LSA information is done as depicted in
subclause 11.3.

11.3 Update of LSA data in SIM
------------------------------

SIM Application Toolkit (SAT) SIM Data Download procedure, as specified
in 3GPP TS 31.111, can be used to download LSA data to SIM over the air
interface. SAT class 1 supports SMS as the bearer for LSA data.

When using over the air interface for updating LSA information on the
SIM card the 3GPP TS 23.048 specifies Standardised SIM toolkit commands
for Remote File Management:

\- 3GPP TS 23.048 contains a standard format for remote file handling
based on the instruction set from 3GPP TS 51.011. Operators have
possibility to use and update SIMs from different vendors.

\- The parameter(s) in the SIM Data Download Message is either a single
command, or a list of commands, and each command is coded according to
the generalised structure defined in 3GPP TS 23.048.

\- Data field to be used in commands will be specified in 3GPP TS 51.011
for SoLSA.

GSM Rec. 03.48 also specifies various security mechanisms (e.g. various
derivatives of DES) that can used to protect the remote file management
commands.

New SIMs for SoLSA are needed to cater for SIM related security issues.
Unauthorised modification of SoLSA data in SIM, either by users or by
any other entity, is to be prohibited.

11.4 Functions related to MS in idle mode for support of LSA
------------------------------------------------------------

### 11.4.1 Broadcast information

In cells belonging to a LSA, the LSA ID(s) and/or cell identity is
broadcast.

Further, in cells belonging to a LSA, which shall give exclusive access
to a subscriber group, an exclusive access indication is broadcast.

To be able to favour the LSA cells at cell reselection new LSA
reselection parameters are broadcast.

### 11.4.2 Cell selection and reselection

The definition of a \"suitable cell\", as defined in GSM 03.22, is
modified with the following criterion:

A SoLSA exclusive access cell is \"suitable\" only if the LSA of the
cell is one of the allowed LSA according to the SIM. Emergency calls are
always allowed if no cells are found suitable.

An MS with SIM indicating LSA subscription shall always try to reselect
the cell with the highest LSA priority according to the information
stored on the SIM. The LSA reselection parameters broadcast on the BCCH
shall be used to calculate the reselection criteria. The broadcasting
mechanism is as described in 3GPP TS 44.060. The MS shall follow the
reselection procedures defined in 3GPP TS 45.008.

NOTE: The text above covers also the case when the MS is using GPRS
together with SoLSA.

### 11.4.3 Location Updating

If the escape PLMN is broadcast the BSS shall, at location updating,
inform the MSC/VLR about the LSA ID(s) of the cell where the location
updating request message was received. *This is done by adding the LSA
ID(s) of current cell to the complete layer 3 information message for
the exclusive access cell.*

### 11.4.4 Routing Area Update

If the escape PLMN is broadcast the BSS shall, at routing area update,
inform the SGSN about the LSA ID(s) of the cell where the routing area
update request message was received. *This is done by adding the LSA
ID(s) of current cell to the UL UNITDATA message for the exclusive
access cell.*

11.5 Transfer of information from HLR to VLR
--------------------------------------------

If the subscription contain LSA information then, when the subscriber
registers on a VLR, the HLR shall send the LSA subscription data to that
VLR, which is relevant in the VPLMN. This is done by adding the LSA
information to the MAP\_INSERT\_SUBSCRIBER\_DATA and for deletion in
MAP\_DELETE\_SUBSCRIBER\_DATA.

When there is a change in the LSA information the HLR shall include at
least the new and/or modified LSA data. When there is a change in the
access right outside the LSA(s) the HLR shall include the LSA only
access indicator.

11.6 Transfer of information from HLR to SGSN
---------------------------------------------

If the subscription contain LSA information then, when the subscriber
registers on a SGSN, the HLR shall send the LSA subscription data to
that SGSN, which is relevant in the VPLMN. This is done by adding the
LSA information to the MAP\_INSERT\_SUBSCRIBER\_DATA and for deletion in
MAP\_DELETE\_SUBSCRIBER\_DATA.

When there is a change in the LSA information the HLR shall include at
least the new and/or modified LSA data. When there is a change in the
access right outside the LSA(s) the HLR shall include the LSA only
access indicator.

11.7 Functions related to active mode support of LSA
----------------------------------------------------

### 11.7.1 MS connection establishment

#### 11.7.1.1 Indication of current LSA to the MSC

At initial connection establishment the BSS shall inform the MSC about
the LSA ID(s) of the cell where the initial layer 3 message was
received. *This is done by adding the LSA ID(s) of current cell to the
complete layer 3 message.*

#### 11.7.1.2 Indication of allowed LSA to the BSS

The MSC sends the LSA information message to the BSS including the
A-interface LSA information of the connection *as defined in 3GPP TS
48.008*. The MSC maps the subscription LSA information on to the
A-interface LSA information for LSAs requiring \'active mode support\'.
The LSA information sent to the BSS indicates the allowed area for the
MS connection. The BSS shall store the LSA information in order to use
it on later actions, e.g. at handover.

The LSA information for the MS connection shall be used in the BSS at
assignment of radio resources in order to e.g. prioritise cells in the
allowed LSA(s) and to prevent allocating resources in cells outside the
allowed area for the MS connection.

#### 11.7.1.3 Indication of allowed LSA to the BSS

The SGSN may send the LSA information message to the BSS for a mobile
station in ready mode *as defined in 3GPP TS 48.018*. The SGSN sends the
subscription LSA information for LSAs requiring \'active mode support\'.
The LSA information sent to the BSS indicates the allowed area for the
MS connection. The BSS shall store the LSA information in order to use
it on later actions, e.g. when determine specific cell selection
parameters.

The LSA information for the MS connection shall be used in the BSS to
e.g. prioritise cells in the allowed LSA(s) and to prevent allocating
resources in cells outside the allowed area for the MS connection.

### 11.7.2 Handover

#### 11.7.2.1 Indication of allowed LSA to the target BSS

In case of BSS external handover, the LSA information for the connection
shall be included in the handover request message.

#### 11.7.2.2 Indication of current LSA to the MSC

In case of BSS external handover, the BSS informs the MSC about the LSA
ID of current cell. *This is done by adding the LSA ID of the
current/new cell to the handover request acknowledge message.*

In case of BSS internal handover, the BSS informs the MSC when a change
of LSA has occurred for a connection. This is done by adding the LSA ID
of the current/new cell to the handover performed message or assignment
complete message (if handover performed during assignment).

#### 11.7.2.3 Indication of current LSA to the SGSN

In case of cell change, the BSS may inform the SGSN about the LSA ID(s)
of current cell. This is done by adding the LSA ID(s) of the current/new
cell to the UL UNITDATA message.

11.8 LSA indication procedures
------------------------------

Different indication procedures shall be applied in relation to the mode
of the mobile station as presented in clause 4 and defined in the
following sections.

### 11.8.1 Indication for mobile stations in idle mode

In addition to indicate the registered PLMN, an MS with subscription for
a LSA in the registered PLMN shall indicate this LSA when it is
available. The indication towards the user is optional and may be done
by displaying the stored LSA name that corresponds to the ID of the
current LSA.

An MS with LSA only access subscription may also give an indication
towards the user, when the no subscribed LSAs are available to the user.
The indication is optional and may be done by displaying the LSA only
access text stored in the SIM.

### 11.8.2 Indications for mobile stations in active mode 

The network decides when to send a notification to the MS about a change
of current LSA. The information will be sent from the MSC to the MS and
will contain the LSA ID. This is done by adding the LSA ID of the
current cell to the MM Information message. If no LSA ID is included in
the MM Information message the MS shall assume that the current cell
does not belong to any of the allowed LSAs for the subscriber.

The indication towards the user is optional and can be heard as e.g. a
beep in the receiver or by displaying the stored LSA name that
corresponds to the received LSA ID.

11.9 Overview of signalling
---------------------------

In this overview, the messages required to implement the specified
concept are identified and brief details are given of each message.
These signalling flows are not normative, but provided as an
illustration on possible signalling interworking (note that only those
parts of the procedures that are relevant for the LSA service are
included).

Figure 2: Signalling information required at location registration

**LOCATION\_UPDATING\_REQUEST**: Standard message.

**COMPLETE\_LAYER3\_INFORMATION**: If the escape PLMN is broadcast, the
MSC is provided with location updating information together with the LSA
ID(s) of current cell.

**MAP\_UPDATE\_LOCATION\_AREA**: Standard message.

**MAP\_INSERT\_SUBSCRIBER\_DATA**: The VLR is provided with the
subscriber information including the allowed LSA ID(s), priority of each
LSA, the preferential access indicator for each LSA and the LSA only
access indicator of current PLMN.

Figure 3: Signalling information required at routing area update

**ROUTING\_AREA\_UPDATE\_REQUEST**: Standard message.

**UPLINK\_UNITDATA**: If the escape PLMN is broadcast, the SGSN is
provided with routing area update information together with the LSA
ID(s) of current cell.

**MAP\_UPDATE\_LOCATION\_AREA**: Standard message.

**MAP\_INSERT\_SUBSCRIBER\_DATA**: The SGSN is provided with the
subscriber information including the allowed LSA ID(s), priority of each
LSA and the LSA only access indicator of current PLMN.

Figure 4: Signalling information required at updating of the
subscriber\'s LSA information by using SMS

**MT-SHORT-MESSAGE, MAP-MT-FORWARD-SHORT-MESSAGE request, SM TP
SMS-DELIVER**: Standard messages containing subscriber\'s LSA
information and are parts of SIM data download.

**SM TP SMS-DELIVER acknowledgement, MAP-MT-FORWARD-SHORT-MESSAGE
response**: Standard messages containing result of the operation.

Figure 5: Signalling information required for mobile originating call
establishment

**SYSTEM\_INFO:** The network provides the cell identity and/or LSA
ID(s) of the cell, LSA cell reselection parameters and the exclusive
access indication.

**Initial RACH CHANNEL\_REQUEST:** Standard message.

**IMMEDIATE\_ASSIGNMENT:** Standard message.

**SABM (SERV\_REQ):** Standard message.

**UA (SERV\_REQ)**: Standard message.

**COMPLETE\_LAYER3\_INFORMATION**: The MSC is provided with initial
information about the requested service together with the LSA ID(s) of
current cell.

**CM\_SERVICE\_ACCEPT**: Standard message. The service request is
acknowledged. Acknowledgement of the service can also be performed by
invocation of ciphering mode setting.

**SETUP**: Standard message.

**CALL\_PROCEEDING**: Standard message.

**LSA INFO**: New message including the allowed LSA ID(s), priority of
each LSA, the preferential access indicator for each LSA and an
indication about the access rights outside these LSA(s) for the service
subscriber. This message needs to be sent before Assignment request.
Additional messages may be sent anytime during the lifetime of a call.

**ASSIGNMENT\_REQUEST**: Standard message.

**ASSIGNMENT\_COMMAND**: Standard message.

**SABM**: Standard message.

**UA**: Standard message.

**ASSIGNMENT\_COMPLETE**: Standard message.

**A\_ASSIGNMENT\_COMPLETE**: Modified assignment complete including the
LSA ID of current cell.

Figure 6: Signalling information required at BSS external handover
initiation

**HANDOVER REQUIRED**: Standard message.

**MAP\_PREPARE\_HANDOVER**: Standard message. Including the modified
handover request.

**HANDOVER\_REQUEST**: Modified handover request including the allowed
LSA ID(s), priority of each LSA, the preferential access indicator of
each LSA and an indication about the access rights outside these LSA(s).

Figure 7: Signalling information required at BSS external handover
acknowledgement

**HANDOVER\_REQUEST\_ACKNOWLEDGE**: Modified handover request
acknowledge including the LSA ID of current cell.

**MAP\_PROCESS\_ACCESS\_SIGNALLING request**: Standard message.
Including the modified handover request acknowledge.

Figure 8: Signalling information required at BSS internal handover

**HANDOVER\_COMPLETE**: Standard message.

**HANDOVER \_PERFORMED**: Modified handover performed including the LSA
ID of current cell.

**MAP\_PROCESS\_ACCESS\_SIGNALLING request**: Standard message.
Including the modified handover performed.

Figure 9: Signalling information required at notification of LSA change
in active mode

**MM\_INFORMATION**: Modified MM-INFORMATION message including the LSA
ID of current cell.

12 Charging
===========

12.1 General principles
-----------------------

Using LSA as a location based charging can be realised. Different
charging can be applied with respect to different LSAs, which shall also
include the possibility to change charging when moving between LSAs with
different tariffs associated. LSAs with higher priority may be
associated with different tariffs.

12.2 Toll ticketing
-------------------

Appropriate information concerning the change of charging due to the LSA
change shall also be included in the charging record (toll ticket).

######## Annex A (informative): SoLSA interworking with CAMEL

This Annex is informative.

*[Regarding the SoLSA network architecture SMG12 has decided
that:]{.underline}*

*[- the HLR solution is chosen for SoLSA]{.underline}*

*[- CAMEL phase 3 will be improved in the 99 release so that it fully
utilises the SoLSA benefits.]{.underline}*

This annex collects the optional functional enhancements for CAMEL
required to enable CAMEL interworking with SoLSA. These enhancements are
expected to be included in CAMEL phase3 in Release 99.

A.1 Subscriber information for Localised Service Area
=====================================================

Subscriber specific information LSA information is stored and managed in
the HLR. Application related LSA information is stored in appropriate
service platform, e.g. in the CAMEL Service Environment.

A.2 Network Architecture
========================

Figure A1: NW architecture including SoLSA related enhancements on CAMEL
Service Environment

A.3 Signalling Interworking
===========================

Figure A2: Signalling interworking at Mobile Originating Call
Establishment with applications on CAMEL Service Environment

**SYSTEM\_INFO:** The network provides the cell identity and/or LSA
ID(s) of the cell, LSA cell reselection parameters and the exclusive
access indication.

**Initial RACH CHAN\_REQ:** Standard message.

**IMM\_ASS:** Standard message.

**SABM (SERV\_REQ):** Standard message.

**UA (SERV\_REQ)**: Standard message.

**COM\_L3\_INFO**: The MSC is provided with initial information about
the requested service together with the LSA ID(s) of current cell.

**CM\_SERV\_ACC**: Standard message. The service request is
acknowledged. Acknowledgement of the service can also be performed by
invocation of ciphering mode setting.

**SETUP**: Standard message.

**INITIALDP**: Modified CAP message indicating that the CAMEL TDP has
been met. Additionally the LSA ID(s) of the current cell are sent to the
gsmSCF.

**CONTINUE**: Modified CAP message indicating that the call continues
without modifications.

**CONNECT**: Modified CAP message indicating that the gsmSCF has
modified e.g. the destination number.

**CALL\_PROCEEDING**: Standard message.

**LSA INFO**: New message including the LSA ID(s), priority of each LSA,
the preferential access indicator of each LSA and an indication about
the access rights outside these LSA(s) for the service subscriber. This
message need to be sent before Assignment Request message. Additional
messages may be sent at anytime during the lifetime of a call.

**ASS\_REQ**: Standard message.

**ASS\_CMD**: Standard message.

**SABM**: Standard message.

**UA**: Standard message.

**Air\_ASS\_COM**: Standard message.

**A\_ASS\_COM**: Modified assignment complete including the LSA ID of
current cell.

######## Annex B (informative): Change history

  ---------- ------------------ ---- ----------- ------------- -------------------------------------------------------------------------------------------------
  TSG SA\#   Spec               CR   \<Phase\>   New Version   Subject/Comment
  Jun 1999   GSM 03.73                                         Transferred to 3GPP CN
  CN\#04     23.073                              3.0.0         
             23.073                              3.0.1         References updated from 2G to 3G
  CN\#11     23.073                  Rel-4       4.0.0         Release 4 after CN\#11
  SA\#16     23.073 to 43.073        Rel-4       4.0.0         Renumbered 23.073 Rel-4 (version 4.0.0) to 43.073 (version 4.0.0) after SA\#16
  SA\#16     43.073                  Rel-5       5.0.0         Created 43.073 Rel-5 (version 5.0.0) technically identical to 43.073 version 4.0.0 after SA\#16
  CN\#26     43.073                  Rel-6       6.0.0         Release 6 after CN\#26
  CT\#36     43.073                  Rel-7       7.0.0         Upgraded unchanged from Rel-6
  CT\#42     43.073                  Rel-8       8.0.0         Upgraded unchanged from Rel-7
  2009-12    43.073             \-   Rel-9       9.0.0         Update to Rel-9 version (MCC)
  2011-03    43.073             \-   Rel-10      10.0.0        Update to Rel-10 version (MCC)
  2012-09    43.073             \-   Rel-11      11.0.0        Update to Rel-11 version (MCC)
  2014-09    43.073             \-   Rel-12      12.0.0        Update to Rel-12 version (MCC)
  2015-12    43.073             \-   Rel-13      13.0.0        Update to Rel-13 version (MCC)
  2017-03    43.073             \-   Rel-14      14.0.0        Update to Rel-14 version (MCC)
  2018-06    43.075             \-   Rel-15      15.0.0        Update to Rel-15 version (MCC)
  2020-07    43.075             \-   Rel-16      16.0.0        Update to Rel-16 version (MCC)
  ---------- ------------------ ---- ----------- ------------- -------------------------------------------------------------------------------------------------
