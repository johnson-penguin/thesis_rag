![](media/image1.jpeg){width="7.0875in" height="3.4229166666666666in"}

 

Contents
========

[5](#foreword)

[7](#scope)

[7](#references)

[8](#definitions-symbols-and-abbreviations)

[8](#definitions)

[8](#symbols)

[8](#abbreviations)

[8](#services-offered-by-the-nef)

[8](#introduction)

[9](#nnef_eventexposure-service)

[9](#service-description)

[9](#overview)

[9](#service-architecture)

[10](#network-functions)

[10](#network-exposure-function-nef)

[10](#nf-service-consumers)

[10](#service-operations)

[10](#introduction-1)

[11](#nnef_eventexposure_subscribe-service-operation)

[11](#general)

[11](#creating-a-new-subscription)

[12](#modifying-an-existing-subscription)

[13](#nnef_eventexposure_unsubscribe-service-operation)

[13](#general-1)

[14](#unsubscription-from-event-notifications)

[14](#nnef_eventexposure_notify-service-operation)

[14](#general-2)

[14](#notification-about-subscribed-events)

[16](#api-definitions)

[16](#nnef_eventexposure-service-api)

[16](#introduction-2)

[16](#usage-of-http)

[16](#general-3)

[16](#http-standard-headers)

[16](#general-4)

[16](#content-type)

[16](#http-custom-headers)

[17](#resources)

[17](#overview-1)

[17](#resource-network-exposure-event-subscriptions)

[17](#description)

[17](#resource-definition)

[18](#resource-standard-methods)

[18](#post)

[18](#resource-individual-network-exposure-event-subscription)

[18](#description-1)

[18](#resource-definition-1)

[19](#resource-standard-methods-1)

[19](#get)

[19](#put)

[20](#delete)

[21](#custom-operations-without-associated-resources)

[21](#notifications)

[21](#general-5)

[22](#network-exposure-event-notification)

[22](#description-2)

[22](#target-uri)

[22](#standard-methods)

[22](#post-1)

[23](#data-model)

[23](#general-6)

[24](#structured-data-types)

[24](#introduction-3)

[24](#type-nefeventexposuresubsc)

[25](#type-nefeventexposurenotif)

[25](#type-nefeventnotification)

[25](#type-nefeventsubs)

[26](#type-uecommunicationinfo)

[26](#type-nefeventfilter)

[26](#type-targetueidentification)

[27](#type-serviceexperienceinfo)

[27](#type-uemobilityinfo)

[27](#type-uetrajectoryinfo)

[27](#simple-data-types-and-enumerations)

[27](#introduction-4)

[27](#simple-data-types)

[27](#enumeration-nefevent)

[28](#error-handling)

[28](#general-7)

[28](#protocol-errors)

[28](#application-errors)

[28](#feature-negotiation)

[28](#security)

[30](#annex-a-normative-openapi-specification)

[30](#a.1-general)

[30](#a.2-nnef_eventexposure-api)

[37](#annex-b-informative-change-history)Foreword 1 Scope 2 References 3
Definitions, symbols and abbreviations 3.1 Definitions 3.2 Symbols 3.3
Abbreviations 4 Services offered by the NEF 4.1 Introduction 4.2
Nnef\_EventExposure Service 4.2.1 Service Description 4.2.1.1 Overview
4.2.1.2 Service Architecture 4.2.1.3 Network Functions 4.2.1.3.1 Network
Exposure Function (NEF) 4.2.1.3.2 NF Service Consumers 4.2.2 Service
Operations 4.2.2.1 Introduction 4.2.2.2 Nnef\_EventExposure\_Subscribe
service operation 4.2.2.2.1 General 4.2.2.2.2 Creating a new
subscription 4.2.2.2.3 Modifying an existing subscription 4.2.2.3
Nnef\_EventExposure\_Unsubscribe service operation 4.2.2.3.1 General
4.2.2.3.2 Unsubscription from event notifications 4.2.2.4
Nnef\_EventExposure\_Notify service operation 4.2.2.4.1 General
4.2.2.4.2 Notification about subscribed events 5 API Definitions 5.1
Nnef\_EventExposure Service API 5.1.1 Introduction 5.1.2 Usage of HTTP
5.1.2.1 General 5.1.2.2 HTTP standard headers 5.1.2.2.1 General
5.1.2.2.2 Content type 5.1.2.3 HTTP custom headers 5.1.3 Resources
5.1.3.1 Overview 5.1.3.2 Resource: Network Exposure Event Subscriptions
5.1.3.2.1 Description 5.1.3.2.2 Resource Definition 5.1.3.2.3 Resource
Standard Methods 5.1.3.2.3.1 POST 5.1.3.3 Resource: Individual Network
Exposure Event Subscription 5.1.3.3.1 Description 5.1.3.3.2 Resource
Definition 5.1.3.3.3 Resource Standard Methods 5.1.3.3.3.1 GET
5.1.3.3.3.2 PUT 5.1.3.3.3.3 DELETE 5.1.4 Custom Operations without
associated resources 5.1.5 Notifications 5.1.5.1 General 5.1.5.2 Network
Exposure Event Notification 5.1.5.2.1 Description 5.1.5.2.2 Target URI
5.1.5.2.3 Standard Methods 5.1.5.2.3.1 POST 5.1.6 Data Model 5.1.6.1
General 5.1.6.2 Structured data types 5.1.6.2.1 Introduction 5.1.6.2.2
Type: NefEventExposureSubsc 5.1.6.2.3 Type: NefEventExposureNotif
5.1.6.2.4 Type: NefEventNotification 5.1.6.2.5 Type NefEventSubs
5.1.6.2.6 Type UeCommunicationInfo 5.1.6.2.7 Type NefEventFilter
5.1.6.2.8 Type TargetUeIdentification 5.1.6.2.9 Type:
ServiceExperienceInfo 5.1.6.2.10 Type: UeMobilityInfo 5.1.6.2.11 Type:
UeTrajectoryInfo 5.1.6.3 Simple data types and enumerations 5.1.6.3.1
Introduction 5.1.6.3.2 Simple data types 5.1.6.3.3 Enumeration: NefEvent
5.1.7 Error Handling 5.1.7.1 General 5.1.7.2 Protocol Errors 5.1.7.3
Application Errors 5.1.8 Feature negotiation 5.1.9 Security Annex A
(normative): OpenAPI specification A.1 General A.2 Nnef\_EventExposure
API Annex B (informative): Change history

Foreword
========

This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).

The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:

Version x.y.z

where:

x the first digit:

1 presented to TSG for information;

2 presented to TSG for approval;

3 or greater indicates TSG approved document under change control.

y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.

z the third digit is incremented when editorial only changes have been
incorporated in the document.

In the present document, certain modal verbs have the following
meanings:

**shall** indicates a mandatory requirement to do something

**shall not** indicates an interdiction (prohibition) to do something

NOTE 1: The constructions \"shall\" and \"shall not\" are confined to
the context of normative provisions, and do not appear in Technical
Reports.

NOTE 2: The constructions \"must\" and \"must not\" are not used as
substitutes for \"shall\" and \"shall not\". Their use is avoided
insofar as possible, and they are not used in a normative context except
in a direct citation from an external, referenced, non-3GPP document, or
so as to maintain continuity of style when extending or modifying the
provisions of such a referenced document.

**should** indicates a recommendation to do something

**should not** indicates a recommendation not to do something

**may** indicates permission to do something

**need not** indicates permission not to do something

NOTE 3: The construction \"may not\" is ambiguous and is not used in
normative elements. The unambiguous constructions \"might not\" or
\"shall not\" are used instead, depending upon the meaning intended.

**can** indicates that something is possible

**cannot** indicates that something is impossible

NOTE 4: The constructions \"can\" and \"cannot\" shall not to be used as
substitutes for \"may\" and \"need not\".

**will** indicates that something is certain or expected to happen as a
result of action taken by an agency the behaviour of which is outside
the scope of the present document

**will not** indicates that something is certain or expected not to
happen as a result of action taken by an agency the behaviour of which
is outside the scope of the present document

**might** indicates a likelihood that something will happen as a result
of action taken by some agency the behaviour of which is outside the
scope of the present document

**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside
the scope of the present document

In addition:

**is** (or any other verb in the indicative mood) indicates a statement
of fact

**is not** (or any other negative verb in the indicative mood) indicates
a statement of fact

NOTE 5: The constructions \"is\" and \"is not\" do not indicate
requirements.

1 Scope
=======

The present document specifies the stage 3 protocol and data model for
the Nnef southbound Service Based Interface. It provides stage 3
protocol definitions and message flows, and specifies the API for each
service offered by the Network Exposure Function (NEF).

The 5G System stage 2 architecture and procedures are specified in
3GPP TS 23.501 \[2\], 3GPP TS 23.502 \[3\] and 3GPP TS 23.288 \[14\].

The Technical Realization of the Service Based Architecture and the
Principles and Guidelines for Services Definition are specified in
3GPP TS 29.500 \[4\] and 3GPP TS 29.501 \[5\].

2 References
============

The following documents contain provisions which, through reference in
this text, constitute provisions of the present document.

\- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.

\- For a specific reference, subsequent revisions do not apply.

\- For a non-specific reference, the latest version applies. In the case
of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document *in the same Release as the present document*.

\[1\] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".

\[2\] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage
2\".

\[3\] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".

\[4\] 3GPP TS 29.500: \"5G System; Technical Realization of Service
Based Architecture; Stage 3\".

\[5\] 3GPP TS 29.501: \"5G System; Principles and Guidelines for
Services Definition; Stage 3\".

\[6\] OpenAPI: \"OpenAPI 3.0.0 Specification\",
<https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md>.

\[7\] 3GPP TR 21.900: \"Technical Specification Group working methods\".

\[8\] 3GPP TS 33.501: \"Security architecture and procedures for 5G
system\".

\[9\] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".

\[10\] 3GPP TS 29.510: \"5G System; Network Function Repository
Services; Stage 3\".

\[11\] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2
(HTTP/2)\".

\[12\] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data
Interchange Format\".

\[13\] IETF RFC 7807: \"Problem Details for HTTP APIs\".

\[14\] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS)
to support network data analytics services\".

\[15\] 3GPP TS 29.522: \"5G System; Network Exposure Function Northbound
APIs; Stage 3\".

\[16\] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".

\[17\] 3GPP TS 29.520: \"5G System; Network Data Analytics Services;
Stage 3\".

\[18\] 3GPP TS 29.517: \"5G System; Application Function Event Exposure
Service; Stage 3\".

\[19\] 3GPP TS 29.551: \"5G System; Packet Flow Description Management
Service; Stage 3\".

\[20\] 3GPP TS 29.541: \"5G System; Network Exposure (NE) function
services for Non-IP Data Delivery (NIDD); Stage 3\".

\[21\] 3GPP TS 29.554: \"5G System; Background Data Transfer Policy
Control Service; Stage 3\".

\[22\] 3GPP TS 29.523: \"5G System; Policy Control Event Exposure
Service; Stage 3\".

3 Definitions, symbols and abbreviations
========================================

3.1 Definitions
---------------

For the purposes of the present document, the terms and definitions
given in 3GPP TR 21.905 \[1\] and the following apply. A term defined in
the present document takes precedence over the definition of the same
term, if any, in 3GPP TR 21.905 \[1\].

3.2 Symbols
-----------

For the purposes of the present document, the following symbols apply:

3.3 Abbreviations
-----------------

For the purposes of the present document, the abbreviations given in
3GPP TR 21.905 \[1\] and the following apply. An abbreviation defined in
the present document takes precedence over the definition of the same
abbreviation, if any, in 3GPP TR 21.905 \[1\].

API Application Programming Interface

NEF Network Exposure Function

NF Network Function

NWDAF Network Data Analytics Function

SUPI Subscription Permanent Identifier

URI Uniform Resource Identifier

4 Services offered by the NEF
=============================

4.1 Introduction
----------------

The NEF offers to other NFs the following southbound services:

\- Nnef\_EventExposure

\- Nnef\_PFDManagement

\- Nnef\_SMContext

NOTE 1: The northbound services offered by the NEF are defined in
3GPP TS 29.522 \[15\], e.g. the northbound requirement of
Nnef\_EventExposure service.

NOTE 2: The services offered by the NEF (e.g. Nnef\_EventExposure
service) as specified in the present specification are only applicable
for Nnef southbound services.

NOTE 3: The Nnef\_PFDManagement service offered by the NEF southbound is
defined in 3GPP TS 29.551 \[19\].

NOTE 4: The Nnef\_SMContext service offered by the NEF southbound is
defined in 3GPP TS 29.541 \[20\].

4.2 Nnef\_EventExposure Service
-------------------------------

### 4.2.1 Service Description

#### 4.2.1.1 Overview

The Nnef\_EventExposure service, as defined in 3GPP TS 23.502 \[3\], is
provided by the Network Exposure Function (NEF).

This service:

\- allows NF service consumers to subscribe, modify and unsubscribe for
application events; and

\- notifies NF service consumers with a corresponding subscription about
observed events on the NEF.

The types of observed events applicable for NEF include:

\- Service experience;

\- UE mobility;

\- UE communication; and

\- Exceptions.

The target of the event reporting may include one or more UE(s), a group
of UEs or any UE (i.e. all UEs). When an event to which the NF service
consumer has subscribed occurs, the NEF reports the requested
information to the NF service consumer based on the event reporting
information definition requested by the NF service consumer.

#### 4.2.1.2 Service Architecture

The 5G System Architecture is defined in 3GPP TS 23.501 \[2\]. The
Network Data Analytics Exposure architecture is defined in
3GPP TS 23.288 \[14\].

The Nnef\_EventExposure service is part of the Nnef service-based
interface exhibited by the Network Exposure Function (NEF).

Known consumers of the Nnef\_EventExposure service are:

\- Network Data Analytics Function (NWDAF)

Figure 4.2.1.2-1: Reference Architecture for the Nnef\_EventExposure
Service; SBI representation

Figure 4.2.1.2-2: Reference Architecture for the Nnef\_EventExposure
Service: reference point representation

#### 4.2.1.3 Network Functions

##### 4.2.1.3.1 Network Exposure Function (NEF)

The Network Exposure Function (NEF) is a functional element that
provides application or user related information to the NF service
consumers as defined in this specification.

The NEF allows the NF consumer(s) to (un)subscribe to notifications of
monitoring observed event, and sends the notification to the NF
consumer(s) when a subscribed event is detected.

##### 4.2.1.3.2 NF Service Consumers

The known NF service consumers are as follows:

The Network Data Analytics Function (NWDAF):

\- supports (un)subscribing to notifications of subscribed event(s) from
the NEF;

\- supports receiving the notifications of subscribed event(s) from the
NEF.

### 4.2.2 Service Operations

#### 4.2.2.1 Introduction

Service operations defined for the Nnef\_EventExposure Service are shown
in table 4.2.2.1-1.

*Table 4.2.2.1-1: Nnef\_EventExposure Service Operations*

  ---------------------------------- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------
  Service Operation Name             Description                                                                                                                                                                               Initiated by
  Nnef\_EventExposure\_Subscribe     This service operation is used by an NF service consumer to subscribe to, or modify a subscription in the NEF for event notifications on a specified application or user related event.   NF service consumer
  Nnef\_EventExposure\_Unsubscribe   This service operation is used by an NF service consumer to unsubscribe from event notifications.                                                                                         NF service consumer
  Nnef\_EventExposure\_Notify        This service operation is used by the NEF to report application or user related event(s) to the NF service consumer which has subscribed to the event report service.                     NEF
  ---------------------------------- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------

#### 4.2.2.2 Nnef\_EventExposure\_Subscribe service operation

##### 4.2.2.2.1 General

This service operation is used by an NF service consumer to subscribe to
notifications on specified event(s) or modify an existing subscription.

The following are the types of events for which a subscription to
notifications can be created:

\- Service experience;

\- UE mobility;

\- UE communication; and

\- Exceptions;

The following procedures using the Nnef\_EventExposure\_Subscribe
service operation are supported:

\- creating a new subscription;

\- modifying an existing subscription.

##### 4.2.2.2.2 Creating a new subscription 

Figure 4.2.2.2.2-1 illustrates the creation of a Network Exposure Event
Subscription.

Figure 4.2.2.2.2-1: Creation of a subscription

To subscribe to event notifications, the NF service consumer shall send
an HTTP POST request to the NEF with:
\"{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions\" as request
URI as shown in step 1 of figure 4.2.2.2.2-1, and the
\"NefEventExposureSubsc\" data structure as request body.

The \"NefEventExposureSubsc\" data structure shall include:

\- a URI where to receive the requested notifications as \"notifUri\"
attribute; and

\- a Notification Correlation Identifier assigned by the NF service
consumer for the requested notifications as \"notifId\" attribute.

\- description of subscribed event information as \"eventsSubs\"
attribute by using one or more \"NefEventSubs\" data.

The \"NefEventExposureSubsc\" data structure may also include:

\- the description of the event reporting information as
\"eventsRepInfo\" attribute.

The \"NefEventSubs\" data structure shall include:

\- an event to subscribe to as a \"event\" attribute; and

\- event filter information as \"eventFilter\" attribute associated with
the event.

The \"eventsRepInfo\" attribute may include:

\- event notification method (periodic, one time, on event detection) as
\"notifMethod\" attribute;

\- Maximum Number of Reports as \"maxReportNbr\" attribute;

\- Monitoring Duration as \"monDur\" attribute;

\- repetition period for periodic reporting as \"repPeriod\" attribute;

\- immediate reporting indication as \"immRep\" attribute;

\- sampling ratio as \"sampRatio\" attribute; and/or

\- group reporting guard time as \"grpRepTime\" attribute.

If the NEF cannot successfully fulfil the received HTTP POST request due
to an internal error or an error in the HTTP POST request, the NEF shall
send an HTTP error response as specified in clause 5.1.7.

Upon successful reception of an HTTP POST request with
\"{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions\" as request
URI and \"NefEventExposureSubsc\" data structure as request body, the
NEF shall create a new \"Individual Event Exposure Subscription\"
resource, store the subscription and send an HTTP \"201 Created\"
response, as shown in step 2 of figure 4.2.2.2.2-1. The NEF shall
include in the \"201 Created\" response:

\- a Location header field; and

\- an \"NefEventExposureSubsc\" data type in the payload body.

The Location header field shall contain the URI of the created
individual application session context resource i.e.
\"{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions/{subscriptionId}\".

The \"NefEventExposureSubsc\" data type payload body shall contain the
representation of the created \"Individual Network Exposure Event
Subscription\".

When the \"monDur\" attribute is included in the response by the NEF, it
represents NEF selected expiry time that is equal or less than the
expiry time received in the request.

When the \"immRep\" attribute is included and sets to \"true\" in the
subscription and the subscribed events are available, the NEF shall
include the reports of the events subscribed, if available, in the HTTP
POST response.

When the sampling ratio attribute, as \"sampRatio\", is included in the
subscription, the NEF shall select a random subset of UEs among the
target UEs according to the sampling ratio and only report the event(s)
related to the selected subset of UEs.

When the group reporting guard time, as \"grpRepTime\" attribute, is
included in the subscription, the NEF shall accumulate all the event
reports for the target UEs until the group reporting guard time expires.
Then, the NEF shall notify the NF service consumer using the
Nnef\_EventExposure\_Notify service operation, as described in
clause 4.2.2.4.

##### 4.2.2.2.3 Modifying an existing subscription

Figure 4.2.2.2.3-1 illustrates the modification of an existing
subscription.

Figure 4.2.2.2.3-1: Modification of an existing subscription

To modify an existing subscription to event notifications, the NF
service consumer shall send an HTTP PUT request with:
\"{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions/{**subscriptionId**}\"
as request URI, as shown in step 1 of figure 4.2.2.2.3-1, where
\"{**subscriptionId**}\" is the subscription correlation ID of the
existing subscription. The \"NefEventExposureSubsc\" data structure is
included as request body as described in clause 4.2.2.2.2.

NOTE 1: An alternate NF service consumer than the one that requested the
generation of the subscription resource can send the PUT request.

NOTE 2: The \"notifUri\" attribute within the NefEventExposureSubsc data
structure can be modified to request that subsequent notifications are
sent to a new NF service consumer.

NOTE 3: The \"monDur\" attribute within the NefEventExposureSubsc data
structure can be modified to extend the expiry time to keep receiving
notifications.

If the NEF cannot successfully fulfil the received HTTP PUT request due
to an internal error or an error in the HTTP PUT request, the NEF shall
send an HTTP error response as specified in clause 5.1.7.

If the feature \"ES3XX\" is supported, and the NEF determines the
received HTTP PUT request needs to be redirected, the NEF shall send an
HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 \[4\].

Upon successful reception of an HTTP PUT request with:
\"{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions/{**subscriptionId**}\"
as request URI and \"NefEventExposureSubsc\" data structure as request
body, the NEF shall update the subscription and send an HTTP \"200 OK\"
response with the \"NefEventExposureSubsc\" data structure as response
body containing the representation of the modified \"Individual Network
Exposure Event Subscription\", or an HTTP \"204 No Content\" response,
as shown in step 2 of figure 4.2.2.2.3-1.

When the \"monDur\" attribute is included in the response by the NEF, it
represents NEF selected expiry time that is equal or less than the
expiry time received in the request.

When the \"immRep\" attribute is included and sets to \"true\" in the
subscription and the subscribed events are available, the NEF shall
include the reports of the events subscribed, if available, in the HTTP
PUT response.

When the sampling ratio, as \"sampRatio\" attribute, is included in the
subscription, the NEF shall select a random subset of UEs among the
target UEs according to the sampling ratio and only report the event(s)
related to the selected subset of UEs.

When the group reporting guard time, as \"grpRepTime\" attribute, is
included in the subscription, the NEF shall accumulate all the event
reports for the target UEs until the group reporting guard time expires.
Then, the NEF shall notify the NF service consumer using the
Nnef\_EventExposure\_Notify service operation, as described in
clause 4.2.2.4.

#### 4.2.2.3 Nnef\_EventExposure\_Unsubscribe service operation

##### 4.2.2.3.1 General

This service operation is used by an NF service consumer to unsubscribe
from event notifications.

The following procedure using the Nnef\_EventExposure\_Unsubscribe
service operation is supported:

\- unsubscription from event notifications.

##### 4.2.2.3.2 Unsubscription from event notifications

Figure 4.2.2.3.2-1 illustrates the unsubscription from event
notifications.

Figure 4.2.2.3.2-1: Unsubscription from event notifications

To unsubscribe from event notifications, the NF service consumer shall
send an HTTP DELETE request with
\"{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions/{**subscriptionId**}\"
as request URI, as shown in step 1 of figure 4.2.2.3.2-1, where
\"{**subscriptionId**}\" is the subscription correlation identifier of
the existing subscription resource that is to be deleted.

If the NEF cannot successfully fulfil the received HTTP DELETE request
due to an internal error or an error in the HTTP DELETE request, the NEF
shall send an HTTP error response as specified in clause 5.1.7.

If the feature \"ES3XX\" is supported, and the NEF determines the
received HTTP DELETE request needs to be redirected, the NEF shall send
an HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 \[4\].

Upon successful reception of an HTTP DELETE request with:
\"{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions/{**subscriptionId**}\"
as request URI, the NEF shall remove the corresponding subscription and
send an HTTP \"204 No Content\" response, as shown in step 2 of
figure 4.2.2.3.2-1.

#### 4.2.2.4 Nnef\_EventExposure\_Notify service operation

##### 4.2.2.4.1 General

The Nnef\_EventExposure\_Notify service operation enables the NEF to
notify the NF service consumer(s) that the previously subscribed
application related event occurred.

The following procedure using the Nnef\_EventExposure\_Notify service
operation is supported:

\- notification about subscribed events.

##### 4.2.2.4.2 Notification about subscribed events

Figure 4.2.2.4.2-1 illustrates the notification about subscribed events.

Figure 4.2.2.4.2-1: Notification about subscribed events

If the NEF observes application related event(s) for which an NF service
consumer has subscribed, the NEF shall send an HTTP POST request as
shown in step 1 of figure 4.2.2.4.2-1, with the \"{notifUri}\" as
request URI containing the value previously provided by the NF service
consumer within the corresponding subscription, and the
\"NefEventExposureNotif\" data structure.

The \"NefEventExposureNotif\" data structure shall include:

\- notification correlation ID provided by the NF service consumer
during the subscription as \"notifId\" attribute; and

\- information about the observed event(s) within the \"eventNotifs\"
attribute that shall contain for each observed event an
\"NefEventNotification\" data structure that shall include:

\- the application related event as \"event\" attribute;

\- the time at which the event was observed encoded as \"timeStamp\"
attribute;

\- if the \"event\" attribute is \"SVC\_EXPERIENCE\", service experience
information about the application involved in the reported event in the
\"svcExprcInfos\" attribute;

\- if the \"event\" attribute is \"UE\_MOBILITY\", UE mobility
information assoicated with the application as \"ueMobilityInfos\"
attribute;

\- if the \"event\" attribute is \"UE\_COMM\", UE communication
information assoicated with the application as \"ueCommInfos\"
attribute; and

\- if the \"event\" attribute is \"EXCEPTIONS\", exceptions information
associated with a service flow as \"excepInfos\" attribute.

If the NF service consumer cannot successfully fulfil the received HTTP
POST request due to an internal error or an error in the HTTP POST
request, the NF service consumer shall send an HTTP error response as
specified in clause 5.1.7.

If the feature \"ES3XX\" is supported, and the NF service consumer
determines the received HTTP POST request needs to be redirected, the NF
service consumer shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 \[4\].

Upon successful reception of an HTTP POST request with \"{notifUri}\" as
request URI and \"NefEventExposureNotif\" data structure as request
body, the NF service consumer shall send an HTTP \"204 No Content\"
response, as shown in step 2 of figure 4.2.2.4.2-1, in case of a
successful processing.

5 API Definitions
=================

5.1 Nnef\_EventExposure Service API 
-----------------------------------

### 5.1.1 Introduction

The Nnef\_EventExposure service shall use the Nnef\_EventExposure API.

The API URI of the Nnef\_EventExposure API shall be:

**{apiRoot}/\<apiName\>/\<apiVersion\>/**

The request URIs used in HTTP requests from the NF service consumer
towards the NF service producer shall have the Resource URI structure
defined in clause 4.4.1 of 3GPP TS 29.501 \[5\], i.e.:

**{apiRoot}/\<apiName\>/\<apiVersion\>/\<apiSpecificResourceUriPart\>**

with the following components:

\- The {apiRoot} shall be set as described in 3GPP TS 29.501 \[5\].

\- The \<apiName\> shall be \"nnef-eventexposure\".

\- The \<apiVersion\> shall be \"v1\".

\- The \<apiSpecificResourceUriPart\> shall be set as described in
clause 5.1.3.

### 5.1.2 Usage of HTTP

#### 5.1.2.1 General

HTTP/2, IETF RFC 7540 \[11\], shall be used as specified in clause 5 of
3GPP TS 29.500 \[4\].

HTTP/2 shall be transported as specified in clause 5.3 of
3GPP TS 29.500 \[4\].

The OpenAPI \[6\] specification of HTTP messages and content bodies for
the Nnef\_EventExposure API is contained in Annex A.

#### 5.1.2.2 HTTP standard headers

##### 5.1.2.2.1 General

See clause 5.2.2 of 3GPP TS 29.500 \[4\] for the usage of HTTP standard
headers.

##### 5.1.2.2.2 Content type 

JSON, IETF RFC 8259 \[12\], shall be used as content type of the HTTP
bodies specified in the present specification as specified in clause 5.4
of 3GPP TS 29.500 \[4\]. The use of the JSON format shall be signalled
by the content type \"application/json\".

\"Problem Details\" JSON object shall be used to indicate additional
details of the error in a HTTP response body and shall be signalled by
the content type \"application/problem+json\", as defined in
IETF RFC 7807 \[13\].

#### 5.1.2.3 HTTP custom headers

The mandatory HTTP custom header fields specified in clause 5.2.3.2 of
3GPP TS 29.500 \[4\] shall be applicable.

In this Release of the specification, no specific custom headers are
defined for the Nnef\_EventExposure API.

### 5.1.3 Resources 

#### 5.1.3.1 Overview

Figure 5.1.3.1-1: Resource URI structure of the Nnef\_EventExposure API

Table 5.1.3.1-1 provides an overview of the resources and applicable
HTTP methods.

Table 5.1.3.1-1: Resources and methods overview

  ------------------------------------------------ ------------------ --------------------------------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------
  Resource name                                    Resource URI       HTTP method or custom operation   Description

  Network Exposure Event Subscriptions             /subscriptions     POST                              Creates a subscription to notifications on application or user related event(s), i.e. creation of an Individual Network Exposure Event Subscription resource.

  Individual Network Exposure Event Subscription   /subscriptions/\   GET                               Reads an Individual Network Exposure Event Subscription resource.
                                                   {subscriptionId}                                     

                                                                      PUT                               Modifies an Individual Network Exposure Event Subscription.

                                                                      DELETE                            Cancels an individual subscription to notifications of subscribed event.
  ------------------------------------------------ ------------------ --------------------------------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------

#### 5.1.3.2 Resource: Network Exposure Event Subscriptions

##### 5.1.3.2.1 Description

The resource represents the collection of Network Exposure Event
subscriptions of the Nnef\_EventExposure service. It allows NF service
consumers to create a new subscription to notifications on application
or user related event(s).

##### 5.1.3.2.2 Resource Definition

Resource URI:
**{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions**

This resource shall support the resource URI variables defined in
table 5.1.3.2.2-1.

Table 5.1.3.2.2-1: Resource URI variables for this resource

  ------------ ----------- ------------------
  Name         Data type   Definition
  apiRoot      string      See clause 5.1.1
  apiVersion   string      See clause 5.1.1
  ------------ ----------- ------------------

##### 5.1.3.2.3 Resource Standard Methods

###### 5.1.3.2.3.1 POST

This method shall support the URI query parameters specified in table
5.1.3.2.3.1-1.

Table 5.1.3.2.3.1-1: URI query parameters supported by the \<method 1\>
method on this resource

  ------ ----------- --- ------------- ------------- ---------------
  Name   Data type   P   Cardinality   Description   Applicability
  n/a                                                
  ------ ----------- --- ------------- ------------- ---------------

This method shall support the request data structures specified in table
5.1.3.2.3.1-2 and the response data structures and response codes
specified in table 5.1.3.2.3.1-3.

Table 5.1.3.2.3.1-2: Data structures supported by the POST Request Body
on this resource

  ----------------------- --- ------------- ----------------------------------------------------------------------------------------------------------------------
  Data type               P   Cardinality   Description
  NefEventExposureSubsc   M   1             Contains the information required for the creation of a new Individual Network Exposure Event Subscription resource.
  ----------------------- --- ------------- ----------------------------------------------------------------------------------------------------------------------

Table 5.1.3.2.3.1-3: Data structures supported by the POST Response Body
on this resource

+---------------+---+-------------+-------------+---------------+
| Data type     | P | Cardinality | Response    | Description   |
|               |   |             |             |               |
|               |   |             | codes       |               |
+---------------+---+-------------+-------------+---------------+
| NefEvent      | M | 1           | 201 Created | Contains the  |
| ExposureSubsc |   |             |             | r             |
|               |   |             |             | epresentation |
|               |   |             |             | of the        |
|               |   |             |             | Individual    |
|               |   |             |             | Network       |
|               |   |             |             | Exposure      |
|               |   |             |             | Event         |
|               |   |             |             | Subscription  |
|               |   |             |             | resource.     |
+---------------+---+-------------+-------------+---------------+
| NOTE: The     |   |             |             |               |
| manadatory    |   |             |             |               |
| HTTP error    |   |             |             |               |
| status code   |   |             |             |               |
| for the POST  |   |             |             |               |
| method listed |   |             |             |               |
| in Table      |   |             |             |               |
| 5.2.7.1-1 of  |   |             |             |               |
| 3GPP TS       |   |             |             |               |
|  29.500 \[4\] |   |             |             |               |
| also apply.   |   |             |             |               |
+---------------+---+-------------+-------------+---------------+

Table 5.1.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource

  ---------- ----------- --- ------------- --------------------------------------------------------------------------------------------------------------------------------------------------------
  Name       Data type   P   Cardinality   Description
  Location   string      M   1             Contains the URI of the newly created resource, according to the structure: {apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions/{subscriptionId}
  ---------- ----------- --- ------------- --------------------------------------------------------------------------------------------------------------------------------------------------------

#### 5.1.3.3 Resource: Individual Network Exposure Event Subscription

##### 5.1.3.3.1 Description

The resource represents an individual Network Exposure Event
subscription of the Nnef\_EventExposure service. It allows NF service
consumers to read/modify/cancel a subscription to notifications on
application or user related event(s).

##### 5.1.3.3.2 Resource Definition

Resource URI:
**{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions/{subscriptionId}**

This resource shall support the resource URI variables defined in
table 5.1.3.3.2-1.

Table 5.1.3.3.2-1: Resource URI variables for this resource

  ---------------- ----------- --------------------------------------------------------------
  Name             Data type   Definition
  apiRoot          string      See clause 5.1.1
  apiVersion       string      See clause 5.1.1
  subscriptionId   string      Identifies a subscription to the NEF event exposure service.
  ---------------- ----------- --------------------------------------------------------------

##### 5.1.3.3.3 Resource Standard Methods

###### 5.1.3.3.3.1 GET

This method shall support the URI query parameters specified in
table 5.1.3.3.3.1-1.

Table 5.1.3.3.3.1-1: URI query parameters supported by the GET method on
this resource

  ----------- ------------------- --- ------------- ----------------------------------------------------
  Name        Data type           P   Cardinality   Description
  supp-feat   SupportedFeatures   O   0..1          The features supported by the NF service consumer.
  ----------- ------------------- --- ------------- ----------------------------------------------------

This method shall support the request data structures specified in
table 5.1.3.3.3.1-2 and the response data structures and response codes
specified in table 5.1.3.3.3.1-3.

Table 5.1.3.3.3.1-2: Data structures supported by the GET Request Body
on this resource

  ----------- --- ------------- -------------
  Data type   P   Cardinality   Description
  n/a                           
  ----------- --- ------------- -------------

Table 5.1.3.3.3.1-3: Data structures supported by the GET Response Body
on this resource

+---------------+---+-------------+---------------+---------------+
| Data type     | P | Cardinality | Response      | Description   |
|               |   |             | codes         |               |
+---------------+---+-------------+---------------+---------------+
| NefEvent      | M | 1           | 200 OK        | Contains the  |
| ExposureSubsc |   |             |               | r             |
|               |   |             |               | epresentation |
|               |   |             |               | of the        |
|               |   |             |               | Individual    |
|               |   |             |               | Network       |
|               |   |             |               | Exposure      |
|               |   |             |               | Event         |
|               |   |             |               | Subscription  |
|               |   |             |               | resource.     |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 307 Temporary | Temporary     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | subscription  |
|               |   |             |               | retrieval.    |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | NEF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 308 Permanent | Permanent     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | subscription  |
|               |   |             |               | retrieval.    |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | NEF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| NOTE: The     |   |             |               |               |
| mandatory     |   |             |               |               |
| HTTP error    |   |             |               |               |
| status codes  |   |             |               |               |
| for the GET   |   |             |               |               |
| method listed |   |             |               |               |
| in            |   |             |               |               |
| ta            |   |             |               |               |
| ble 5.2.7.1-1 |   |             |               |               |
| of            |   |             |               |               |
| 3GPP TS       |   |             |               |               |
|  29.500 \[4\] |   |             |               |               |
| also apply.   |   |             |               |               |
+---------------+---+-------------+---------------+---------------+

Table 5.1.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative NEF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

Table 5.1.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative NEF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

###### 5.1.3.3.3.2 PUT

This method shall support the URI query parameters specified in
table 5.1.3.3.3.2-1.

Table 5.1.3.3.3.2-1: URI query parameters supported by the PUT method on
this resource

  ------ ----------- --- ------------- -------------
  Name   Data type   P   Cardinality   Description
  n/a                                  
  ------ ----------- --- ------------- -------------

This method shall support the request data structures specified in
table 5.1.3.3.3.2-2 and the response data structures and response codes
specified in table 5.1.3.3.3.2-3.

Table 5.1.3.3.3.2-2: Data structures supported by the PUT Request Body
on this resource

  ----------------------- --- ------------- --------------------------------------------------------------------------------
  Data type               P   Cardinality   Description
  NefEventExposureSubsc   M   1             Modifies the existing Individual Network Exposure Event Subscription resource.
  ----------------------- --- ------------- --------------------------------------------------------------------------------

Table 5.1.3.3.3.2-3: Data structures supported by the PUT Response Body
on this resource

+---------------+---+-------------+---------------+---------------+
| Data type     | P | Cardinality | Response      | Description   |
|               |   |             | codes         |               |
+---------------+---+-------------+---------------+---------------+
| NefEvent      | M | 1           | 200 OK        | Successful    |
| ExposureSubsc |   |             |               | case.         |
|               |   |             |               |               |
|               |   |             |               | The           |
|               |   |             |               | Individual    |
|               |   |             |               | Network       |
|               |   |             |               | Exposure      |
|               |   |             |               | Event         |
|               |   |             |               | Subscription  |
|               |   |             |               | resource was  |
|               |   |             |               | modified and  |
|               |   |             |               | a             |
|               |   |             |               | r             |
|               |   |             |               | epresentation |
|               |   |             |               | is returned.  |
+---------------+---+-------------+---------------+---------------+
| n/a           |   |             | 204 No        | Successful    |
|               |   |             | Content       | case.         |
|               |   |             |               |               |
|               |   |             |               | The           |
|               |   |             |               | Individual    |
|               |   |             |               | Network       |
|               |   |             |               | Exposure      |
|               |   |             |               | Event         |
|               |   |             |               | Subscription  |
|               |   |             |               | resource was  |
|               |   |             |               | modified.     |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 307 Temporary | Temporary     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | subscription  |
|               |   |             |               | modification. |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | NEF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 308 Permanent | Permanent     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | subscription  |
|               |   |             |               | modification. |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | NEF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| NOTE: The     |   |             |               |               |
| mandatory     |   |             |               |               |
| HTTP error    |   |             |               |               |
| status codes  |   |             |               |               |
| for the PUT   |   |             |               |               |
| method listed |   |             |               |               |
| in            |   |             |               |               |
| ta            |   |             |               |               |
| ble 5.2.7.1-1 |   |             |               |               |
| of            |   |             |               |               |
| 3GPP TS       |   |             |               |               |
|  29.500 \[4\] |   |             |               |               |
| also apply.   |   |             |               |               |
+---------------+---+-------------+---------------+---------------+

Table 5.1.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative NEF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

Table 5.1.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative NEF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

###### 5.1.3.3.3.3 DELETE

This method shall support the URI query parameters specified in
table 5.1.3.3.3.3-1.

Table 5.1.3.3.3.3-1: URI query parameters supported by the DELETE method
on this resource

  ------ ----------- --- ------------- -------------
  Name   Data type   P   Cardinality   Description
  n/a                                  
  ------ ----------- --- ------------- -------------

This method shall support the request data structures specified in
table 5.1.3.3.3.3-2 and the response data structures and response codes
specified in table 5.1.3.3.3.3-3.

Table 5.1.3.3.3.3-2: Data structures supported by the DELETE Request
Body on this resource

  ----------- --- ------------- -------------
  Data type   P   Cardinality   Description
  n/a                           
  ----------- --- ------------- -------------

Table 5.1.3.3.3.3-3: Data structures supported by the DELETE Response
Body on this resource

+---------------+---+-------------+---------------+---------------+
| Data type     | P | Cardinality | Response      | Description   |
|               |   |             | codes         |               |
+---------------+---+-------------+---------------+---------------+
| n/a           |   |             | 204 No        | Successful    |
|               |   |             | Content       | case. The     |
|               |   |             |               | Individual    |
|               |   |             |               | Network       |
|               |   |             |               | Exposure      |
|               |   |             |               | Event         |
|               |   |             |               | Subscription  |
|               |   |             |               | resource      |
|               |   |             |               | matching the  |
|               |   |             |               | s             |
|               |   |             |               | ubscriptionId |
|               |   |             |               | was deleted.  |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 307 Temporary | Temporary     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | subscription  |
|               |   |             |               | termination.  |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | NEF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 308 Permanent | Permanent     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | subscription  |
|               |   |             |               | termination.  |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | NEF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| NOTE: The     |   |             |               |               |
| mandatory     |   |             |               |               |
| HTTP error    |   |             |               |               |
| status code   |   |             |               |               |
| for the       |   |             |               |               |
| DELETE method |   |             |               |               |
| listed in     |   |             |               |               |
| ta            |   |             |               |               |
| ble 5.2.7.1-1 |   |             |               |               |
| of            |   |             |               |               |
| 3GPP TS       |   |             |               |               |
|  29.500 \[4\] |   |             |               |               |
| also apply.   |   |             |               |               |
+---------------+---+-------------+---------------+---------------+

Table 5.1.3.3.3.3-4: Headers supported by the 307 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative NEF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

Table 5.1.3.3.3.3-5: Headers supported by the 308 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative NEF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

### 5.1.4 Custom Operations without associated resources 

None.

### 5.1.5 Notifications

#### 5.1.5.1 General

Notifications shall comply to clause 6.2 of 3GPP TS 29.500 \[4\] and
clause 4.6.2.3 of 3GPP TS 29.501 \[5\].

Table 5.1.5.1-1: Notifications overview

+----------------+--------------+----------------+----------------+
| Notification   | Callback URI | HTTP method or | Description    |
|                |              | custom         |                |
|                |              | operation      | (service       |
|                |              |                | operation)     |
+----------------+--------------+----------------+----------------+
| Network        | {notifUri}   | POST           | Provides       |
| Exposure Event |              |                | Information    |
| Notification   |              |                | about observed |
|                |              |                | events.        |
+----------------+--------------+----------------+----------------+

#### 5.1.5.2 Network Exposure Event Notification

##### 5.1.5.2.1 Description

The Network Exposure Event Notification is used by the NEF to report one
or several observed Events to a NF service consumer that has subscribed
to such Notifications.

##### 5.1.5.2.2 Target URI

The Notification URI **\"{notifUri}\"** shall be used with the callback
URI variables defined in table 5.1.5.2.2-1.

Table 5.1.5.2.2-1: Callback URI variables for this resource

  ---------- ----------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Name       Data type   Definition
  notifUri   Uri         The Notification Uri as assigned by the NF service consumer during the subscription service operation and described within the NefEventExposureSubsc data type (see table 5.1.6.2.2-1).
  ---------- ----------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

##### 5.1.5.2.3 Standard Methods

###### 5.1.5.2.3.1 POST

This method shall support the request data structures specified in
table 5.1.5.2.3.1-1 and the response data structures and response codes
specified in table 5.1.5.2.3.1-1.

Table 5.1.5.2.3.1-2: Data structures supported by the POST Request Body
on this resource

  ----------------------- --- ------------- --------------------------------------------
  Data type               P   Cardinality   Description
  NefEventExposureNotif   M   1             Provides Information about observed events
  ----------------------- --- ------------- --------------------------------------------

Table 5.1.5.2.3.1-3: Data structures supported by the POST Response Body
on this resource

+---------------+---+-------------+---------------+---------------+
| Data type     | P | Cardinality | Response      | Description   |
|               |   |             | codes         |               |
+---------------+---+-------------+---------------+---------------+
| n/a           |   |             | 204 No        | The receipt   |
|               |   |             | Content       | of the        |
|               |   |             |               | Notification  |
|               |   |             |               | is            |
|               |   |             |               | acknowledged. |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 307 Temporary | Temporary     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during event  |
|               |   |             |               | notification. |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI           |
|               |   |             |               | representing  |
|               |   |             |               | the end point |
|               |   |             |               | of an         |
|               |   |             |               | alternative   |
|               |   |             |               | NF consumer   |
|               |   |             |               | (service)     |
|               |   |             |               | instance      |
|               |   |             |               | where the     |
|               |   |             |               | notification  |
|               |   |             |               | should be     |
|               |   |             |               | sent.         |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 308 Permanent | Permanent     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during event  |
|               |   |             |               | notification. |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI           |
|               |   |             |               | representing  |
|               |   |             |               | the end point |
|               |   |             |               | of an         |
|               |   |             |               | alternative   |
|               |   |             |               | NF consumer   |
|               |   |             |               | (service)     |
|               |   |             |               | instance      |
|               |   |             |               | where the     |
|               |   |             |               | notification  |
|               |   |             |               | should be     |
|               |   |             |               | sent.         |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| NOTE: The     |   |             |               |               |
| mandatory     |   |             |               |               |
| HTTP error    |   |             |               |               |
| status codes  |   |             |               |               |
| for the POST  |   |             |               |               |
| method listed |   |             |               |               |
| in Table      |   |             |               |               |
| 5.2.7.1-1 of  |   |             |               |               |
| 3GPP TS       |   |             |               |               |
|  29.500 \[4\] |   |             |               |               |
| also apply.   |   |             |               |               |
+---------------+---+-------------+---------------+---------------+

Table 5.1.5.2.3.1-4: Headers supported by the 307 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the notification request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------

Table 5.1.5.2.3.1-5: Headers supported by the 308 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the notification request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------

### 5.1.6 Data Model

#### 5.1.6.1 General

This clause specifies the application data model supported by the API.

Table 5.1.6.1-1 specifies the data types defined for the
Nnef\_EventExposure service based interface protocol.

Table 5.1.6.1-1: Nnef\_EventExposure specific Data Types

  ------------------------ ----------------- ------------- ---------------
  Data type                Section defined   Description   Applicability
  NefEvent                 5.1.6.3.3                       
  NefEventExposureNotif    5.1.6.2.3                       
  NefEventExposureSubsc    5.1.6.2.2                       
  NefEventFilter           5.1.6.2.7                       
  NefEventNotification     5.1.6.2.4                       
  NefEventSubs             5.1.6.2.5                       
  ServiceExperienceInfo    5.1.6.2.9                       
  TargetUeIdentification   5.1.6.2.8                       
  UeCommunicationInfo      5.1.6.2.6                       
  UeMobilityInfo           5.1.6.2.10                      
  UeTrajectoryInfo         5.1.6.2.11                      
  ------------------------ ----------------- ------------- ---------------

Table 5.1.6.1-2 specifies data types re-used by the Nnef\_EventExposure
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Nnef\_EventExposure service based
interface.

Table 5.1.6.1-2: Nnef\_EventExposure re-used Data Types

  ------------------------------ ----------------------- ------------------------------------------- ---------------
  Data type                      Reference               Comments                                    Applicability
  ApplicationId                  3GPP TS 29.571 \[16\]                                               
  ReportingInformation           3GPP TS 29.523 \[22\]                                               
  CommunicationCollection        3GPP TS 29.517 \[18\]                                               
  DateTime                       3GPP TS 29.571 \[16\]                                               
  ExceptionInfo                  3GPP TS 29.517 \[18\]                                               
  GroupId                        3GPP TS 29.571 \[16\]                                               
  NetworkAreaInfo                3GPP TS 29.554 \[21\]                                               
  RedirectResponse               3GPP TS 29.571 \[16\]   Contains redirection related information.   ES3XX
  Supi                           3GPP TS 29.571 \[16\]                                               
  SupportedFeatures              3GPP TS 29.571 \[16\]                                               
  ServiceExperienceInfoPerFlow   3GPP TS 29.517 \[18\]                                               
  UserLocation                   3GPP TS 29.571 \[16\]                                               
  Uri                            3GPP TS 29.571 \[16\]                                               
  ------------------------------ ----------------------- ------------------------------------------- ---------------

#### 5.1.6.2 Structured data types

##### 5.1.6.2.1 Introduction

This clause defines the structures to be used in resource
representations.

##### 5.1.6.2.2 Type: NefEventExposureSubsc

Table 5.1.6.2.2-1: Definition of type NefEventExposureSubsc

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| e         | a         | M | 1..N      | S         |           |
| ventsSubs | rray(NefE |   |           | ubscribed |           |
|           | ventSubs) |   |           | events    |           |
|           |           |   |           | and the   |           |
|           |           |   |           | related   |           |
|           |           |   |           | event     |           |
|           |           |   |           | filters.  |           |
+-----------+-----------+---+-----------+-----------+-----------+
| even      | Re        | O | 0..1      | R         |           |
| tsRepInfo | portingIn |   |           | epresents |           |
|           | formation |   |           | the       |           |
|           |           |   |           | reporting |           |
|           |           |   |           | req       |           |
|           |           |   |           | uirements |           |
|           |           |   |           | of the    |           |
|           |           |   |           | subs      |           |
|           |           |   |           | cription. |           |
|           |           |   |           |           |           |
|           |           |   |           | If        |           |
|           |           |   |           | omitted,  |           |
|           |           |   |           | the       |           |
|           |           |   |           | default   |           |
|           |           |   |           | values    |           |
|           |           |   |           | within    |           |
|           |           |   |           | the       |           |
|           |           |   |           | Re        |           |
|           |           |   |           | portingIn |           |
|           |           |   |           | formation |           |
|           |           |   |           | data type |           |
|           |           |   |           | apply.    |           |
+-----------+-----------+---+-----------+-----------+-----------+
| notifUri  | Uri       | M | 1         | Not       |           |
|           |           |   |           | ification |           |
|           |           |   |           | URI for   |           |
|           |           |   |           | event     |           |
|           |           |   |           | r         |           |
|           |           |   |           | eporting. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| ev        | array(Nef | C | 1..N      | R         |           |
| entNotifs | EventNoti |   |           | epresents |           |
|           | fication) |   |           | the       |           |
|           |           |   |           | Events to |           |
|           |           |   |           | be        |           |
|           |           |   |           | reported. |           |
|           |           |   |           |           |           |
|           |           |   |           | Shall     |           |
|           |           |   |           | only be   |           |
|           |           |   |           | present   |           |
|           |           |   |           | if the    |           |
|           |           |   |           | immediate |           |
|           |           |   |           | reporting |           |
|           |           |   |           | i         |           |
|           |           |   |           | ndication |           |
|           |           |   |           | in the    |           |
|           |           |   |           | \         |           |
|           |           |   |           | "immRep\" |           |
|           |           |   |           | attribute |           |
|           |           |   |           | within    |           |
|           |           |   |           | the       |           |
|           |           |   |           | \"events  |           |
|           |           |   |           | RepInfo\" |           |
|           |           |   |           | attribute |           |
|           |           |   |           | sets to   |           |
|           |           |   |           | true in   |           |
|           |           |   |           | the event |           |
|           |           |   |           | subs      |           |
|           |           |   |           | cription, |           |
|           |           |   |           | and the   |           |
|           |           |   |           | reports   |           |
|           |           |   |           | are       |           |
|           |           |   |           | a         |           |
|           |           |   |           | vailable. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| notifId   | string    | M | 1         | Not       |           |
|           |           |   |           | ification |           |
|           |           |   |           | Co        |           |
|           |           |   |           | rrelation |           |
|           |           |   |           | ID        |           |
|           |           |   |           | assigned  |           |
|           |           |   |           | by the NF |           |
|           |           |   |           | service   |           |
|           |           |   |           | consumer. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| suppFeat  | Supporte  | C | 0..1      | This IE   |           |
|           | dFeatures |   |           | r         |           |
|           |           |   |           | epresents |           |
|           |           |   |           | a list of |           |
|           |           |   |           | Supported |           |
|           |           |   |           | features  |           |
|           |           |   |           | used as   |           |
|           |           |   |           | described |           |
|           |           |   |           | in        |           |
|           |           |   |           | cl        |           |
|           |           |   |           | ause 5.8. |           |
|           |           |   |           |           |           |
|           |           |   |           | Shall be  |           |
|           |           |   |           | present   |           |
|           |           |   |           | in the    |           |
|           |           |   |           | HTTP POST |           |
|           |           |   |           | request/  |           |
|           |           |   |           | response; |           |
|           |           |   |           | or in the |           |
|           |           |   |           | HTTP GET  |           |
|           |           |   |           | response  |           |
|           |           |   |           | if the    |           |
|           |           |   |           | \"su      |           |
|           |           |   |           | pp-feat\" |           |
|           |           |   |           | attribute |           |
|           |           |   |           | query     |           |
|           |           |   |           | parameter |           |
|           |           |   |           | is        |           |
|           |           |   |           | included  |           |
|           |           |   |           | in the    |           |
|           |           |   |           | HTTP GET  |           |
|           |           |   |           | request.  |           |
|           |           |   |           | (NOTE)    |           |
+-----------+-----------+---+-----------+-----------+-----------+
| NOTE: In  |           |   |           |           |           |
| the HTTP  |           |   |           |           |           |
| POST      |           |   |           |           |           |
| request   |           |   |           |           |           |
| it        |           |   |           |           |           |
| r         |           |   |           |           |           |
| epresents |           |   |           |           |           |
| the set   |           |   |           |           |           |
| of NF     |           |   |           |           |           |
| service   |           |   |           |           |           |
| consumer  |           |   |           |           |           |
| supported |           |   |           |           |           |
| features. |           |   |           |           |           |
| In the    |           |   |           |           |           |
| HTTP POST |           |   |           |           |           |
| and GET   |           |   |           |           |           |
| responses |           |   |           |           |           |
| it        |           |   |           |           |           |
| r         |           |   |           |           |           |
| epresents |           |   |           |           |           |
| the set   |           |   |           |           |           |
| of        |           |   |           |           |           |
| features  |           |   |           |           |           |
| supported |           |   |           |           |           |
| by both   |           |   |           |           |           |
| the NF    |           |   |           |           |           |
| service   |           |   |           |           |           |
| consumer  |           |   |           |           |           |
| and the   |           |   |           |           |           |
| NEF.      |           |   |           |           |           |
+-----------+-----------+---+-----------+-----------+-----------+

##### 5.1.6.2.3 Type: NefEventExposureNotif

Table 5.1.6.2.3-1: Definition of type NefEventExposureNotif

  ---------------- ----------------------------- --- ------------- ---------------------------------------------------------------------------------------------------------------------- ---------------
  Attribute name   Data type                     P   Cardinality   Description                                                                                                            Applicability
  notifId          string                        M   1             Notification Correlation ID assigned by the NF service consumer.                                                       
  eventNotifs      array(NefEventNotification)   M   1..N          Represents the Events to be reported according to the subscription corresponding to the Notification Correlation ID.   
  ---------------- ----------------------------- --- ------------- ---------------------------------------------------------------------------------------------------------------------- ---------------

##### 5.1.6.2.4 Type: NefEventNotification

Table 5.1.6.2.4-1: Definition of type NefEventNotification

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| event     | NefEvent  | M | 1         | Reported  |           |
|           |           |   |           | ap        |           |
|           |           |   |           | plication |           |
|           |           |   |           | related   |           |
|           |           |   |           | event.    |           |
+-----------+-----------+---+-----------+-----------+-----------+
| timeStamp | DateTime  | M | 1         | Time at   |           |
|           |           |   |           | which the |           |
|           |           |   |           | event is  |           |
|           |           |   |           | observed. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| svcE      | a         | C | 1..N      | Contains  | ServiceE  |
| xprcInfos | rray(Serv |   |           | the       | xperience |
|           | iceExperi |   |           | service   |           |
|           | enceInfo) |   |           | e         |           |
|           |           |   |           | xperience |           |
|           |           |   |           | inf       |           |
|           |           |   |           | ormation. |           |
|           |           |   |           |           |           |
|           |           |   |           | Shall be  |           |
|           |           |   |           | present   |           |
|           |           |   |           | if the    |           |
|           |           |   |           | \"event\" |           |
|           |           |   |           | attribute |           |
|           |           |   |           | sets to   |           |
|           |           |   |           | \         |           |
|           |           |   |           | "SVC\_EXP |           |
|           |           |   |           | ERIENCE\" |           |
+-----------+-----------+---+-----------+-----------+-----------+
| ueMobi    | arr       | C | 1..N      | Contains  | U         |
| lityInfos | ay(UeMobi |   |           | the UE    | eMobility |
|           | lityInfo) |   |           | mobility  |           |
|           |           |   |           | inf       |           |
|           |           |   |           | ormation. |           |
|           |           |   |           |           |           |
|           |           |   |           | Shall be  |           |
|           |           |   |           | present   |           |
|           |           |   |           | if the    |           |
|           |           |   |           | \"event\" |           |
|           |           |   |           | attribute |           |
|           |           |   |           | sets to   |           |
|           |           |   |           | \"UE\_M   |           |
|           |           |   |           | OBILITY\" |           |
+-----------+-----------+---+-----------+-----------+-----------+
| ue        | array(Ue  | C | 1..N      | Contains  | UeComm    |
| CommInfos | Communica |   |           | the       | unication |
|           | tionInfo) |   |           | ap        |           |
|           |           |   |           | plication |           |
|           |           |   |           | comm      |           |
|           |           |   |           | unication |           |
|           |           |   |           | inf       |           |
|           |           |   |           | ormation. |           |
|           |           |   |           |           |           |
|           |           |   |           | Shall be  |           |
|           |           |   |           | present   |           |
|           |           |   |           | if the    |           |
|           |           |   |           | \"event\" |           |
|           |           |   |           | attribute |           |
|           |           |   |           | sets to   |           |
|           |           |   |           | \"U       |           |
|           |           |   |           | E\_COMM\" |           |
+-----------+-----------+---+-----------+-----------+-----------+
| e         | ar        | C | 1..N      | Each      | E         |
| xcepInfos | ray(Excep |   |           | element   | xceptions |
|           | tionInfo) |   |           | r         |           |
|           |           |   |           | epresents |           |
|           |           |   |           | the       |           |
|           |           |   |           | exception |           |
|           |           |   |           | in        |           |
|           |           |   |           | formation |           |
|           |           |   |           | for a     |           |
|           |           |   |           | service   |           |
|           |           |   |           | flow.     |           |
|           |           |   |           |           |           |
|           |           |   |           | Shall be  |           |
|           |           |   |           | present   |           |
|           |           |   |           | if the    |           |
|           |           |   |           | \"event\" |           |
|           |           |   |           | attribute |           |
|           |           |   |           | sets to   |           |
|           |           |   |           | \"EXCE    |           |
|           |           |   |           | PTIONS\". |           |
+-----------+-----------+---+-----------+-----------+-----------+

##### 5.1.6.2.5 Type NefEventSubs

Table 5.1.6.2.5-1: Definition of type NefEventSubs

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| event     | NefEvent  | M | 1         | S         |           |
|           |           |   |           | ubscribed |           |
|           |           |   |           | event.    |           |
+-----------+-----------+---+-----------+-----------+-----------+
| ev        | NefEv     | C | 0..1      | R         | ServiceE  |
| entFilter | entFilter |   |           | epresents | xperience |
|           |           |   |           | the event |           |
|           |           |   |           | filter    | UeComm    |
|           |           |   |           | in        | unication |
|           |           |   |           | formation |           |
|           |           |   |           | a         | U         |
|           |           |   |           | ssociated | eMobility |
|           |           |   |           | with each |           |
|           |           |   |           | event.    | E         |
|           |           |   |           |           | xceptions |
|           |           |   |           | Shall be  |           |
|           |           |   |           | present   |           |
|           |           |   |           | if        |           |
|           |           |   |           | \"event\" |           |
|           |           |   |           | sets to   |           |
|           |           |   |           | \"        |           |
|           |           |   |           | SVC\_EXPE |           |
|           |           |   |           | RIENCE\", |           |
|           |           |   |           | \"UE\_MO  |           |
|           |           |   |           | BILITY\", |           |
|           |           |   |           | \"U       |           |
|           |           |   |           | E\_COMM\" |           |
|           |           |   |           | or        |           |
|           |           |   |           | \"EXCE    |           |
|           |           |   |           | PTIONS\". |           |
+-----------+-----------+---+-----------+-----------+-----------+

##### 5.1.6.2.6 Type UeCommunicationInfo

Table 5.1.6.2.6-1: Definition of type UeCommunicationInfo

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| supi      | Supi      | C | 0..1      | I         |           |
|           |           |   |           | dentifies |           |
|           |           |   |           | an UE.    |           |
|           |           |   |           |           |           |
|           |           |   |           | Shall be  |           |
|           |           |   |           | present   |           |
|           |           |   |           | if the    |           |
|           |           |   |           | event     |           |
|           |           |   |           | exposure  |           |
|           |           |   |           | request   |           |
|           |           |   |           | applies   |           |
|           |           |   |           | to more   |           |
|           |           |   |           | than one  |           |
|           |           |   |           | UE.       |           |
+-----------+-----------+---+-----------+-----------+-----------+
| int       | GroupId   | O | 0..1      | I         |           |
| erGroupId |           |   |           | dentifies |           |
|           |           |   |           | an UE     |           |
|           |           |   |           | group.    |           |
+-----------+-----------+---+-----------+-----------+-----------+
| appId     | Appl      | O | 0..1      | I         |           |
|           | icationId |   |           | dentifies |           |
|           |           |   |           | an        |           |
|           |           |   |           | ap        |           |
|           |           |   |           | plication |           |
|           |           |   |           | id        |           |
|           |           |   |           | entifier. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| comms     | arr       | M | 1..N      | This      |           |
|           | ay(Commun |   |           | attribute |           |
|           | icationCo |   |           | contains  |           |
|           | llection) |   |           | a list of |           |
|           |           |   |           | comm      |           |
|           |           |   |           | unication |           |
|           |           |   |           | inf       |           |
|           |           |   |           | ormation. |           |
+-----------+-----------+---+-----------+-----------+-----------+

##### 5.1.6.2.7 Type NefEventFilter

Table 5.1.6.2.7-1: Definition of type NefEventFilter

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| tgtUe     | Targ      | M | 1         | R         | (NOTE 1)  |
|           | etUeIdent |   |           | epresents |           |
|           | ification |   |           | the UE    |           |
|           |           |   |           | in        |           |
|           |           |   |           | formation |           |
|           |           |   |           | to which  |           |
|           |           |   |           | the       |           |
|           |           |   |           | request   |           |
|           |           |   |           | applies.  |           |
+-----------+-----------+---+-----------+-----------+-----------+
| appIds    | ar        | C | 1..N      | Each      | ServiceE  |
|           | ray(Appli |   |           | element   | xperience |
|           | cationId) |   |           | indicates |           |
|           |           |   |           | an        | E         |
|           |           |   |           | ap        | xceptions |
|           |           |   |           | plication |           |
|           |           |   |           | id        | UeComm    |
|           |           |   |           | entifier. | unication |
|           |           |   |           |           |           |
|           |           |   |           | If        | U         |
|           |           |   |           | absent,   | eMobility |
|           |           |   |           | the       |           |
|           |           |   |           | NefEv     |           |
|           |           |   |           | entFilter |           |
|           |           |   |           | data      |           |
|           |           |   |           | applies   |           |
|           |           |   |           | to any    |           |
|           |           |   |           | ap        |           |
|           |           |   |           | plication |           |
|           |           |   |           | (i.e. all |           |
|           |           |   |           | appli     |           |
|           |           |   |           | cations). |           |
|           |           |   |           |           |           |
|           |           |   |           | (NOTE 2)  |           |
+-----------+-----------+---+-----------+-----------+-----------+
| locArea   | Networ    | O | 0..1      | R         | ServiceE  |
|           | kAreaInfo |   |           | epresents | xperience |
|           |           |   |           | an area   |           |
|           |           |   |           | of        | E         |
|           |           |   |           | interest. | xceptions |
|           |           |   |           |           |           |
|           |           |   |           |           | UeComm    |
|           |           |   |           |           | unication |
|           |           |   |           |           |           |
|           |           |   |           |           | U         |
|           |           |   |           |           | eMobility |
+-----------+-----------+---+-----------+-----------+-----------+
| NOTE 1:   |           |   |           |           |           |
| Appl      |           |   |           |           |           |
| icability |           |   |           |           |           |
| is        |           |   |           |           |           |
| further   |           |   |           |           |           |
| described |           |   |           |           |           |
| in the    |           |   |           |           |           |
| corr      |           |   |           |           |           |
| esponding |           |   |           |           |           |
| data      |           |   |           |           |           |
| type.     |           |   |           |           |           |
|           |           |   |           |           |           |
| NOTE 2:   |           |   |           |           |           |
| For the   |           |   |           |           |           |
| events    |           |   |           |           |           |
| \"EXCE    |           |   |           |           |           |
| PTIONS\", |           |   |           |           |           |
| \"UE\_M   |           |   |           |           |           |
| OBILITY\" |           |   |           |           |           |
| and       |           |   |           |           |           |
| \"UE      |           |   |           |           |           |
| \_COMM\", |           |   |           |           |           |
| if        |           |   |           |           |           |
| present,  |           |   |           |           |           |
| the       |           |   |           |           |           |
| \         |           |   |           |           |           |
| "appIds\" |           |   |           |           |           |
| attribute |           |   |           |           |           |
| shall     |           |   |           |           |           |
| include   |           |   |           |           |           |
| only one  |           |   |           |           |           |
| element.  |           |   |           |           |           |
+-----------+-----------+---+-----------+-----------+-----------+

##### 5.1.6.2.8 Type TargetUeIdentification

Table 5.1.6.2.8-1: Definition of type TargetUeIdentification

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| supis     | ar        | O | 1..N      | Each      | ServiceE  |
|           | ray(Supi) |   |           | element   | xperience |
|           |           |   |           | i         |           |
|           |           |   |           | dentifies | E         |
|           |           |   |           | a SUPI    | xceptions |
|           |           |   |           | for an    |           |
|           |           |   |           | UE.       | U         |
|           |           |   |           |           | eMobility |
|           |           |   |           |           |           |
|           |           |   |           |           | UeComm    |
|           |           |   |           |           | unication |
+-----------+-----------+---+-----------+-----------+-----------+
| inte      | array     | O | 1..N      | Each      | ServiceE  |
| rGroupIds | (GroupId) |   |           | element   | xperience |
|           |           |   |           | r         |           |
|           |           |   |           | epresents | E         |
|           |           |   |           | an        | xceptions |
|           |           |   |           | internal  |           |
|           |           |   |           | group     | U         |
|           |           |   |           | i         | eMobility |
|           |           |   |           | dentifier |           |
|           |           |   |           | which     | UeComm    |
|           |           |   |           | i         | unication |
|           |           |   |           | dentifies |           |
|           |           |   |           | a group   |           |
|           |           |   |           | of UEs.   |           |
+-----------+-----------+---+-----------+-----------+-----------+
| anyUeId   | boolean   | O | 0..1      | I         | ServiceE  |
|           |           |   |           | dentifies | xperience |
|           |           |   |           | whether   |           |
|           |           |   |           | the       | E         |
|           |           |   |           | request   | xceptions |
|           |           |   |           | applies   |           |
|           |           |   |           | to any    |           |
|           |           |   |           | UE.       |           |
|           |           |   |           |           |           |
|           |           |   |           | This      |           |
|           |           |   |           | attribute |           |
|           |           |   |           | shall set |           |
|           |           |   |           | to        |           |
|           |           |   |           | \"true\"  |           |
|           |           |   |           | if        |           |
|           |           |   |           | a         |           |
|           |           |   |           | pplicable |           |
|           |           |   |           | for any   |           |
|           |           |   |           | UE,       |           |
|           |           |   |           | o         |           |
|           |           |   |           | therwise, |           |
|           |           |   |           | set to    |           |
|           |           |   |           | \         |           |
|           |           |   |           | "false\". |           |
+-----------+-----------+---+-----------+-----------+-----------+
| NOTE: For |           |   |           |           |           |
| an        |           |   |           |           |           |
| a         |           |   |           |           |           |
| pplicable |           |   |           |           |           |
| feature,  |           |   |           |           |           |
| only one  |           |   |           |           |           |
| attribute |           |   |           |           |           |
| id        |           |   |           |           |           |
| entifying |           |   |           |           |           |
| the       |           |   |           |           |           |
| target UE |           |   |           |           |           |
| shall be  |           |   |           |           |           |
| provided. |           |   |           |           |           |
+-----------+-----------+---+-----------+-----------+-----------+

##### 5.1.6.2.9 Type: ServiceExperienceInfo

Table 5.1.6.2.9-1: Definition of type ServiceExperienceInfo

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| appId     | Appl      | C | 0..1      | I         | ServiceE  |
|           | icationId |   |           | dentifies | xperience |
|           |           |   |           | an        |           |
|           |           |   |           | ap        |           |
|           |           |   |           | plication |           |
|           |           |   |           | id        |           |
|           |           |   |           | entifier. |           |
|           |           |   |           |           |           |
|           |           |   |           | Shall be  |           |
|           |           |   |           | present   |           |
|           |           |   |           | if the    |           |
|           |           |   |           | event     |           |
|           |           |   |           | exposure  |           |
|           |           |   |           | service   |           |
|           |           |   |           | request   |           |
|           |           |   |           | applies   |           |
|           |           |   |           | to more   |           |
|           |           |   |           | than one  |           |
|           |           |   |           | app       |           |
|           |           |   |           | lication. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| supis     | ar        | C | 1..N      | Each      | ServiceE  |
|           | ray(Supi) |   |           | element   | xperience |
|           |           |   |           | r         |           |
|           |           |   |           | epresents |           |
|           |           |   |           | the       |           |
|           |           |   |           | internal  |           |
|           |           |   |           | UE        |           |
|           |           |   |           | id        |           |
|           |           |   |           | entifier. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| svcEx     | array(Se  | M | 1..N      | Each      | ServiceE  |
| pPerFlows | rviceExpe |   |           | element   | xperience |
|           | rienceInf |   |           | indicates |           |
|           | oPerFlow) |   |           | service   |           |
|           |           |   |           | e         |           |
|           |           |   |           | xperience |           |
|           |           |   |           | for each  |           |
|           |           |   |           | service   |           |
|           |           |   |           | flow.     |           |
+-----------+-----------+---+-----------+-----------+-----------+

##### 5.1.6.2.10 Type: UeMobilityInfo

Table 5.1.6.2.10-1: Definition of type UeMobilityInfo

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| supi      | Supi      | M | 1         | I         |           |
|           |           |   |           | dentifies |           |
|           |           |   |           | an UE.    |           |
|           |           |   |           |           |           |
|           |           |   |           | Shall be  |           |
|           |           |   |           | present   |           |
|           |           |   |           | if the    |           |
|           |           |   |           | event     |           |
|           |           |   |           | exposure  |           |
|           |           |   |           | request   |           |
|           |           |   |           | applies   |           |
|           |           |   |           | to more   |           |
|           |           |   |           | than one  |           |
|           |           |   |           | UE.       |           |
+-----------+-----------+---+-----------+-----------+-----------+
| appId     | Appl      | O | 0..1      | I         |           |
|           | icationId |   |           | dentifies |           |
|           |           |   |           | an        |           |
|           |           |   |           | ap        |           |
|           |           |   |           | plication |           |
|           |           |   |           | id        |           |
|           |           |   |           | entifier. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| ueTrajs   | array     | M | 1..N      | I         |           |
|           | (UeTrajec |   |           | dentifies |           |
|           | toryInfo) |   |           | an UE     |           |
|           |           |   |           | moving    |           |
|           |           |   |           | tr        |           |
|           |           |   |           | ajectory. |           |
+-----------+-----------+---+-----------+-----------+-----------+

##### 5.1.6.2.11 Type: UeTrajectoryInfo

Table 5.1.6.2.11-1: Definition of type UeTrajectoryInfo

  ---------------- -------------- --- ------------- -------------------------------------------------------- ---------------
  Attribute name   Data type      P   Cardinality   Description                                              Applicability
  ts               DateTime       M   1             Identifies the timestamp when the UE enters this area.   
  location         UserLocation   M   1             Includes the location of the UE.                         
  ---------------- -------------- --- ------------- -------------------------------------------------------- ---------------

#### 5.1.6.3 Simple data types and enumerations

##### 5.1.6.3.1 Introduction

This clause defines simple data types and enumerations that can be
referenced from data structures defined in the previous clauses.

##### 5.1.6.3.2 Simple data types 

The simple data types defined in table 5.1.6.3.2-1 shall be supported.

Table 5.1.6.3.2-1: Simple data types

  ----------- ----------------- ------------- ---------------
  Type Name   Type Definition   Description   Applicability
                                              
  ----------- ----------------- ------------- ---------------

##### 5.1.6.3.3 Enumeration: NefEvent

The enumeration NefEvent represents the observed event requested by the
NF service consumer to be monitored. It shall comply with the provisions
defined in table 5.1.6.3.3-1.

Table 5.1.6.3.3-1: Enumeration NefEvent

  ------------------- -------------------------------------------------------------- -------------------
  Enumeration value   Description                                                    Applicability
  SVC\_EXPERIENCE     Indicates that the observed event is service experience.       ServiceExperience
  UE\_COMM            Indicates that the observed event is UE communication.         UeCommunication
  UE\_MOBILITY        Indicates that the observed event is UE mobility.              UeMobility
  EXCEPTIONS          Indicates that the observed event is exceptions information.   Exceptions
  ------------------- -------------------------------------------------------------- -------------------

### 5.1.7 Error Handling

#### 5.1.7.1 General

For the Nnef\_EventExposure API, HTTP error responses shall be supported
as specified in clause 4.8 of 3GPP TS 29.501 \[5\]. Protocol errors and
application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 \[4\]
shall be supported for an HTTP method if the corresponding HTTP status
codes are specified as mandatory for that HTTP method in table 5.2.7.1-1
of 3GPP TS 29.500 \[4\].

In addition, the requirements in the following clauses are applicable
for the Nnef\_EventExposure API.

#### 5.1.7.2 Protocol Errors

No specific procedures for the Nnef\_EventExposure service are
specified.

#### 5.1.7.3 Application Errors

The application errors defined for the Nnef\_EventExposure service are
listed in Table 5.1.7.3-1.

Table 5.1.7.3-1: Application errors

  ------------------- ------------------ -------------
  Application Error   HTTP status code   Description
                                         
  ------------------- ------------------ -------------

### 5.1.8 Feature negotiation

The optional features in table 5.1.8-1 are defined for the
Nnef\_EventExposure API. They shall be negotiated using the
extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 \[4\].

Table 5.1.8-1: Supported Features

  ---------------- ------------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Feature number   Feature Name        Description
  1                ServiceExperience   This feature indicates support for the \"SVC\_EXPERIENCE\" event.
  2                UeMobility          This feature indicates support for the \"UE\_MOBILITY\" event.
  3                UeCommunication     This feature indicates support for the \"UE\_COMM\" event.
  4                Exceptions          This feature indicates support for the \"EXCEPTIONS\" event.
  5                ES3XX               Extended Support for 3xx redirections. This feature indicates the support of redirection for any service operation, according to Stateless NF procedures as specified in subclauses 6.5.3.2 and 6.5.3.3 of 3GPP TS 29.500 \[4\] and according to HTTP redirection principles for indirect communication, as specified in subclause 6.10.9 of 3GPP TS 29.500 \[4\].
  ---------------- ------------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### 5.1.9 Security

As indicated in 3GPP TS 33.501 \[8\] and 3GPP TS 29.500 \[4\], the
access to the Nnef\_EventExposure API may be authorized by means of the
OAuth2 protocol (see IETF RFC 6749 \[9\]), based on local configuration,
using the \"Client Credentials\" authorization grant, where the NRF (see
3GPP TS 29.510 \[10\]) plays the role of the authorization server.

If OAuth2 is used, an NF Service Consumer, prior to consuming services
offered by the Nnef\_EventExposure API, shall obtain a \"token\" from
the authorization server, by invoking the Access Token Request service,
as described in 3GPP TS 29.510 \[10\], clause 5.4.2.2.

NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used
for discovering the Nnef\_EventExposure service.

The Nnef\_EventExposure API defines a single scope
\"nnef-eventexposure\" for the entire service, and it does not define
any additional scopes at resource or operation level.

######## Annex A (normative): OpenAPI specification

A.1 General 
===========

This Annex specifies the formal definition of the API(s) defined in the
present specification. It consists of OpenAPI 3.0.0 specifications in
YAML format.

This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and
methods within the API(s).

NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not
expressed in the OpenAPI definitions but defined in other parts of the
specification also apply.

Informative copies of the OpenAPI specification files contained in this
3GPP Technical Specification are available on a Git-based repository
that uses the GitLab software version control system (see clause 5B of
the 3GPP TR 21.900 \[7\] and clause 5.3.1 of the 3GPP TS 29.501 \[5\]
for further information).

A.2 Nnef\_EventExposure API
===========================

openapi: 3.0.0

info:

title: Nnef\_EventExposure

version: 1.0.6

description: \|

NEF Event Exposure Service.

© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI,
TTA, TTC).

All rights reserved.

externalDocs:

description: 3GPP TS 29.591 V16.7.0; 5G System; Network Exposure
Function Southbound Services; Stage 3.

url: http://www.3gpp.org/ftp/Specs/archive/29\_series/29.591/

servers:

\- url: \'{apiRoot}/nnef-eventexposure/v1\'

variables:

apiRoot:

default: https://example.com

description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501

security:

\- {}

\- oAuth2ClientCredentials:

\- nnef-eventexposure

paths:

/subscriptions:

post:

summary: subscribe to notifications

operationId: CreateIndividualSubcription

tags:

\- Subscriptions (Collection)

requestBody:

required: true

content:

application/json:

schema:

\$ref: \'\#/components/schemas/NefEventExposureSubsc\'

responses:

\'201\':

description: Success

content:

application/json:

schema:

\$ref: \'\#/components/schemas/NefEventExposureSubsc\'

headers:

Location:

description: \'Contains the URI of the newly created resource, according
to the structure:
{apiRoot}/nnef-eventexposure/\<apiVersion\>/subscriptions/{subscriptionId}\'

required: true

schema:

type: string

\'400\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/400\'

\'401\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/401\'

\'403\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/403\'

\'404\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/404\'

\'411\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/411\'

\'413\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/413\'

\'415\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/415\'

\'429\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/429\'

\'500\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/500\'

\'503\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/503\'

default:

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/default\'

callbacks:

myNotification:

\'{\$request.body\#/notifUri}\':

post:

requestBody:

required: true

content:

application/json:

schema:

\$ref: \'\#/components/schemas/NefEventExposureNotif\'

responses:

\'204\':

description: No Content, Notification was succesfull

\'307\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/307\'

\'308\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/308\'

\'400\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/400\'

\'401\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/401\'

\'403\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/403\'

\'404\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/404\'

\'411\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/411\'

\'413\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/413\'

\'415\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/415\'

\'429\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/429\'

\'500\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/500\'

\'503\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/503\'

default:

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/default\'

/subscriptions/{subscriptionId}:

get:

summary: retrieve subscription

operationId: GetIndividualSubcription

tags:

\- IndividualSubscription (Document)

parameters:

\- name: subscriptionId

in: path

description: Event Subscription ID

required: true

schema:

type: string

\- name: supp-feat

in: query

description: Features supported by the NF service consumer

required: false

schema:

\$ref:
\'TS29571\_CommonData.yaml\#/components/schemas/SupportedFeatures\'

responses:

\'200\':

description: OK. Resource representation is returned

content:

application/json:

schema:

\$ref: \'\#/components/schemas/NefEventExposureSubsc\'

\'307\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/307\'

\'308\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/308\'

\'400\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/400\'

\'401\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/401\'

\'403\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/403\'

\'404\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/404\'

\'406\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/406\'

\'429\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/429\'

\'500\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/500\'

\'503\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/503\'

default:

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/default\'

put:

summary: update subscription

operationId: ReplaceIndividualSubcription

tags:

\- IndividualSubscription (Document)

requestBody:

required: true

content:

application/json:

schema:

\$ref: \'\#/components/schemas/NefEventExposureSubsc\'

parameters:

\- name: subscriptionId

in: path

description: Event Subscription ID

required: true

schema:

type: string

responses:

\'200\':

description: OK. Resource was succesfully modified and representation is
returned

content:

application/json:

schema:

\$ref: \'\#/components/schemas/NefEventExposureSubsc\'

\'204\':

description: No Content. Resource was succesfully modified

\'307\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/307\'

\'308\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/308\'

\'400\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/400\'

\'401\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/401\'

\'403\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/403\'

\'404\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/404\'

\'411\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/411\'

\'413\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/413\'

\'415\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/415\'

\'429\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/429\'

\'500\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/500\'

\'503\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/503\'

default:

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/default\'

delete:

summary: unsubscribe from notifications

operationId: DeleteIndividualSubcription

tags:

\- IndividualSubscription (Document)

parameters:

\- name: subscriptionId

in: path

description: Event Subscription ID

required: true

schema:

type: string

responses:

\'204\':

description: No Content. Resource was succesfully deleted

\'307\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/307\'

\'308\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/308\'

\'400\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/400\'

\'401\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/401\'

\'403\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/403\'

\'404\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/404\'

\'429\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/429\'

\'500\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/500\'

\'503\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/503\'

default:

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/default\'

components:

securitySchemes:

oAuth2ClientCredentials:

type: oauth2

flows:

clientCredentials:

tokenUrl: \'{nrfApiRoot}/oauth2/token\'

scopes:

nnef-eventexposure: Access to the Nnef\_EventExposure API

schemas:

NefEventExposureSubsc:

type: object

properties:

eventsSubs:

type: array

items:

\$ref: \'\#/components/schemas/NefEventSubs\'

minItems: 1

eventsRepInfo:

\$ref:
\'TS29523\_Npcf\_EventExposure.yaml\#/components/schemas/ReportingInformation\'

notifUri:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Uri\'

notifId:

type: string

eventNotifs:

type: array

items:

\$ref: \'\#/components/schemas/NefEventNotification\'

minItems: 1

suppFeat:

\$ref:
\'TS29571\_CommonData.yaml\#/components/schemas/SupportedFeatures\'

required:

\- eventsSubs

\- notifId

\- notifUri

NefEventExposureNotif:

type: object

properties:

notifId:

type: string

eventNotifs:

type: array

items:

\$ref: \'\#/components/schemas/NefEventNotification\'

minItems: 1

required:

\- notifId

\- eventNotifs

NefEventNotification:

type: object

properties:

event:

\$ref: \'\#/components/schemas/NefEvent\'

timeStamp:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/DateTime\'

svcExprcInfos:

type: array

items:

\$ref: \'\#/components/schemas/ServiceExperienceInfo\'

minItems: 1

ueMobilityInfos:

type: array

items:

\$ref: \'\#/components/schemas/UeMobilityInfo\'

minItems: 1

ueCommInfos:

type: array

items:

\$ref: \'\#/components/schemas/UeCommunicationInfo\'

minItems: 1

excepInfos:

type: array

items:

\$ref:
\'TS29517\_Naf\_EventExposure.yaml\#/components/schemas/ExceptionInfo\'

minItems: 1

required:

\- event

\- timeStamp

NefEventSubs:

type: object

properties:

event:

\$ref: \'\#/components/schemas/NefEvent\'

eventFilter:

\$ref: \'\#/components/schemas/NefEventFilter\'

required:

\- event

NefEventFilter:

type: object

properties:

tgtUe:

\$ref: \'\#/components/schemas/TargetUeIdentification\'

appIds:

type: array

items:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/ApplicationId\'

minItems: 1

locArea:

\$ref:
\'TS29554\_Npcf\_BDTPolicyControl.yaml\#/components/schemas/NetworkAreaInfo\'

required:

\- tgtUe

TargetUeIdentification:

type: object

properties:

supis:

type: array

items:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Supi\'

minItems: 1

interGroupIds:

type: array

items:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/GroupId\'

minItems: 1

anyUeId:

type: boolean

ServiceExperienceInfo:

type: object

properties:

appId:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/ApplicationId\'

supis:

type: array

items:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Supi\'

minItems: 1

svcExpPerFlows:

type: array

items:

\$ref:
\'TS29517\_Naf\_EventExposure.yaml\#/components/schemas/ServiceExperienceInfoPerFlow\'

minItems: 1

required:

\- svcExpPerFlows

UeMobilityInfo:

type: object

properties:

supi:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Supi\'

appId:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/ApplicationId\'

ueTrajs:

type: array

items:

\$ref: \'\#/components/schemas/UeTrajectoryInfo\'

minItems: 1

required:

\- supi

\- ueTrajs

UeCommunicationInfo:

type: object

properties:

supi:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Supi\'

interGroupId:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/GroupId\'

appId:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/ApplicationId\'

comms:

type: array

items:

\$ref:
\'TS29517\_Naf\_EventExposure.yaml\#/components/schemas/CommunicationCollection\'

minItems: 1

required:

\- comms

UeTrajectoryInfo:

type: object

properties:

ts:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/DateTime\'

location:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/UserLocation\'

required:

\- ts

\- location

\# Simple data types and Enumerations

NefEvent:

anyOf:

\- type: string

enum:

\- SVC\_EXPERIENCE

\- UE\_MOBILITY

\- UE\_COMM

\- EXCEPTIONS

\- type: string

######## Annex B (informative): Change history

  -------------------- ------------- ----------- -------- --------- --------- -------------------------------------------------------------------------------------------------------------------- -----------------
  **Change history**                                                                                                                                                                               
  **Date**             **Meeting**   **TDoc**    **CR**   **Rev**   **Cat**   **Subject/Comment**                                                                                                  **New version**
  2019-10              CT3\#106                                               TS Skeleton                                                                                                          0.0.0
  2019-10              CT3\#106      C3-194392                                Removed some subclauses and editorial changes                                                                        0.1.0
  2019-10              CT3\#106                                               Inclusion of C3-194271, C3-194396, C3-194397 and C3-194399.                                                          0.2.0
  2019-11              CT3\#107                                               Inclusion of C3-195234, C3-195235, C3-195236 and C3-195274.                                                          0.3.0
  2020-02              CT3\#108e                                              Inclusion of C3-201284, C3-201288, C3-201367, C3-201368, C3-201370, C3-201407, C3-201409, C3-201413 and C3-201516.   0.4.0
  2020-03              CT\#87e       CP-200187                                TS sent to plenary for approval                                                                                      1.0.0
  2020-03              CT\#87e       CP-200187                                TS approved by plenary                                                                                               16.0.0
  2020-06              CT\#88e       CP-201234   0001     1         F         Correction on resource usage                                                                                         16.1.0
  2020-06              CT\#88e       CP-201234   0002               F         Data type used during event subscription                                                                             16.1.0
  2020-06              CT\#88e       CP-201234   0007     1         F         Correction to service operation description                                                                          16.1.0
  2020-06              CT\#88e       CP-201244   0008     1         F         Storage of YAML files in ETSI Forge                                                                                  16.1.0
  2020-06              CT\#88e       CP-201210   0009     1         F         Removal of Ninef\_EventExposure service                                                                              16.1.0
  2020-06              CT\#88e       CP-201256   0011     1         F         URI of the Nnef\_EventExposure service                                                                               16.1.0
  2020-06              CT\#88e       CP-201234   0012               F         Event Reporting Information data usage                                                                               16.1.0
  2020-06              CT\#88e       CP-201234   0013               F         Support of immediate reporting                                                                                       16.1.0
  2020-06              CT\#88e       CP-201234   0014               F         Supported features definition                                                                                        16.1.0
  2020-06              CT\#88e       CP-201234   0015               F         Correction on the ueCommInfos                                                                                        16.1.0
  2020-06              CT\#88e       CP-201234   0016               F         Applicabilities for UE communication                                                                                 16.1.0
  2020-06              CT\#88e       CP-201234   0017     1         F         Supported headers, Resource Data type and yaml mapping                                                               16.1.0
  2020-06              CT\#88e       CP-201255   0018               F         Update of OpenAPI version and TS version in externalDocs field                                                       16.1.0
  2020-09              CT\#89e       CP-202066   0019     1         F         Defalt value for eventsRepInfo attribute                                                                             16.2.0
  2020-09              CT\#89e       CP-202066   0022               F         Missed response code                                                                                                 16.2.0
  2020-09              CT\#89e       CP-202066   0023               F         Applicabilities of appIds and locArea                                                                                16.2.0
  2020-09              CT\#89e       CP-202084   0024               F         Update of OpenAPI version and TS version in externalDocs field                                                       16.2.0
  2020-12              CT\#90e       CP-203139   0025     1         F         Essential Corrections and alignments                                                                                 16.3.0
  2020-12              CT\#90e       CP-203139   0026               F         Storage of YAML files in 3GPP Forge                                                                                  16.3.0
  2020-12              CT\#90e       CP-203139   0028     1         F         Callback URI correction                                                                                              16.3.0
  2020-12              CT\#90e       CP-203152   0030               F         Update of OpenAPI version and TS version in externalDocs field                                                       16.3.0
  2021-03              CT\#91e       CP-210191   0031               F         Support Stateless NFs                                                                                                16.4.0
  2021-03              CT\#91e       CP-210206   0039               F         Resource URI correction                                                                                              16.4.0
  2021-03              CT\#91e       CP-210239   0041               F         Update of OpenAPI version and TS version in externalDocs field                                                       16.4.0
  2021-06              CT\#92e       CP-211220   0045     1         F         Presence condition of eventsRepInfo attribute                                                                        16.5.0
  2021-06              CT\#92e       CP-211200   0047     1         F         Redirection responses                                                                                                16.5.0
  2021-06              CT\#92e       CP-211264   0050               F         Update of OpenAPI version and TS version in externalDocs field                                                       16.5.0
  2021-09              CT\#93e       CP-212222   0056               F         Update of OpenAPI version and TS version in externalDocs field                                                       16.6.0
  2022-03              CT\#95e       CP-220177   0076               F         Update of info and externalDocs fields                                                                               16.7.0
  -------------------- ------------- ----------- -------- --------- --------- -------------------------------------------------------------------------------------------------------------------- -----------------
