![](media/image1.jpeg){width="7.0875in" height="3.4229166666666666in"}

 

Contents
========

[5](#foreword)

[6](#scope)

[6](#references)

[7](#definitions-and-abbreviations)

[7](#definitions)

[7](#abbreviations)

[8](#background-data-transfer-policy-control-service)

[8](#service-description)

[8](#overview)

[8](#service-architecture)

[9](#network-functions)

[9](#policy-control-function-pcf)

[9](#nf-service-consumers)

[9](#service-operations)

[9](#introduction)

[10](#npcf_bdtpolicycontrol_create-service-operation)

[10](#general)

[10](#retrieval-of-bdt-policies)

[12](#npcf_bdtpolicycontrol_update-service-operation)

[12](#general-1)

[12](#indication-about-selected-transfer-policy)

[13](#modification-of-bdt-warning-notification-request-indication)

[13](#npcf_bdtpolicycontrol_notify-service-operation)

[13](#general-2)

[13](#sending-the-bdt-warning-notification)

[15](#npcf_bdtpolicycontrol-api)

[15](#introduction-1)

[15](#usage-of-http)

[15](#general-3)

[15](#http-standard-headers)

[15](#general-4)

[15](#content-type)

[16](#http-custom-headers)

[16](#resources)

[16](#resource-structure)

[16](#resource-bdt-policies-collection)

[16](#description)

[16](#resource-definition)

[17](#resource-standard-methods)

[17](#post)

[17](#resource-custom-operations)

[18](#resource-individual-bdt-policy-document)

[18](#description-1)

[18](#resource-definition-1)

[18](#resource-standard-methods-1)

[18](#get)

[19](#patch)

[20](#custom-operations-without-associated-resources)

[20](#notifications)

[20](#general-5)

[21](#bdt-notification)

[21](#description-2)

[21](#target-uri)

[21](#standard-methods)

[21](#post-1)

[22](#data-model)

[22](#general-6)

[23](#structured-data-types)

[23](#introduction-2)

[23](#type-bdtpolicy)

[24](#type-bdtreqdata)

[25](#type-bdtpolicydata)

[25](#type-transferpolicy)

[25](#type-bdtpolicydatapatch)

[26](#void)

[26](#type-networkareainfo)

[26](#void-1)

[26](#type-notification)

[26](#type-patchbdtpolicy)

[27](#type-bdtreqdatapatch)

[27](#simple-data-types-and-enumerations)

[27](#introduction-3)

[27](#simple-data-types)

[27](#error-handling)

[27](#general-7)

[27](#protocol-errors)

[27](#application-errors)

[28](#feature-negotiation)

[28](#security)

[29](#annex-a-normative-openapi-specification)

[29](#a.1-general)

[29](#a.2-npcf_bdtpolicycontrol-api)

[36](#annex-b-informative-change-history)Foreword 1 Scope 2 References 3
Definitions and abbreviations 3.1 Definitions 3.2 Abbreviations 4
Background Data Transfer Policy Control Service 4.1 Service Description
4.1.1 Overview 4.1.2 Service Architecture 4.1.3 Network Functions
4.1.3.1 Policy Control Function (PCF) 4.1.3.2 NF Service Consumers 4.2
Service Operations 4.2.1 Introduction 4.2.2
Npcf\_BDTPolicyControl\_Create service operation 4.2.2.1 General 4.2.2.2
Retrieval of BDT policies 4.2.3 Npcf\_BDTPolicyControl\_Update service
operation 4.2.3.1 General 4.2.3.2 Indication about selected transfer
policy 4.2.3.3 Modification of BDT warning notification request
indication 4.2.4 Npcf\_BDTPolicyControl\_Notify service operation
4.2.4.1 General 4.2.4.2 Sending the BDT warning notification 5
Npcf\_BDTPolicyControl API 5.1 Introduction 5.2 Usage of HTTP 5.2.1
General 5.2.2 HTTP standard headers 5.2.2.1 General 5.2.2.2 Content type
5.2.3 HTTP custom headers 5.3 Resources 5.3.1 Resource Structure 5.3.2
Resource: BDT policies (Collection) 5.3.2.1 Description 5.3.2.2 Resource
definition 5.3.2.3 Resource Standard Methods 5.3.2.3.1 POST 5.3.2.4
Resource Custom Operations 5.3.3 Resource: Individual BDT policy
(Document) 5.3.3.1 Description 5.3.3.2 Resource definition 5.3.3.3
Resource Standard Methods 5.3.3.3.1 GET 5.3.3.3.2 PATCH 5.4 Custom
Operations without associated resources 5.5 Notifications 5.5.1 General
5.5.2 BDT Notification 5.5.2.1 Description 5.5.2.2 Target URI 5.5.2.3
Standard Methods 5.5.2.3.1 POST 5.6 Data Model 5.6.1 General 5.6.2
Structured data types 5.6.2.1 Introduction 5.6.2.2 Type BdtPolicy
5.6.2.3 Type BdtReqData 5.6.2.4 Type BdtPolicyData 5.6.2.5 Type
TransferPolicy 5.6.2.6 Type BdtPolicyDataPatch 5.6.2.7 Void 5.6.2.8 Type
NetworkAreaInfo 5.6.2.9 Void 5.6.2.10 Type Notification 5.6.2.11 Type
PatchBdtPolicy 5.6.2.12 Type BdtReqDataPatch 5.6.3 Simple data types and
enumerations 5.6.3.1 Introduction 5.6.3.2 Simple data types 5.7 Error
handling 5.7.1 General 5.7.2 Protocol Errors 5.7.3 Application Errors
5.8 Feature negotiation 5.9 Security Annex A (normative): OpenAPI
specification A.1 General A.2 Npcf\_BDTPolicyControl API Annex B
(informative): Change history

Foreword
========

This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).

The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:

Version x.y.z

where:

x the first digit:

1 presented to TSG for information;

2 presented to TSG for approval;

3 or greater indicates TSG approved document under change control.

y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.

z the third digit is incremented when editorial only changes have been
incorporated in the document.

1 Scope
=======

The present specification provides the stage 3 definition of the
Background Data Transfer (BDT) Policy Control Service
(Npcf\_BDTPolicyControl) of the 5G System.

The 5G System Architecture is defined in 3GPP TS 23.501 \[2\]. The stage
2 definition and related procedures for BDT Policy Control Service are
specified in 3GPP TS 23.502 \[3\] and 3GPP TS 23.503 \[4\].

The 5G System stage 3 call flows are provided in 3GPP TS 29.513 \[5\].

The Technical Realization of the Service Based Architecture and the
Principles and Guidelines for Services Definition are specified in
3GPP TS 29.500 \[6\] and 3GPP TS 29.501 \[7\].

The Policy Control Function (PCF) provides the BDT Policy Control
Service. This service provides background data transfer policy
negotiation function.

2 References
============

The following documents contain provisions which, through reference in
this text, constitute provisions of the present document.

\- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.

\- For a specific reference, subsequent revisions do not apply.

\- For a non-specific reference, the latest version applies. In the case
of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document *in the same Release as the present document*.

\[1\] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".

\[2\] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage
2\".

\[3\] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".

\[4\] 3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G
System; Stage 2\".

\[5\] 3GPP TS 29.513: \"5G System; Policy and Charging Control
signalling flows and QoS parameter mapping; Stage 3\".

\[6\] 3GPP TS 29.500: \"5G System; Technical Realization of Service
Based Architecture; Stage 3\".

\[7\] 3GPP TS 29.501: \"5G System; Principles and Guidelines for
Services Definition; Stage 3\".

\[8\] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".

\[9\] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data
Interchange Format\".

\[10\] OpenAPI: \"OpenAPI 3.0.0 Specification\",
<https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md>.

\[11\] 3GPP TS 29.504: \"5G System; Unified Data Repository Services;
Stage 3\".

\[12\] 3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository
service for Policy Data, Application Data and Structured Data for
exposure; Stage 3\".

\[13\] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".

\[14\] 3GPP TS 29.122: \"**T8 reference point for Northbound APIs**\".

\[15\] IETF RFC 7396: \"JSON Merge Patch\".

\[16\] IETF RFC 3986: \"Uniform Resource Identifier (URI): Generic
Syntax\".

\[17\] IETF RFC 7807: \"Problem Details for HTTP APIs\".

\[18\] 3GPP TS 33.501: \"Security architecture and procedures for 5G
system\".

\[19\] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".

\[20\] 3GPP TS 29.510: \"5G System; Network Function Repository
Services; Stage 3\".

\[21\] 3GPP TR 21.900: \"Technical Specification Group working
methods\".

\[22\] 3GPP TS 29.520: \"5G System; Network Data Analytics Services;
Stage 3\".

3 Definitions and abbreviations
===============================

3.1 Definitions
---------------

For the purposes of the present document, the terms and definitions
given in 3GPP TR 21.905 \[1\] and the following apply. A term defined in
the present document takes precedence over the definition of the same
term, if any, in 3GPP TR 21.905 \[1\].

**Background data transfer:** feature that enables a 3rd party service
provider to keep their costs lower by favouring time windows for data
transfer to specific UEs in a geographical area during non-busy hours
that are less costly and able to handle larger bitrates.

For the purposes of the present document, the following terms and
definitions given in 3GPP TS 23.501 \[2\], subclause 3.1 apply:

**5G System**

**Network Function**

**NF service**

**NF service operation**

**Service based interface**

3.2 Abbreviations
-----------------

For the purposes of the present document, the abbreviations given in
3GPP TR 21.905 \[1\] and the following apply. An abbreviation defined in
the present document takes precedence over the definition of the same
abbreviation, if any, in 3GPP TR 21.905 \[1\].

AF Application Function

ASP Application Service Provider

BDT Background Data Transfer

DNN Data Network Name

JSON JavaScript Object Notation

NEF Network Exposure Function

NG-RAN Next Generation - Radio Access Network

NRF Network Repository Function

NWDAF Network Data Analytics Function

PCF Policy Control Function

SBI Service Based Interface

S-NSSAI Single Network Slice Selection Assistance Information

TAI Tracking Area Identity

UDR Unified Data Repository

4 Background Data Transfer Policy Control Service
=================================================

4.1 Service Description
-----------------------

### 4.1.1 Overview

The BDT Policy Control Service, as defined in 3GPP TS 23.502 \[3\] and
3GPP TS 23.503 \[4\], is provided by the Policy Control Function (PCF).

This service enables the NF service consumer to negotiate policy for a
future background data transfer and offers the following
functionalities:

\- get background data transfer policies based on the request from the
NEF;

\- update background data transfer policies based on the selection
provided by the NEF; and

\- provide background data transfer warning notification to trigger
renegotiation of background data transfer policy.

### 4.1.2 Service Architecture

The 5G System Architecture is defined in 3GPP TS 23.501 \[2\]. The
Policy and Charging related 5G architecture is also described in
3GPP TS 29.513 \[5\].

The BDT Policy Control Service (Npcf\_BDTPolicyControl) is part of the
Npcf service-based interface exhibited by the Policy Control Function
(PCF).

The only known NF service consumer of the Npcf\_BDTPolicyControl service
is the Network Exposure Function (NEF).

The NEF accesses the BDT Policy Control Service at the PCF via the N30
Reference point. In the roaming scenario, the N30 reference point is
located between the PCF and the NEF in the home network only.

Figure 4.1.2-1: Reference Architecture for the Npcf\_BDTPolicyControl
Service; SBI representation

Figure 4.1.2-2: Reference Architecture for the Npcf\_BDTPolicyControl
Service; reference point representation

### 4.1.3 Network Functions

#### 4.1.3.1 Policy Control Function (PCF)

The Policy Control Function (PCF):

\- Provides background data transfer policies based on the request from
the NEF. The PCF determines, based on information provided by the NEF
and other available information (e.g. network policy, load status
estimation for the requested time window, network area, etc.) one or
more transfer policies.

\- Updates background data transfer policy based on the selection
provided by the NEF.

\- Sends the background data transfer warning notification to the NEF.

#### 4.1.3.2 NF Service Consumers

The Network Exposure Function (NEF):

\- requests the PCF to provide background data transfer policies;

\- provides the selected background data transfer policy to the PCF; and

\- indicates to the PCF whether to provide a BDT warning notification.

4.2 Service Operations
----------------------

### 4.2.1 Introduction

Table 4.2.1-1: Operations of the Npcf\_BDTPolicyControl Service

  -------------------------------- ----------------------------------------------------------------------------------------------- ---------------------------
  Service operation name           Description                                                                                     Initiated by
  Npcf\_BDTPolicyControl\_Create   Provides the requested background data transfer policies to the NF service consumer.            NF service consumer (NEF)
  Npcf\_BDTPolicyControl\_Update   Updates the PCF with the background data transfer policy selected by the NF service consumer.   NF service consumer (NEF)
  Npcf\_BDTPolicyControl\_Notify   Sends the BDT notification to the NF service consumer.                                          PCF
  -------------------------------- ----------------------------------------------------------------------------------------------- ---------------------------

### 4.2.2 Npcf\_BDTPolicyControl\_Create service operation

#### 4.2.2.1 General

The Npcf\_BDTPolicyControl\_Create service operation is used by an NF
service consumer to retrieve BDT policies from the PCF.

The following procedure using the Npcf\_BDTPolicyControl\_Create service
operation is supported:

\- retrieval of BDT policies.

#### 4.2.2.2 Retrieval of BDT policies

This procedure is used by the NEF to request BDT policies from the PCF,
as defined in 3GPP TS 23.501 \[2\], 3GPP TS 23.502 \[3\] and
3GPP TS 23.503 \[4\].

Figure 4.2.2.2-1 illustrates a retrieval of BDT policies.

Figure 4.2.2.2-1: Retrieval of BDT policies

Upon reception of a Background Data Transfer request from the AF
indicating a transfer policy request, the NEF shall invoke the
Npcf\_BDTPolicyControl\_Create service operation by sending an HTTP POST
request to the URI representing a \"BDT policies\" collection resource
of the PCF (as shown in figure 4.2.2.2-1, step 1). The NEF shall include
a \"BdtReqData\" data type in a payload body of the HTTP POST request.
The \"BdtReqData\" data type shall contain:

\- an ASP identifier in the \"aspId\" attribute;

\- a volume of data per UE in the \"volPerUe\" attribute;

\- an expected number of UEs in the \"numOfUes\" attribute;

\- a desired time window in the \"desTimeInt\" attribute; and

\- if \"BdtNotification\_5G\" feature is supported a notification URI in
the \"notifUri\" attribute,

and may include:

\- a network area information (e.g. list of TAIs and/or NG-RAN nodes
and/or cells identifiers) in the \"nwAreaInfo\" attribute;

\- an identification of a group of UE(s) via an \"interGroupId\"
attribute;

\- a traffic descriptor of background data within the \"trafficDes\"
attribute;

\- if \"BdtNotification\_5G\" feature is supported an indication that
BDT warning notification is requested in the \"warnNotifReq\" attribute;
and

\- a DNN and an S-NSSAI, corresponding to the ASP identifier, in the
\"dnn\" attribute and the \"snssai\" attribute respectively.

If the PCF cannot successfully fulfil the received HTTP POST request due
to the internal PCF error or due to the error in the HTTP POST request,
the PCF shall send the HTTP error response as specified in
subclause 5.7.

Otherwise, upon the reception of the HTTP POST request from the NEF
indicating a BDT policies request, the PCF:

\- may invoke the Nudr\_DataRepository\_Query service operation, as
described in 3GPP TS 29.504 \[11\] and 3GPP TS 29.519 \[12\], to request
from the UDR all stored transfer policies;

NOTE 1: In case only one PCF is deployed in the network, transfer
policies can be locally stored in the PCF and the interaction with the
UDR is not required.

\- shall determine one or more acceptable transfer policies based on:

a\) information provided by the NEF; and

b\) other available information (e.g. the existing transfer policies,
network policy, load status estimation for the desired time window); and

\- shall create a BDT Reference ID.

The PCF shall send to the NEF a \"201 Created\" response to the HTTP
POST request, as shown in figure 4.2.2.2-1, step 2. The PCF shall
include in the \"201 Created\" response:

\- a Location header field; and

\- a \"BdtPolicy\" data type in the payload body containing the BDT
Reference ID in the \"bdtRefId\" attribute and acceptable transfer
policy/ies in the \"transfPolicies\" attribute.

The Location header field shall contain the URI of the created
individual BDT policy resource i.e.
\"{apiRoot}/npcf-bdtpolicycontrol/v1/bdtpolicies/{bdtPolicyId}\".

For each included transfer policy, the PCF shall provide:

\- a transfer policy ID in the \"transPolicyId\" attribute;

\- a recommended time window in the \"recTimeInt\" attribute; and

\- a reference to charging rate for the recommended time window in the
\"ratingGroup\" attribute,

and may provide a maximum aggregated bitrate for the uplink direction in
the \"maxBitRateUl\" attribute and/or a maximum aggregated bitrate for
the downlink direction in the \"maxBitRateDl\" attribute.

If the BdtNotification\_5G feature is supported the PCF shall not assign
value \"0\" for any transfer policy ID.

NOTE 2: As specified in subclause 4.2.3.2, value \"0\" of transfer
policy ID is reserved and indicates that no transfer policy is selected.

The PCF may map the ASP identifier into a target DNN and S-NSSAI based
on local configuration if the NEF did not provide the DNN and S-NSAAI to
the PCF.

If the PCF included in the \"BdtPolicy\" data type:

\- more than one transfer policy, the PCF shall wait for the transfer
policy selected by the NEF as described in subclause 4.2.3; or

\- only one transfer policy, the PCF may invoke the
Nudr\_DataRepository\_Update service operation, as described in
3GPP TS 29.504 \[11\] and 3GPP TS 29.519 \[12\] subclause 5.2.9.3.2, to
update the UDR with the selected transfer policy, the corresponding BDT
Reference ID, the volume of data per UE, the expected number of UEs and,
if available, a network area information, the associated DNN and S-NSSAI
for the provided ASP identifier.

NOTE 3: In case only one PCF is deployed in the network, transfer
policies can be locally stored in the PCF and the interaction with the
UDR is not required.

### 4.2.3 Npcf\_BDTPolicyControl\_Update service operation

#### 4.2.3.1 General

The Npcf\_BDTPolicyControl\_Update service operation is used by an NF
service consumer to update a BDT policy to the PCF.

The following procedure using the Npcf\_BDTPolicyControl\_Update service
operation are supported:

\- indication about selected transfer policy; and

\- modification of a BDT warning notification request indication.

#### 4.2.3.2 Indication about selected transfer policy

When the feature \"PatchCorrection\" is supported, this procedure is
used by the NEF to inform the PCF about selected transfer policy, as
defined in 3GPP TS 23.501 \[2\], 3GPP TS 23.502 \[3\] and
3GPP TS 23.503 \[4\], if the AF selected the transfer policy from the
received transfer policy list after:

\- retrieval of the BDT policies as described in subclause 4.2.2; or

\- reception of the BDT warning notification as described in
subclause 4.2.4.

Figure 4.2.3.2-1 illustrates an indication about selected transfer
policy.

Figure 4.2.3.2-1: Indication about selected transfer policy

Upon reception of a Background Data Transfer request from the AF
indicating transfer policy selection, the NEF shall invoke the
Npcf\_BDTPolicyControl\_Update service operation by sending an HTTP
PATCH request to the PCF, as shown in figure 4.2.3.2-1, step 1. The NEF
shall set the request URI to
\"{apiRoot}/npcf-bdtpolicycontrol/v1/bdtpolicies/{bdtPolicyId}\".

The NEF shall include a \"PatchBdtPolicy\" data type in a payload body
of the HTTP PATCH request. When the AF selects a transfer policy, the
\"PatchBdtPolicy\" data type shall contain a \"bdtPolData\" attribute
which shall encode the transfer policy ID of the selected transfer
policy in the \"selTransPolicyId\" attribute. In the case of transfer
policy re-negotiation and if the BdtNotification\_5G feature is
supported and the AF did not select any transfer policy, the NEF shall
set the \"selTransPolicyId\" attribute to value \"0\" to indicate no
transfer policy is selected.

If the PCF cannot successfully fulfil the received HTTP PATCH request
due to the internal PCF error or due to the error in the HTTP PATCH
request, the PCF shall send the HTTP error response as specified in
subclause 5.7.

If the feature \"ES3XX\" is supported, and the PCF determines the
received HTTP PATCH request needs to be redirected, the PCF shall send
an HTTP redirect response as specified in subclause 6.10.9 of
3GPP TS 29.500 \[6\].

Otherwise, upon the reception of the HTTP PATCH request from the NEF,
the PCF:

\- in case of the initial transfer policy negotiation may invoke the
Nudr\_DataRepository\_Update service operation, as described in
3GPP TS 29.504 \[11\] and 3GPP TS 29.519 \[12\] subclause 5.2.9.3.2, to
update the UDR with the selected transfer policy, the corresponding BDT
Reference ID, the volume of data per UE, the expected number of UEs and,
if available, a network area information, the associated DNN and S-NSSAI
for the provided ASP identifier; or

\- in case of transfer policy re-negotiation may invoke:

a\) if a transfer policy is selected the Nudr\_DataRepository\_Update
service operation, as described in 3GPP TS 29.504 \[11\] and
3GPP TS 29.519 \[12\] subclause 5.2.9.3.4, to update the UDR with the
selected candidate transfer policy and set the \"bdtpStatus\" attribute
to value \"VALID\" within the BdtDataPatch data type; or

b\) if no transfer policy is selected the Nudr\_DataRepository\_Delete
service operation, as described in 3GPP TS 29.504 \[11\] and
3GPP TS 29.519 \[12\] subclause 5.2.9.3.3, to remove the transfer policy
from the UDR; and

NOTE: In case only one PCF is deployed in the network, transfer policies
can be locally stored in the PCF and the interaction with the UDR is not
required.

\- shall send:

a\) a \"204 No Content\" response (as shown in figure 4.2.3.2-1,
step 2a); or

b\) a \"200 OK\" response (as shown in figure 4.2.3.2-1, step 2b) with a
\"BdtPolicy\" data type in the payload body,

to the HTTP PATCH request to the NEF.

#### 4.2.3.3 Modification of BDT warning notification request indication

This procedure is used by an AF to modify a BDT warning notification
request indication when the feature \"BdtNotification\_5G\" and the
feature \"PatchCorrection\" are supported.

Upon reception of a request from the AF to modify the BDT warning
notification request indication, the NEF shall invoke the
Npcf\_BDTPolicyControl\_Update service operation by sending an HTTP
PATCH request to the PCF, as described in subclause 4.2.3.2. The NEF
shall indicate whether a BDT warning notification shall be enabled or
disabled by including the \"warnNotifReq\" attribute in the
\"bdtReqData\" attribute of the \"PatchBdtPolicy\" data type.

If the BDT warning notification is not required anymore the NEF shall
set the value of the \"warnNotifReq\" attribute to \"false\".

If the BDT warning notification is again required the NEF shall set the
value of the \"warnNotifReq\" attribute to \"true\".

Upon the reception of the HTTP PATCH request from the NEF indicating a
modification of the BDT warning notification request indication, the PCF
shall acknowledge that request by sending an HTTP response message as
described in subclause 4.2.3.2.

### 4.2.4 Npcf\_BDTPolicyControl\_Notify service operation

#### 4.2.4.1 General

The Npcf\_BDTPolicyControl\_Notify service operation is used by the PCF
to send the BDT notification to the NF service consumer.

The following procedure using the Npcf\_BDTPolicyControl\_Notify service
operation is supported:

\- sending the BDT warning notification to the NF service consumer.

#### 4.2.4.2 Sending the BDT warning notification

This procedure is used by the PCF to inform the NF service consumer that
network performance in the area of interest goes below the criteria set
by the operator, as defined in subclause 6.1.2.4 of
3GPP TS 23.503 \[4\].

Figure 4.2.4.2-1 illustrates a BDT warning notification from the PCF.

Figure 4.2.4.2-1: BDT warning notification

When the PCF knows that the network performance in the area of interest
goes below the criteria set by the operator from the NWDAF as described
in 3GPP TS 29.520 \[22\] and if the BDT warning notification is enabled,
the PCF may try to re-negotiate the affected BDT policies with the
affected AFs. To do this, the PCF retrieves all the background transfer
policies together with their additionally stored AF provided information
for BDT policy decision (e.g. their corresponding desired time window,
the number of UEs, the volume of data per UE, etc.) from the UDR,
identifies the BDT policy(ies) that are not desirable anymore due to the
degradation of the network performance and tries to calculate one or
more new candidate BDT policies based on the AF provided information,
the background transfer policies retrieved from the UDR and the current
network performance as follows:

\- If the BDT policies retrieved from the UDR include the \"bdtpStatus\"
attribute indicating the BDT policy is invalid, the PCF may calculate
one or more new candidate BDT policies without considering the invalid
BDT policy.

\- If the PCF does not find any new candidate BDT policies, the
previously negotiated BDT policy shall be kept and no interaction with
the AF shall occur.

If one or more new candidate BDT policies are calculated, the PCF shall:

\- if the PCF has not locally stored the background transfer policies,
invoke the Nudr\_DataRepository\_Update service operation, as described
in 3GPP TS 29.504 \[11\] and 3GPP TS 29.519 \[12\] subclause 5.2.9.3.4,
to invalidate the affected background transfer policy stored in the UDR
by including the \"bdtpStatus\" attribute set to value \"INVALID\"
within the BdtDataPatch data type; and

\- invoke the Npcf\_BDTPolicyControl\_Notify service operation by
sending the HTTP POST request with the BDT warning notification to the
NEF so that the NEF can notify the AF.

The PCF shall include a \"Notification\" data type in a payload body of
the HTTP POST request.

The \"Notification\" data type provided in the request body:

\- shall contain the BDT Reference ID of the impacted transfer policy
within the \"bdtRefId\" attribute;

\- may contain the time window when the network performance will go
below the criteria set by the operator within the \"timeWindow\"
attribute;

\- may contain the network area where the network performance will go
below the criteria set by the operator within the \"nwAreaInfo\"
attribute; and

\- may contain the list of candidate transfer policies in the
\"candPolicies\" attribute.

NOTE: The AF might select a new background transfer policy or might not
select any new background transfer policy from the offered candidate
list when receives the BDT warning notification.

Upon the reception of the HTTP POST request from the PCF, the NEF shall
acknowledge that request by sending an HTTP response message with the
corresponding status code.

If the HTTP POST request from the PCF is accepted, the NEF shall
acknowledge the receipt of the notification with a \"204 No Content\"
response to HTTP POST request, as shown in figure 4.2.4.2-1, step 2.

If the HTTP POST request from the PCF is not accepted, the NEF shall
send an HTTP error response as specified in subclause 5.7.

If the feature \"ES3XX\" is supported, and the NEF determines the
received HTTP POST request needs to be redirected, the NEF shall send an
HTTP redirect response as specified in subclause 6.10.9 of
3GPP TS 29.500 \[6\].

5 Npcf\_BDTPolicyControl API
============================

5.1 Introduction
----------------

The BDT Policy Control Service shall use the Npcf\_BDTPolicyControl API.

The API URI of the Npcf\_BDTPolicyControl API shall be:

**{apiRoot}/\<apiName\>/\<apiVersion\>/**

The request URI used in each HTTP request from the NF service consumer
towards the PCF shall have the structure defined in subclause 4.4.1 of
3GPP TS 29.501 \[7\], i.e.:

**{apiRoot}/\<apiName\>/\<apiVersion\>/\<apiSpecificResourceUriPart\>**

with the following components:

\- The {apiRoot} shall be set as described in 3GPP TS 29.501 \[7\].

\- The **\<**apiName**\>** shall be \"npcf-bdtpolicycontrol\".

\- The **\<**apiVersion**\>** shall be \"v1\".

\- The **\<**apiSpecificResourceUriPart**\>** shall be set as described
in subclause 5.3.

5.2 Usage of HTTP
-----------------

### 5.2.1 General

HTTP/2, IETF RFC 7540 \[8\], shall be used as specified in subclause 5.2
of 3GPP TS 29.500 \[6\].

HTTP/2 shall be transported as specified in subclause 5.3 of
3GPP TS 29.500 \[6\].

The OpenAPI \[10\] specification of HTTP messages and content bodies for
the Npcf\_BDTPolicyControl is contained in Annex A.

### 5.2.2 HTTP standard headers

#### 5.2.2.1 General

See subclause 5.2.2 of 3GPP TS 29.500 \[6\] for the usage of HTTP
standard headers.

#### 5.2.2.2 Content type

JSON, IETF RFC 8259 \[9\], shall be used as content type of the HTTP
bodies specified in the present specification as specified in
subclause 5.4 of 3GPP TS 29.500 \[6\]. The use of the JSON format shall
be signalled by the content type \"application/json\".

JSON object used in the HTTP PATCH request shall be encoded according to
\"JSON Merge Patch\" and shall be signalled by the content type
\"application/merge-patch+json\", as defined in IETF RFC 7396 \[15\].

\"Problem Details\" JSON object shall be used to indicate additional
details of the error in a HTTP response body and shall be signalled by
the content type \"application/problem+json\", as defined in
IETF RFC 7807 \[17\].

### 5.2.3 HTTP custom headers

The Npcf\_BDTPolicyControl API shall support HTTP custom header fields
specified in subclause 5.2.3.2 of 3GPP TS 29.500 \[6\].

In this Release of the specification, no specific custom headers are
defined for the Npcf\_BDTPolicyControl API.

5.3 Resources
-------------

### 5.3.1 Resource Structure

Figure 5.3.1-1: Resource URI structure of the Npcf\_BDTPolicyControl API

Table 5.3.1-1 provides an overview of the resources and applicable HTTP
methods.

Table 5.3.1-1: Resources and methods overview

+----------------+----------------+----------------+----------------+
| Resource name  | Resource URI   | HTTP method or | Description    |
|                |                | custom         |                |
|                |                | operation      |                |
+----------------+----------------+----------------+----------------+
| BDT policies   | /bdtpolicies   | POST           | Npc            |
|                |                |                | f\_BDTPolicyCo |
|                |                |                | ntrol\_Create. |
|                |                |                | Creates a new  |
|                |                |                | Individual BDT |
|                |                |                | policy         |
|                |                |                | resource.      |
+----------------+----------------+----------------+----------------+
| Individual BDT | /bdtpolicies   | GET            | Reads an       |
| policy         | /{bdtPolicyId} |                | Individual BDT |
|                |                |                | policy         |
|                |                |                | resource.      |
+----------------+----------------+----------------+----------------+
|                |                | PATCH          | Npc            |
|                |                |                | f\_BDTPolicyCo |
|                |                |                | ntrol\_Update. |
|                |                |                |                |
|                |                |                | Modifies an    |
|                |                |                | existing       |
|                |                |                | Individual BDT |
|                |                |                | policy         |
|                |                |                | resource by    |
|                |                |                | selecting or   |
|                |                |                | reselecting a  |
|                |                |                | transfer       |
|                |                |                | policy.        |
+----------------+----------------+----------------+----------------+

### 5.3.2 Resource: BDT policies (Collection)

#### 5.3.2.1 Description

The BDT policies resource represents all the transfer policies that
exist in the BDT Policy Control service at a given PCF instance.

#### 5.3.2.2 Resource definition

Resource URI: **{apiRoot}/npcf-bdtpolicycontrol/v1/bdtpolicies**

This resource shall support the resource URI variables defined in
table 5.3.2.2-1.

Table 5.3.2.2-1: Resource URI variables for this resource

  --------- ----------- --------------------
  Name      Data type   Definition
  apiRoot   string      See subclause 5.1.
  --------- ----------- --------------------

#### 5.3.2.3 Resource Standard Methods

##### 5.3.2.3.1 POST

This method shall support the URI query parameters specified in
table 5.3.2.3.1-1.

Table 5.3.2.3.1-1: URI query parameters supported by the POST method on
this resource

  ------ ----------- --- ------------- -------------
  Name   Data type   P   Cardinality   Description
  n/a                                  
  ------ ----------- --- ------------- -------------

This method shall support the request data structures specified in
table 5.3.2.3.1-2 and the response data structures and response codes
specified in table 5.3.2.3.1-3.

Table 5.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource

  ------------ --- ------------- --------------------------------------------------------------------------------
  Data type    P   Cardinality   Description
  BdtReqData   M   1             Contains information for the creation of a new Individual BDT policy resource.
  ------------ --- ------------- --------------------------------------------------------------------------------

Table 5.3.2.3.1-3: Data structures supported by the POST Response Body
on this resource

+---------------+---+-------------+---------------+---------------+
| Data type     | P | Cardinality | Response      | Description   |
|               |   |             | Codes         |               |
+---------------+---+-------------+---------------+---------------+
| BdtPolicy     | M | 1           | 201 Created   | Successful    |
|               |   |             |               | case.         |
|               |   |             |               |               |
|               |   |             |               | The creation  |
|               |   |             |               | of an         |
|               |   |             |               | Individual    |
|               |   |             |               | BDT policy    |
|               |   |             |               | resource is   |
|               |   |             |               | confirmed and |
|               |   |             |               | a             |
|               |   |             |               | r             |
|               |   |             |               | epresentation |
|               |   |             |               | of that       |
|               |   |             |               | resource is   |
|               |   |             |               | returned.     |
+---------------+---+-------------+---------------+---------------+
| n/a           |   |             | 303 See Other | The result of |
|               |   |             |               | the HTTP POST |
|               |   |             |               | request would |
|               |   |             |               | be equivalent |
|               |   |             |               | to the        |
|               |   |             |               | existing      |
|               |   |             |               | Individual    |
|               |   |             |               | BDT policy    |
|               |   |             |               | resource. The |
|               |   |             |               | HTTP response |
|               |   |             |               | shall contain |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | set to the    |
|               |   |             |               | URI of the    |
|               |   |             |               | existing      |
|               |   |             |               | individual    |
|               |   |             |               | BDT policy    |
|               |   |             |               | resource.     |
+---------------+---+-------------+---------------+---------------+
| NOTE: In      |   |             |               |               |
| addition, the |   |             |               |               |
| HTTP status   |   |             |               |               |
| codes which   |   |             |               |               |
| are specified |   |             |               |               |
| as mandatory  |   |             |               |               |
| in            |   |             |               |               |
| ta            |   |             |               |               |
| ble 5.2.7.1-1 |   |             |               |               |
| of            |   |             |               |               |
| 3GPP TS       |   |             |               |               |
|  29.500 \[6\] |   |             |               |               |
| for the POST  |   |             |               |               |
| method shall  |   |             |               |               |
| also apply.   |   |             |               |               |
+---------------+---+-------------+---------------+---------------+

Table 5.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource

  ---------- ----------- --- ------------- -------------------------------------------------------------------------------------------------------------------------------------------
  Name       Data type   P   Cardinality   Description
  Location   string      M   1             Contains the URI of the newly created resource, according to the structure: {apiRoot}/npcf-bdtpolicycontrol/v1/bdtpolicies/{bdtPolicyId}.
  ---------- ----------- --- ------------- -------------------------------------------------------------------------------------------------------------------------------------------

Table 5.3.2.3.1-5: Headers supported by the 303 Response Code on this
resource

  ---------- ----------- --- ------------- ------------------------------------------------------------------
  Name       Data type   P   Cardinality   Description
  Location   string      M   1             Contains the URI of the existing individual BDT policy resource.
  ---------- ----------- --- ------------- ------------------------------------------------------------------

#### 5.3.2.4 Resource Custom Operations

None.

### 5.3.3 Resource: Individual BDT policy (Document)

#### 5.3.3.1 Description

The Individual BDT policy resource represents the transfer policies that
exist in the BDT Policy Control service at a given PCF instance.

#### 5.3.3.2 Resource definition

Resource URI:
**{apiRoot}/npcf-bdtpolicycontrol/v1/bdtpolicies/{bdtPolicyId}**

This resource shall support the resource URI variables defined in
table 5.3.3.2-1.

Table 5.3.3.2-1: Resource URI variables for this resource

+-------------+-----------+------------------------------------------+
| Name        | Data type | Definition                               |
+-------------+-----------+------------------------------------------+
| apiRoot     | string    | See subclause 5.1.                       |
+-------------+-----------+------------------------------------------+
| bdtPolicyId | string    | Identifies the individual BDT policy     |
|             |           | resource in the PCF.                     |
|             |           |                                          |
|             |           | To enable the value to be used as part   |
|             |           | of a URI, the string shall only contain  |
|             |           | allowed characters according to the      |
|             |           | \"lower-with-hyphen\" naming convention  |
|             |           | defined in subclause 5.1.3 of            |
|             |           | 3GPP TS 29.501 \[7\] and rules for a     |
|             |           | path segment defined in                  |
|             |           | IETF RFC 3986 \[16\].                    |
+-------------+-----------+------------------------------------------+

#### 5.3.3.3 Resource Standard Methods

##### 5.3.3.3.1 GET

This method shall support the URI query parameters specified in
table 5.3.3.3.1-1.

Table 5.3.3.3.1-1: URI query parameters supported by the GET method on
this resource

  ------ ----------- --- ------------- -------------
  Name   Data type   P   Cardinality   Description
  n/a                                  
  ------ ----------- --- ------------- -------------

This method shall support the request data structures specified in
table 5.3.3.3.1-2 and the response data structures and response codes
specified in table 5.3.3.3.1-3.

Table 5.3.3.3.1-2: Data structures supported by the GET Request Body on
this resource

  ----------- --- ------------- -------------
  Data type   P   Cardinality   Description
  n/a                           
  ----------- --- ------------- -------------

Table 5.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource

+---------------+---+-------------+---------------+---------------+
| Data type     | P | Cardinality | Response      | Description   |
|               |   |             | codes         |               |
+---------------+---+-------------+---------------+---------------+
| BdtPolicy     | M | 1           | 200 OK        | A             |
|               |   |             |               | r             |
|               |   |             |               | epresentation |
|               |   |             |               | of an         |
|               |   |             |               | Individual    |
|               |   |             |               | BDT policy    |
|               |   |             |               | resource is   |
|               |   |             |               | returned.     |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 307 Temporary | Temporary     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | resource      |
|               |   |             |               | retrieval.    |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | PCF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 308 Permanent | Permanent     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | resource      |
|               |   |             |               | retrieval.    |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | PCF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| P             | O | 0..1        | 404 Not Found | (NOTE 2)      |
| roblemDetails |   |             |               |               |
+---------------+---+-------------+---------------+---------------+
| NOTE 1: In    |   |             |               |               |
| addition, the |   |             |               |               |
| HTTP status   |   |             |               |               |
| codes which   |   |             |               |               |
| are specified |   |             |               |               |
| as mandatory  |   |             |               |               |
| in            |   |             |               |               |
| ta            |   |             |               |               |
| ble 5.2.7.1-1 |   |             |               |               |
| of            |   |             |               |               |
| 3GPP TS       |   |             |               |               |
|  29.500 \[6\] |   |             |               |               |
| for the GET   |   |             |               |               |
| method shall  |   |             |               |               |
| also apply.   |   |             |               |               |
|               |   |             |               |               |
| NOTE 2:       |   |             |               |               |
| Failure cases |   |             |               |               |
| are described |   |             |               |               |
| in            |   |             |               |               |
| s             |   |             |               |               |
| ubclause 5.7. |   |             |               |               |
+---------------+---+-------------+---------------+---------------+

Table 5.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative PCF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

Table 5.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative PCF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

##### 5.3.3.3.2 PATCH

This method shall support the URI query parameters specified in
table 5.3.3.3.2-1.

Table 5.3.3.3.2-1: URI query parameters supported by the PATCH method on
this resource

  ------ ----------- --- ------------- -------------
  Name   Data type   P   Cardinality   Description
  n/a                                  
  ------ ----------- --- ------------- -------------

This method shall support the request data structures specified in
table 5.3.3.3.2-2 and the response data structures and response codes
specified in table 5.3.3.3.2-3.

Table 5.3.3.3.2-2: Data structures supported by the PATCH Request Body
on this resource

  ---------------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Data type        P   Cardinality   Description
  PatchBdtPolicy   M   1             Contains modification instructions to be performed on the BdtPolicy data structure to select a transfer policy and in addition, may indicate whether the BDT warning notification is enabled or disabled.
  ---------------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 5.3.3.3.2-3: Data structures supported by the PATCH Response Body
on this resource

+---------------+---+-------------+---------------+---------------+
| Data type     | P | Cardinality | Response      | Description   |
|               |   |             | Codes         |               |
+---------------+---+-------------+---------------+---------------+
| BdtPolicy     | M | 1           | 200 OK        | Successful    |
|               |   |             |               | case.         |
|               |   |             |               |               |
|               |   |             |               | The           |
|               |   |             |               | Individual    |
|               |   |             |               | BDT Policy    |
|               |   |             |               | resource is   |
|               |   |             |               | modified and  |
|               |   |             |               | a             |
|               |   |             |               | r             |
|               |   |             |               | epresentation |
|               |   |             |               | of that       |
|               |   |             |               | resource is   |
|               |   |             |               | returned.     |
+---------------+---+-------------+---------------+---------------+
| n/a           |   |             | 204 No        | Successful    |
|               |   |             | Content       | case.         |
|               |   |             |               |               |
|               |   |             |               | The           |
|               |   |             |               | Individual    |
|               |   |             |               | BDT Policy    |
|               |   |             |               | resource is   |
|               |   |             |               | modified.     |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 307 Temporary | Temporary     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | resource      |
|               |   |             |               | modification. |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | PCF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 308 Permanent | Permanent     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | resource      |
|               |   |             |               | modification. |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI of the    |
|               |   |             |               | resource      |
|               |   |             |               | located in an |
|               |   |             |               | alternative   |
|               |   |             |               | PCF (service) |
|               |   |             |               | instance.     |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| P             | O | 0..1        | 404 Not Found | (NOTE 2)      |
| roblemDetails |   |             |               |               |
+---------------+---+-------------+---------------+---------------+
| NOTE 1: In    |   |             |               |               |
| addition, the |   |             |               |               |
| HTTP status   |   |             |               |               |
| codes which   |   |             |               |               |
| are specified |   |             |               |               |
| as mandatory  |   |             |               |               |
| in            |   |             |               |               |
| ta            |   |             |               |               |
| ble 5.2.7.1-1 |   |             |               |               |
| of            |   |             |               |               |
| 3GPP TS       |   |             |               |               |
|  29.500 \[6\] |   |             |               |               |
| for the PATCH |   |             |               |               |
| method shall  |   |             |               |               |
| also apply.   |   |             |               |               |
|               |   |             |               |               |
| NOTE 2:       |   |             |               |               |
| Failure cases |   |             |               |               |
| are described |   |             |               |               |
| in            |   |             |               |               |
| s             |   |             |               |               |
| ubclause 5.7. |   |             |               |               |
+---------------+---+-------------+---------------+---------------+

Table 5.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative PCF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

Table 5.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI of the resource located in an alternative PCF (service) instance.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------

5.4 Custom Operations without associated resources
--------------------------------------------------

No custom operation is defined in this Release of the specification.

5.5 Notifications
-----------------

### 5.5.1 General

Notifications shall comply to subclause 6.2 of 3GPP TS 29.500 \[6\] and
subclause 4.6.2.3 of 3GPP TS 29.501 \[7\].

Table 5.5.1-1: Notifications overview

  ------------------ -------------- --------------------------------- ---------------------------------
  Notification       Callback URI   HTTP method or custom operation   Description (service operation)
  BDT Notification   {notifUri}     POST                              Provides BDT notification.
  ------------------ -------------- --------------------------------- ---------------------------------

### 5.5.2 BDT Notification

#### 5.5.2.1 Description

The BDT Notification is used by the PCF to notify the NF service
consumer about changed conditions for background data transfer e.g. that
a network performance in the area of interest goes below the criteria
set by the operator.

#### 5.5.2.2 Target URI

The Callback URI \"**{notifUri}**\" shall be used with the callback URI
variables defined in table 5.5.2.2-1.

Table 5.5.2.2-1: Callback URI variables

  ---------- ----------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Name       Data type   Definition
  notifUri   Uri         It contains the URI of the recipient of BDT notification as assigned by the NF service consumer during the Create service operation and described within the BdtReqData (see table 5.6.2.3-1).
  ---------- ----------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#### 5.5.2.3 Standard Methods

##### 5.5.2.3.1 POST

This method shall support the URI query parameters specified in
table 5.5.2.3.1-1.

Table 5.5.2.3.1-1: URI query parameters supported by the POST method on
this resource

  ------ ----------- --- ------------- -------------
  Name   Data type   P   Cardinality   Description
  n/a                                  
  ------ ----------- --- ------------- -------------

This method shall support the request data structures specified in
table 5.5.2.3.1-2 and the response data structures and response codes
specified in table 5.5.2.3.1-3.

Table 5.5.2.3.1-2: Data structures supported by the POST Request Body on
this resource

  -------------- --- ------------- ----------------------------
  Data type      P   Cardinality   Description
  Notification   M   1             Provides BDT notification.
  -------------- --- ------------- ----------------------------

Table 5.5.2.3.1-3: Data structures supported by the POST Response Body
on this resource

+---------------+---+-------------+---------------+---------------+
| Data type     | P | Cardinality | Response      | Description   |
|               |   |             | codes         |               |
+---------------+---+-------------+---------------+---------------+
| n/a           |   |             | 204 No        | Successful    |
|               |   |             | Content       | case.         |
|               |   |             |               |               |
|               |   |             |               | The reception |
|               |   |             |               | of the BDT    |
|               |   |             |               | notification  |
|               |   |             |               | is            |
|               |   |             |               | acknowledged. |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 307 Temporary | Temporary     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | notification. |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI           |
|               |   |             |               | representing  |
|               |   |             |               | the end point |
|               |   |             |               | of an         |
|               |   |             |               | alternative   |
|               |   |             |               | NF consumer   |
|               |   |             |               | (service)     |
|               |   |             |               | instance      |
|               |   |             |               | where the     |
|               |   |             |               | notification  |
|               |   |             |               | should be     |
|               |   |             |               | sent.         |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| Red           | O | 0..1        | 308 Permanent | Permanent     |
| irectResponse |   |             | Redirect      | redirection,  |
|               |   |             |               | during        |
|               |   |             |               | notification. |
|               |   |             |               | The response  |
|               |   |             |               | shall include |
|               |   |             |               | a Location    |
|               |   |             |               | header field  |
|               |   |             |               | containing an |
|               |   |             |               | alternative   |
|               |   |             |               | URI           |
|               |   |             |               | representing  |
|               |   |             |               | the end point |
|               |   |             |               | of an         |
|               |   |             |               | alternative   |
|               |   |             |               | NF consumer   |
|               |   |             |               | (service)     |
|               |   |             |               | instance      |
|               |   |             |               | where the     |
|               |   |             |               | notification  |
|               |   |             |               | should be     |
|               |   |             |               | sent.         |
|               |   |             |               |               |
|               |   |             |               | Applicable if |
|               |   |             |               | the feature   |
|               |   |             |               | \"ES3XX\" is  |
|               |   |             |               | supported.    |
+---------------+---+-------------+---------------+---------------+
| NOTE: In      |   |             |               |               |
| addition, the |   |             |               |               |
| HTTP status   |   |             |               |               |
| codes which   |   |             |               |               |
| are specified |   |             |               |               |
| as mandatory  |   |             |               |               |
| in            |   |             |               |               |
| ta            |   |             |               |               |
| ble 5.2.7.1-1 |   |             |               |               |
| of            |   |             |               |               |
| 3GPP TS       |   |             |               |               |
|  29.500 \[6\] |   |             |               |               |
| for the POST  |   |             |               |               |
| method shall  |   |             |               |               |
| also apply.   |   |             |               |               |
+---------------+---+-------------+---------------+---------------+

Table 5.5.2.3.1-4: Headers supported by the 307 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the notification request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------

Table 5.5.2.3.1-5: Headers supported by the 308 Response Code on this
resource

  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------
  Name                    Data type   P   Cardinality   Description
  Location                string      M   1             An alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.
  3gpp-Sbi-Target-Nf-Id   string      O   0..1          Identifier of the target NF (service) instance towards which the notification request is redirected.
  ----------------------- ----------- --- ------------- -----------------------------------------------------------------------------------------------------------------------------------------------------

5.6 Data Model
--------------

### 5.6.1 General

This subclause specifies the application data model supported by the
API.

Table 5.6.1-1 specifies the data types defined for the
Npcf\_BDTPolicyControl service based interface protocol.

Table 5.6.1-1: Npcf\_BDTPolicyControl specific Data Types

  -------------------- ----------------- ------------------------------------------------------------------------------------------------------------------------------------------------ ---------------------
  Data type            Section defined   Description                                                                                                                                      Applicability
  BdtPolicy            5.6.2.2           Represents an Individual BDT policy resource.                                                                                                    
  BdtPolicyData        5.6.2.4           Describes an Individual BDT policy resource.                                                                                                     
  BdtPolicyDataPatch   5.6.2.6           Contains modification instructions to be performed on the \"bdtPolData\" property of the BdtPolicy data structure to select a transfer policy.   
  BdtReqData           5.6.2.3           Contains information for creation a new Individual BDT policy resource.                                                                          
  BdtReqDataPatch      5.6.2.12          Describes the modifications to the BDT request data of an Individual BDT policy resource.                                                        PatchCorrection
  NetworkAreaInfo      5.6.2.8           Describes a network area information in which the NF service consumer requests the number of UEs.                                                
  Notification         5.6.2.10          Contains the BDT notification information.                                                                                                       BdtNotification\_5G
  PatchBdtPolicy       5.6.2.11          Describes the modifications to the BDT Policy Data and BDT Policy Request data of an Individual BDT policy resource.                             PatchCorrection
  TransferPolicy       5.6.2.5           Describes a transfer policy.                                                                                                                     
  -------------------- ----------------- ------------------------------------------------------------------------------------------------------------------------------------------------ ---------------------

Table 5.6.1-2 specifies data types re-used by the Npcf\_BDTPolicyControl
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Npcf\_BDTPolicyControl service based
interface.

Table 5.6.1-2: Npcf\_BDTPolicyControl re-used Data Types

  ------------------- ----------------------- -------------------------------------------------------------------------------------- ---------------------
  Data type           Reference               Comments                                                                               Applicability
  BdtReferenceId      3GPP TS 29.122 \[14\]   Identifies transfer policy of background data transfer for provided ASP.               
  BitRate             3GPP TS 29.571 \[13\]   Specifies bitrate in kbits per second.                                                 
  Dnn                 3GPP TS 29.571 \[13\]   Identifies a Data Network Name.                                                        
  Ecgi                3GPP TS 29.571 \[13\]   Represents an EUTRA cell identifier.                                                   
  GlobalRanNodeId     3GPP TS 29.571 \[13\]   Represents an identity of the NG-RAN node.                                             
  GroupId             3GPP TS 29.571 \[13\]   Identifies a group of UEs.                                                             
  Ncgi                3GPP TS 29.571 \[13\]   Represents an NR cell identifier.                                                      
  ProblemDetails      3GPP TS 29.571 \[13\]   Used in error responses to provide more detailed information about an error.           
  RedirectResponse    3GPP TS 29.571 \[13\]   Contains redirection related information.                                              ES3XX
  Snssai              3GPP TS 29.571 \[13\]   Identifies a Single Network Slice Selection Assistance Information.                    
  SupportedFeatures   3GPP TS 29.571 \[13\]   Used to negotiate the applicability of the optional features defined in table 5.8-1.   
  Tai                 3GPP TS 29.571 \[13\]   Represents a tracking area identity.                                                   
  TimeWindow          3GPP TS 29.122 \[14\]   Specifies a time interval.                                                             
  TrafficDescriptor   3GPP TS 29.122 \[14\]   Represents a traffic descriptor.                                                       
  Uri                 3GPP TS 29.571 \[13\]   String providing an URI.                                                               BdtNotification\_5G
  UsageThreshold      3GPP TS 29.122 \[14\]   Represents a data volume expected to be transferred per UE.                            
  ------------------- ----------------------- -------------------------------------------------------------------------------------- ---------------------

### 5.6.2 Structured data types

#### 5.6.2.1 Introduction

This subclause defines the structures to be used in resource
representations.

#### 5.6.2.2 Type BdtPolicy

Table 5.6.2.2-1: Definition of type BdtPolicy

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| b         | BdtP      | C | 0..1      | Describes |           |
| dtPolData | olicyData |   |           | the       |           |
|           |           |   |           | auth      |           |
|           |           |   |           | orization |           |
|           |           |   |           | data of   |           |
|           |           |   |           | an        |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy    |           |
|           |           |   |           | created   |           |
|           |           |   |           | by the    |           |
|           |           |   |           | PCF.      |           |
|           |           |   |           |           |           |
|           |           |   |           | It shall  |           |
|           |           |   |           | be        |           |
|           |           |   |           | present   |           |
|           |           |   |           | in the    |           |
|           |           |   |           | response  |           |
|           |           |   |           | to the    |           |
|           |           |   |           | POST      |           |
|           |           |   |           | request   |           |
|           |           |   |           | that      |           |
|           |           |   |           | requests  |           |
|           |           |   |           | a         |           |
|           |           |   |           | creation  |           |
|           |           |   |           | of an     |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy    |           |
|           |           |   |           | resource  |           |
|           |           |   |           | and in    |           |
|           |           |   |           | the       |           |
|           |           |   |           | response  |           |
|           |           |   |           | to GET    |           |
|           |           |   |           | request.  |           |
+-----------+-----------+---+-----------+-----------+-----------+
| b         | B         | C | 0..1      | I         |           |
| dtReqData | dtReqData |   |           | dentifies |           |
|           |           |   |           | the       |           |
|           |           |   |           | service   |           |
|           |           |   |           | req       |           |
|           |           |   |           | uirements |           |
|           |           |   |           | of an     |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy.   |           |
|           |           |   |           |           |           |
|           |           |   |           | It shall  |           |
|           |           |   |           | be        |           |
|           |           |   |           | present   |           |
|           |           |   |           | in the    |           |
|           |           |   |           | POST      |           |
|           |           |   |           | request   |           |
|           |           |   |           | that      |           |
|           |           |   |           | requests  |           |
|           |           |   |           | a         |           |
|           |           |   |           | creation  |           |
|           |           |   |           | of an     |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy    |           |
|           |           |   |           | resource  |           |
|           |           |   |           | and in    |           |
|           |           |   |           | the       |           |
|           |           |   |           | response  |           |
|           |           |   |           | to GET    |           |
|           |           |   |           | request.  |           |
+-----------+-----------+---+-----------+-----------+-----------+

#### 5.6.2.3 Type BdtReqData

Table 5.6.2.3-1: Definition of type BdtReqData

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| aspId     | AspId     | M | 1         | This IE   |           |
|           |           |   |           | contains  |           |
|           |           |   |           | an        |           |
|           |           |   |           | identity  |           |
|           |           |   |           | of an     |           |
|           |           |   |           | ap        |           |
|           |           |   |           | plication |           |
|           |           |   |           | service   |           |
|           |           |   |           | provider. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| d         | T         | M | 1         | This IE   |           |
| esTimeInt | imeWindow |   |           | indicates |           |
|           |           |   |           | a desired |           |
|           |           |   |           | time      |           |
|           |           |   |           | window    |           |
|           |           |   |           | for BDT.  |           |
+-----------+-----------+---+-----------+-----------+-----------+
| dnn       | Dnn       | O | 0..1      | This IE   |           |
|           |           |   |           | i         |           |
|           |           |   |           | dentifies |           |
|           |           |   |           | a DNN.    |           |
+-----------+-----------+---+-----------+-----------+-----------+
| int       | GroupId   | O | 0..1      | R         |           |
| erGroupId |           |   |           | epresents |           |
|           |           |   |           | an        |           |
|           |           |   |           | internal  |           |
|           |           |   |           | group     |           |
|           |           |   |           | i         |           |
|           |           |   |           | dentifier |           |
|           |           |   |           | and       |           |
|           |           |   |           | i         |           |
|           |           |   |           | dentifies |           |
|           |           |   |           | a group   |           |
|           |           |   |           | of UEs.   |           |
+-----------+-----------+---+-----------+-----------+-----------+
| notifUri  | Uri       | O | 0..1      | This IE   | B         |
|           |           |   |           | indicates | dtNotific |
|           |           |   |           | that the  | ation\_5G |
|           |           |   |           | NF        |           |
|           |           |   |           | service   |           |
|           |           |   |           | consumer  |           |
|           |           |   |           | requests  |           |
|           |           |   |           | a BDT     |           |
|           |           |   |           | not       |           |
|           |           |   |           | ification |           |
|           |           |   |           | from the  |           |
|           |           |   |           | PCF. It   |           |
|           |           |   |           | contains  |           |
|           |           |   |           | an URI of |           |
|           |           |   |           | the       |           |
|           |           |   |           | recipient |           |
|           |           |   |           | of BDT    |           |
|           |           |   |           | noti      |           |
|           |           |   |           | fication. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| n         | Networ    | O | 0..1      | This IE   |           |
| wAreaInfo | kAreaInfo |   |           | r         |           |
|           |           |   |           | epresents |           |
|           |           |   |           | a network |           |
|           |           |   |           | area      |           |
|           |           |   |           | in        |           |
|           |           |   |           | formation |           |
|           |           |   |           | in which  |           |
|           |           |   |           | the NF    |           |
|           |           |   |           | service   |           |
|           |           |   |           | consumer  |           |
|           |           |   |           | requests  |           |
|           |           |   |           | a number  |           |
|           |           |   |           | of UEs.   |           |
|           |           |   |           |           |           |
|           |           |   |           | It may be |           |
|           |           |   |           | present   |           |
|           |           |   |           | in the    |           |
|           |           |   |           | POST      |           |
|           |           |   |           | request   |           |
|           |           |   |           | that      |           |
|           |           |   |           | requests  |           |
|           |           |   |           | a         |           |
|           |           |   |           | creation  |           |
|           |           |   |           | of an     |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy    |           |
|           |           |   |           | and in    |           |
|           |           |   |           | the       |           |
|           |           |   |           | response  |           |
|           |           |   |           | to GET    |           |
|           |           |   |           | request.  |           |
+-----------+-----------+---+-----------+-----------+-----------+
| numOfUes  | integer   | M | 1         | This IE   |           |
|           |           |   |           | indicates |           |
|           |           |   |           | a number  |           |
|           |           |   |           | of UEs.   |           |
+-----------+-----------+---+-----------+-----------+-----------+
| snssai    | Snssai    | O | 0..1      | This IE   |           |
|           |           |   |           | i         |           |
|           |           |   |           | dentifies |           |
|           |           |   |           | a slice.  |           |
+-----------+-----------+---+-----------+-----------+-----------+
| suppFeat  | Supporte  | C | 0..1      | This IE   |           |
|           | dFeatures |   |           | r         |           |
|           |           |   |           | epresents |           |
|           |           |   |           | a list of |           |
|           |           |   |           | Supported |           |
|           |           |   |           | features  |           |
|           |           |   |           | used as   |           |
|           |           |   |           | described |           |
|           |           |   |           | in        |           |
|           |           |   |           | subcl     |           |
|           |           |   |           | ause 5.8. |           |
|           |           |   |           |           |           |
|           |           |   |           | It shall  |           |
|           |           |   |           | be        |           |
|           |           |   |           | supplied  |           |
|           |           |   |           | by the NF |           |
|           |           |   |           | service   |           |
|           |           |   |           | consumer  |           |
|           |           |   |           | in the    |           |
|           |           |   |           | POST      |           |
|           |           |   |           | request   |           |
|           |           |   |           | that      |           |
|           |           |   |           | request a |           |
|           |           |   |           | creation  |           |
|           |           |   |           | of an     |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy    |           |
|           |           |   |           | resource. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| t         | TrafficD  | O | 0..1      | Contains  |           |
| rafficDes | escriptor |   |           | the       |           |
|           |           |   |           | traffic   |           |
|           |           |   |           | d         |           |
|           |           |   |           | escriptor |           |
|           |           |   |           | of the    |           |
|           |           |   |           | b         |           |
|           |           |   |           | ackground |           |
|           |           |   |           | data.     |           |
+-----------+-----------+---+-----------+-----------+-----------+
| volPerUe  | Usage     | M | 1         | This IE   |           |
|           | Threshold |   |           | indicates |           |
|           |           |   |           | a data    |           |
|           |           |   |           | volume    |           |
|           |           |   |           | expected  |           |
|           |           |   |           | to be     |           |
|           |           |   |           | tr        |           |
|           |           |   |           | ansferred |           |
|           |           |   |           | per UE.   |           |
+-----------+-----------+---+-----------+-----------+-----------+
| war       | boolean   | O | 0..1      | This IE   | B         |
| nNotifReq |           |   |           | indicates | dtNotific |
|           |           |   |           | whether   | ation\_5G |
|           |           |   |           | the BDT   |           |
|           |           |   |           | warning   |           |
|           |           |   |           | not       |           |
|           |           |   |           | ification |           |
|           |           |   |           | is        |           |
|           |           |   |           | enabled   |           |
|           |           |   |           | or        |           |
|           |           |   |           | disabled. |           |
|           |           |   |           |           |           |
|           |           |   |           | It may be |           |
|           |           |   |           | present:  |           |
|           |           |   |           |           |           |
|           |           |   |           | \- in the |           |
|           |           |   |           | POST      |           |
|           |           |   |           | request   |           |
|           |           |   |           | that      |           |
|           |           |   |           | requests  |           |
|           |           |   |           | a         |           |
|           |           |   |           | creation  |           |
|           |           |   |           | of an     |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy    |           |
|           |           |   |           | and in    |           |
|           |           |   |           | the       |           |
|           |           |   |           | corr      |           |
|           |           |   |           | esponding |           |
|           |           |   |           | response; |           |
|           |           |   |           | and       |           |
|           |           |   |           |           |           |
|           |           |   |           | \- in     |           |
|           |           |   |           | responses |           |
|           |           |   |           | to GET    |           |
|           |           |   |           | and PATCH |           |
|           |           |   |           | requests. |           |
|           |           |   |           |           |           |
|           |           |   |           | true:     |           |
|           |           |   |           | enabled;  |           |
|           |           |   |           |           |           |
|           |           |   |           | false:    |           |
|           |           |   |           | disabled  |           |
|           |           |   |           | (         |           |
|           |           |   |           | default). |           |
+-----------+-----------+---+-----------+-----------+-----------+

#### 5.6.2.4 Type BdtPolicyData

Table 5.6.2.4-1: Definition of type BdtPolicyData

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| bdtRefId  | BdtRe     | M | 1         | This IE   |           |
|           | ferenceId |   |           | indicates |           |
|           |           |   |           | transfer  |           |
|           |           |   |           | policies  |           |
|           |           |   |           | of        |           |
|           |           |   |           | b         |           |
|           |           |   |           | ackground |           |
|           |           |   |           | data      |           |
|           |           |   |           | transfer  |           |
|           |           |   |           | for       |           |
|           |           |   |           | provided  |           |
|           |           |   |           | ASP.      |           |
+-----------+-----------+---+-----------+-----------+-----------+
| selTran   | integer   | C | 0..1      | This IE   |           |
| sPolicyId |           |   |           | contains  |           |
|           |           |   |           | the       |           |
|           |           |   |           | identity  |           |
|           |           |   |           | of the    |           |
|           |           |   |           | selected  |           |
|           |           |   |           | transfer  |           |
|           |           |   |           | policy.   |           |
|           |           |   |           |           |           |
|           |           |   |           | It shall  |           |
|           |           |   |           | be        |           |
|           |           |   |           | present   |           |
|           |           |   |           | in the    |           |
|           |           |   |           | response  |           |
|           |           |   |           | to the    |           |
|           |           |   |           | PATCH     |           |
|           |           |   |           | request   |           |
|           |           |   |           | that      |           |
|           |           |   |           | modifies  |           |
|           |           |   |           | an        |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy    |           |
|           |           |   |           | resource  |           |
|           |           |   |           | to        |           |
|           |           |   |           | indicate  |           |
|           |           |   |           | a         |           |
|           |           |   |           | selected  |           |
|           |           |   |           | transfer  |           |
|           |           |   |           | policy.   |           |
+-----------+-----------+---+-----------+-----------+-----------+
| suppFeat  | Supporte  | C | 0..1      | This IE   |           |
|           | dFeatures |   |           | r         |           |
|           |           |   |           | epresents |           |
|           |           |   |           | a list of |           |
|           |           |   |           | Supported |           |
|           |           |   |           | features  |           |
|           |           |   |           | used as   |           |
|           |           |   |           | described |           |
|           |           |   |           | in        |           |
|           |           |   |           | subcl     |           |
|           |           |   |           | ause 5.8. |           |
|           |           |   |           |           |           |
|           |           |   |           | It shall  |           |
|           |           |   |           | be        |           |
|           |           |   |           | supplied  |           |
|           |           |   |           | by the    |           |
|           |           |   |           | PCF in    |           |
|           |           |   |           | the       |           |
|           |           |   |           | response  |           |
|           |           |   |           | to the    |           |
|           |           |   |           | POST      |           |
|           |           |   |           | request   |           |
|           |           |   |           | that      |           |
|           |           |   |           | requests  |           |
|           |           |   |           | a         |           |
|           |           |   |           | creation  |           |
|           |           |   |           | of an     |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy    |           |
|           |           |   |           | resource. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| trans     | arr       | M | 1..N      | This IE   |           |
| fPolicies | ay(Transf |   |           | contains  |           |
|           | erPolicy) |   |           | transfer  |           |
|           |           |   |           | policies. |           |
|           |           |   |           |           |           |
|           |           |   |           | It shall  |           |
|           |           |   |           | be        |           |
|           |           |   |           | supplied  |           |
|           |           |   |           | by the    |           |
|           |           |   |           | PCF in    |           |
|           |           |   |           | the       |           |
|           |           |   |           | response  |           |
|           |           |   |           | to the    |           |
|           |           |   |           | POST      |           |
|           |           |   |           | request   |           |
|           |           |   |           | that      |           |
|           |           |   |           | requests  |           |
|           |           |   |           | a         |           |
|           |           |   |           | creation  |           |
|           |           |   |           | of an     |           |
|           |           |   |           | I         |           |
|           |           |   |           | ndividual |           |
|           |           |   |           | BDT       |           |
|           |           |   |           | Policy    |           |
|           |           |   |           | resource. |           |
+-----------+-----------+---+-----------+-----------+-----------+

#### 5.6.2.5 Type TransferPolicy

Table 5.6.2.5-1: Definition of type TransferPolicy

  ---------------- ------------ --- ------------- ------------------------------------------------------------------------------------------------- ---------------
  Attribute name   Data type    P   Cardinality   Description                                                                                       Applicability
  maxBitRateDl     BitRate      O   0..1          This IE indicates a maximum aggregated bitrate in the downlink direction authorized by the PCF.   
  maxBitRateUl     BitRate      O   0..1          This IE indicates a maximum aggregated bitrate in the uplink direction authorized by the PCF.     
  ratingGroup      integer      M   1             This IE indicates a rating group for the recommended time window.                                 
  recTimeInt       TimeWindow   M   1             This IE indicates a recommended time window of a transfer policy.                                 
  transPolicyId    integer      M   1             This IE contains an identity of a transfer policy.                                                
  ---------------- ------------ --- ------------- ------------------------------------------------------------------------------------------------- ---------------

#### 5.6.2.6 Type BdtPolicyDataPatch

Table 5.6.2.6-1: Definition of type BdtPolicyDataPatch

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| selTran   | integer   | M | 1         | This IE   |           |
| sPolicyId |           |   |           | contains  |           |
|           |           |   |           | an        |           |
|           |           |   |           | identity  |           |
|           |           |   |           | (i.e. the |           |
|           |           |   |           | tran      |           |
|           |           |   |           | sPolicyId |           |
|           |           |   |           | value) of |           |
|           |           |   |           | a         |           |
|           |           |   |           | selected  |           |
|           |           |   |           | transfer  |           |
|           |           |   |           | policy.   |           |
|           |           |   |           |           |           |
|           |           |   |           | If the    |           |
|           |           |   |           | B         |           |
|           |           |   |           | dtNotific |           |
|           |           |   |           | ation\_5G |           |
|           |           |   |           | feature   |           |
|           |           |   |           | is        |           |
|           |           |   |           | supported |           |
|           |           |   |           | value     |           |
|           |           |   |           | \"0\"     |           |
|           |           |   |           | indicates |           |
|           |           |   |           | that no   |           |
|           |           |   |           | transfer  |           |
|           |           |   |           | policy is |           |
|           |           |   |           | selected. |           |
+-----------+-----------+---+-----------+-----------+-----------+

#### 5.6.2.7 Void

#### 5.6.2.8 Type NetworkAreaInfo

Table 5.6.2.8-1: Definition of type NetworkAreaInfo

+-----------+-----------+---+-----------+-----------+-----------+
| Attribute | Data type | P | Ca        | De        | Appl      |
| name      |           |   | rdinality | scription | icability |
+-----------+-----------+---+-----------+-----------+-----------+
| ecgis     | ar        | O | 1..N      | This IE   |           |
|           | ray(Ecgi) |   |           | contains  |           |
|           |           |   |           | a list of |           |
|           |           |   |           | E‑UTRA    |           |
|           |           |   |           | cell      |           |
|           |           |   |           | id        |           |
|           |           |   |           | entities. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| ncgis     | ar        | O | 1..N      | This IE   |           |
|           | ray(Ncgi) |   |           | contains  |           |
|           |           |   |           | a list of |           |
|           |           |   |           | NR cell   |           |
|           |           |   |           | id        |           |
|           |           |   |           | entities. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| gR        | arra      | O | 1..N      | This IE   |           |
| anNodeIds | y(GlobalR |   |           | contains  |           |
|           | anNodeId) |   |           | a list of |           |
|           |           |   |           | the       |           |
|           |           |   |           | NG‑RAN    |           |
|           |           |   |           | nodes.    |           |
|           |           |   |           |           |           |
|           |           |   |           | The       |           |
|           |           |   |           | \"        |           |
|           |           |   |           | n3IwfId\" |           |
|           |           |   |           | attribute |           |
|           |           |   |           | within    |           |
|           |           |   |           | the       |           |
|           |           |   |           | \         |           |
|           |           |   |           | "GlobalRa |           |
|           |           |   |           | nNodeId\" |           |
|           |           |   |           | data type |           |
|           |           |   |           | shall not |           |
|           |           |   |           | be        |           |
|           |           |   |           | supplied. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| tais      | a         | O | 1..N      | This IE   |           |
|           | rray(Tai) |   |           | contains  |           |
|           |           |   |           | a list of |           |
|           |           |   |           | tracking  |           |
|           |           |   |           | area      |           |
|           |           |   |           | id        |           |
|           |           |   |           | entities. |           |
+-----------+-----------+---+-----------+-----------+-----------+
| NOTE: The |           |   |           |           |           |
| Networ    |           |   |           |           |           |
| kAreaInfo |           |   |           |           |           |
| data type |           |   |           |           |           |
| allows    |           |   |           |           |           |
| any       |           |   |           |           |           |
| co        |           |   |           |           |           |
| mbination |           |   |           |           |           |
| of        |           |   |           |           |           |
| defined   |           |   |           |           |           |
| pr        |           |   |           |           |           |
| operties. |           |   |           |           |           |
+-----------+-----------+---+-----------+-----------+-----------+

#### 5.6.2.9 Void

#### 5.6.2.10 Type Notification

Table 5.6.2.10-1: Definition of type Notification

  ---------------- ----------------------- --- ------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------
  Attribute name   Data type               P   Cardinality   Description                                                                                                                                                                             Applicability
  bdtRefId         BdtReferenceId          M   1             This IE indicates transfer policies of background data transfer which the notification corresponds to.                                                                                  
  candPolicies     array(TransferPolicy)   O   1..N          This IE contains a list of the candidate transfer policies from which the AF may select a new transfer policy due to a network performance is below the criteria set by the operator.   
  nwAreaInfo       NetworkAreaInfo         O   0..1          This IE represents a network area where a network performance will go below the criteria set by the operator.                                                                           
  timeWindow       TimeWindow              O   0..1          This IE indicates a time window when a network performance will go below the criteria set by the operator.                                                                              
  ---------------- ----------------------- --- ------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------

#### 5.6.2.11 Type PatchBdtPolicy

Table 5.6.2.11-1: Definition of type PatchBdtPolicy

  ---------------- -------------------- --- ------------- ---------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------
  Attribute name   Data type            P   Cardinality   Description                                                                                                                                                Applicability
  bdtPolData       BdtPolicyDataPatch   O   0..1          Describes the updates in BDT policy data of an Individual BDT Policy resource, e.g., describes the selected BDT policy.                                    
  bdtReqData       BdtReqDataPatch      O   0..1          Describes the updates in BDT policy request data of an Individual BDT Policy resource, e.g., describes the updates in warning notification requirements.   
  ---------------- -------------------- --- ------------- ---------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------

#### 5.6.2.12 Type BdtReqDataPatch

Table 5.6.2.12-1: Definition of type BdtReqDataPatch

  ---------------- ----------- --- ------------- -------------------------------------------------------------------------------- ---------------------
  Attribute name   Data type   P   Cardinality   Description                                                                      Applicability
  warnNotifReq     boolean     O   0..1          This IE indicates whether the BDT warning notification is enabled or disabled.   BdtNotification\_5G
  ---------------- ----------- --- ------------- -------------------------------------------------------------------------------- ---------------------

### 5.6.3 Simple data types and enumerations

#### 5.6.3.1 Introduction

This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.

#### 5.6.3.2 Simple data types

The simple data types defined in table 5.6.3.2-1 shall be supported.

Table 5.6.3.2-1: Simple data types

  ----------- ----------------- ------------------------------------------------------------------ ---------------
  Type Name   Type Definition   Description                                                        Applicability
  AspId       string            This IE contains an identity of an application service provider.   
  ----------- ----------------- ------------------------------------------------------------------ ---------------

5.7 Error handling
------------------

### 5.7.1 General

HTTP error handling shall be supported as specified in subclause 5.2.4
of 3GPP TS 29.500 \[6\].

For the Npcf\_BDTPolicyControl API, HTTP error responses shall be
supported as specified in subclause 4.8 of 3GPP TS 29.501 \[7\].

Protocol errors and application errors specified in table 5.2.7.2-1 of
3GPP TS 29.500 \[6\] shall be supported for an HTTP method if the
corresponding HTTP status codes are specified as mandatory for that HTTP
method in table 5.2.7.1-1 of 3GPP TS 29.500 \[6\].

In addition, the requirements in the following subclauses shall apply.

### 5.7.2 Protocol Errors

In this Release of the specification, there are no additional protocol
errors applicable for the Npcf\_BDTPolicyControl API.

### 5.7.3 Application Errors

The application errors defined for the Npcf\_BDTPolicyControl API are
listed in table 5.7.3-1.

Table 5.7.3-1: Application errors

+------------------------+------------------+------------------------+
| Application Error      | HTTP status code | Description            |
+------------------------+------------------+------------------------+
| B                      | 404 Not Found    | The HTTP request is    |
| DT\_POLICY\_NOT\_FOUND |                  | rejected because the   |
|                        |                  | specified Individual   |
|                        |                  | BDT policy resource    |
|                        |                  | does not exist.        |
|                        |                  | (NOTE 1)               |
+------------------------+------------------+------------------------+
| NOTE 1: This           |                  |                        |
| application error is   |                  |                        |
| included in the        |                  |                        |
| responses to the GET   |                  |                        |
| and PATCH requests.    |                  |                        |
|                        |                  |                        |
| NOTE 2: Including a    |                  |                        |
| \"ProblemDetails\"     |                  |                        |
| data structure with    |                  |                        |
| the \"cause\"          |                  |                        |
| attribute in the HTTP  |                  |                        |
| response is optional   |                  |                        |
| unless explicitly      |                  |                        |
| mandated in the        |                  |                        |
| service operation      |                  |                        |
| subclauses.            |                  |                        |
+------------------------+------------------+------------------------+

5.8 Feature negotiation
-----------------------

The optional features in table 5.8-1 are defined for the
Npcf\_BDTPolicyControl API. They shall be negotiated using the
extensibility mechanism defined in subclause 6.6.2 of
3GPP TS 29.500 \[6\].

When requesting the PCF to create an Individual BDT policy resource the
NF service consumer shall indicate the optional features the NF service
consumer supports for the Npcf\_BDTPolicyControl service by including
the \"suppFeat\" attribute in the \"BdtReqData\" data type of the HTTP
POST request.

The PCF shall determine the supported features for the created
Individual BDT policy resource as specified in subclause 6.6.2 of
3GPP TS 29.500 \[6\]. The PCF shall indicate the supported features in
the HTTP response confirming the creation of the Individual BDT policy
resource by including the \"suppFeat\" attribute in the
\"BdtPolicyData\" data type.

Table 5.8-1: Supported Features

+----------------+---------------------+-----------------------------+
| Feature number | Feature Name        | Description                 |
+----------------+---------------------+-----------------------------+
| 1              | BdtNotification\_5G | This feature indicates the  |
|                |                     | support of sending the BDT  |
|                |                     | notification to the NF      |
|                |                     | service consumer.           |
|                |                     |                             |
|                |                     | This feature includes       |
|                |                     | sending of the BDT warning  |
|                |                     | notification to the NF      |
|                |                     | service consumer.           |
+----------------+---------------------+-----------------------------+
| 2              | ES3XX               | Extended Support for 3xx    |
|                |                     | redirections.               |
|                |                     |                             |
|                |                     | This feature indicates the  |
|                |                     | support of redirection for  |
|                |                     | any service operation,      |
|                |                     | according to Stateless NF   |
|                |                     | procedures as specified in  |
|                |                     | subclauses 6.5.3.2 and      |
|                |                     | 6.5.3.3 of                  |
|                |                     | 3GPP TS 29.500 \[6\] and    |
|                |                     | according to HTTP           |
|                |                     | redirection principles for  |
|                |                     | indirect communication, as  |
|                |                     | specified in                |
|                |                     | subclause 6.10.9 of         |
|                |                     | 3GPP TS 29.500 \[6\].       |
+----------------+---------------------+-----------------------------+
| 3              | PatchCorrection     | Indicates support of the    |
|                |                     | correction to the PATCH     |
|                |                     | method.                     |
|                |                     |                             |
|                |                     | When this feature is not    |
|                |                     | supported, the              |
|                |                     | interoperability between a  |
|                |                     | NF service consumer and the |
|                |                     | PCF can only be ensured     |
|                |                     | when it is not required the |
|                |                     | update of the Individual    |
|                |                     | BDT policy resource.        |
+----------------+---------------------+-----------------------------+

5.9 Security
------------

As indicated in 3GPP TS 33.501 \[18\] and 3GPP TS 29.500 \[6\], the
access to the Npcf\_BDTPolicyControl API, based on local configuration,
may be authorized by means of the OAuth2 protocol (see
IETF RFC 6749 \[19\]), using the \"Client Credentials\" authorization
grant, where the NRF (see 3GPP TS 29.510 \[20\]) plays the role of the
authorization server.

If OAuth2 authorization is used, an NF Service Consumer, prior to
consuming services offered by the Npcf\_BDTPolicyControl API, shall
obtain a \"token\" from the authorization server, by invoking the Access
Token Request service, as described in 3GPP TS 29.510 \[20\],
subclause 5.4.2.2.

NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used
for discovering the Npcf\_BDTPolicyControl service.

The Npcf\_BDTPolicyControl API defines a single scope
\"npcf-bdtpolicycontrol\" for OAuth2 authorization (as specified in
3GPP TS 33.501 \[18\]) for the entire API, and it does not define any
additional scopes at resource or operation level.

######## Annex A (normative): OpenAPI specification

A.1 General
===========

The present Annex contains an OpenAPI \[10\] specification of HTTP
messages and content bodies used by the Npcf\_BDTPolicyControl API.

This Annex shall take precedence when being discrepant to other parts of
the specification with respect to the encoding of information elements
and methods within the API.

NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not
expressed in the OpenAPI definitions but defined in other parts of the
specification also apply.

Informative copies of the OpenAPI specification file contained in this
3GPP Technical Specification are available on a Git-based repository
that uses the GitLab software version control system (see clause 5B of
the 3GPP TR 21.900 \[21\] and subclause 5.3.1 of the
3GPP TS 29.501 \[7\] for further information).

A.2 Npcf\_BDTPolicyControl API
==============================

openapi: 3.0.0

info:

title: Npcf\_BDTPolicyControl Service API

version: 1.1.3

description: \|

PCF BDT Policy Control Service.

© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI,
TTA, TTC).

All rights reserved.

\#

externalDocs:

description: 3GPP TS 29.554 V16.7.0; 5G System; Background Data Transfer
Policy Control Service.

url: \'http://www.3gpp.org/ftp/Specs/archive/29\_series/29.554/\'

\#

servers:

\- url: \'{apiRoot}/npcf-bdtpolicycontrol/v1\'

variables:

apiRoot:

default: https://example.com

description: apiRoot as defined in subclause 4.4 of 3GPP TS 29.501.

security:

\- {}

\- oAuth2ClientCredentials:

\- npcf-bdtpolicycontrol

paths:

/bdtpolicies:

post:

summary: Create a new Individual BDT policy

operationId: CreateBDTPolicy

tags:

\- BDT policies (Collection)

requestBody:

description: Contains information for the creation of a new Individual
BDT policy resource.

required: true

content:

application/json:

schema:

\$ref: \'\#/components/schemas/BdtReqData\'

responses:

\'201\':

description: Background data transfer policies offered to an ASP.

content:

application/json:

schema:

\$ref: \'\#/components/schemas/BdtPolicy\'

headers:

Location:

description: \'Contains the URI of the created individual BDT policy
resource, according to the structure:
{apiRoot}/npcf-bdtpolicycontrol/v1/bdtpolicies/{bdtPolicyId}\'

required: true

schema:

type: string

\#

\# Error scenarios POST

\#

\'303\':

description: See Other. The result of the POST request would be
equivalent to the existing Individual BDT policy resource.

headers:

Location:

description: \'Contains the URI of the existing individual BDT policy
resource.\'

required: true

schema:

type: string

\'400\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/400\'

\'401\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/401\'

\'403\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/403\'

\'404\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/404\'

\'411\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/411\'

\'413\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/413\'

\'415\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/415\'

\'429\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/429\'

\'500\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/500\'

\'503\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/503\'

default:

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/default\'

\#

\# End error scenarios POST

\#

callbacks:

BdtNotification:

\'{\$request.body\#/notifUri}\':

post:

requestBody:

required: true

content:

application/json:

schema:

\$ref: \'\#/components/schemas/Notification\'

responses:

\'204\':

description: No Content, a reception of the BDT notification was
successful.

\'307\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/307\'

\'308\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/308\'

\'400\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/400\'

\'401\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/401\'

\'403\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/403\'

\'404\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/404\'

\'411\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/411\'

\'413\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/413\'

\'415\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/415\'

\'429\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/429\'

\'500\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/500\'

\'503\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/503\'

default:

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/default\'

\#

/bdtpolicies/{bdtPolicyId}:

get:

summary: Read an Individual BDT policy

operationId: GetBDTPolicy

tags:

\- Individual BDT policy (Document)

parameters:

\- name: bdtPolicyId

description: String identifying the individual BDT policy resource in
the PCF.

in: path

required: true

schema:

type: string

responses:

\'200\':

description: Background data transfer policies offered to and selected
by an ASP.

content:

application/json:

schema:

\$ref: \'\#/components/schemas/BdtPolicy\'

\#

\# Redirection scenarios GET

\#

\'307\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/307\'

\'308\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/308\'

\#

\# Error scenarios GET

\#

\'400\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/400\'

\'401\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/401\'

\'403\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/403\'

\'404\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/404\'

\'406\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/406\'

\'429\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/429\'

\'500\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/500\'

\'503\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/503\'

default:

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/default\'

\#

\# End error scenarios GET

\#

patch:

summary: Update an Individual BDT policy

operationId: UpdateBDTPolicy

tags:

\- Individual BDT policy (Document)

parameters:

\- name: bdtPolicyId

description: String identifying the individual BDT policy resource in
the PCF.

in: path

required: true

schema:

type: string

requestBody:

description: Contains modification instruction to be performed on the
BdtPolicy data structure to select a transfer policy and in addition,
may indicate whether the BDT warning notification is enabled or
disabled.

required: true

content:

application/merge-patch+json:

schema:

\$ref: \'\#/components/schemas/PatchBdtPolicy\'

responses:

\'200\':

description: The Individual BDT Policy resource is modified and a
representation of that resource is returned.

content:

application/json:

schema:

\$ref: \'\#/components/schemas/BdtPolicy\'

\'204\':

description: The Individual BDT Policy resource is modified.

\#

\# Redirection scenarios PATCH

\#

\'307\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/307\'

\'308\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/308\'

\#

\# Error scenarios PATCH

\#

\'400\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/400\'

\'401\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/401\'

\'403\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/403\'

\'404\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/404\'

\'411\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/411\'

\'413\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/413\'

\'415\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/415\'

\'429\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/429\'

\'500\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/500\'

\'503\':

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/503\'

default:

\$ref: \'TS29571\_CommonData.yaml\#/components/responses/default\'

\#

\# End error scenarios PATCH

\#

\#

components:

securitySchemes:

oAuth2ClientCredentials:

type: oauth2

flows:

clientCredentials:

tokenUrl: \'{nrfApiRoot}/oauth2/token\'

scopes:

npcf-bdtpolicycontrol: Access to the Npcf\_BDTPolicyControl API

schemas:

\#

\# Structured data types

\#

BdtPolicy:

description: Represents an Individual BDT policy resource.

type: object

properties:

bdtPolData:

\$ref: \'\#/components/schemas/BdtPolicyData\'

bdtReqData:

\$ref: \'\#/components/schemas/BdtReqData\'

\#

BdtReqData:

description: Contains service requirements for creation a new Individual
BDT policy resource.

type: object

required:

\- aspId

\- desTimeInt

\- numOfUes

\- volPerUe

properties:

aspId:

\$ref: \'\#/components/schemas/AspId\'

desTimeInt:

\$ref: \'TS29122\_CommonData.yaml\#/components/schemas/TimeWindow\'

dnn:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Dnn\'

interGroupId:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/GroupId\'

notifUri:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Uri\'

nwAreaInfo:

\$ref: \'\#/components/schemas/NetworkAreaInfo\'

numOfUes:

description: Indicates a number of UEs.

type: integer

volPerUe:

\$ref: \'TS29122\_CommonData.yaml\#/components/schemas/UsageThreshold\'

snssai:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Snssai\'

suppFeat:

\$ref:
\'TS29571\_CommonData.yaml\#/components/schemas/SupportedFeatures\'

trafficDes:

\$ref:
\'TS29122\_ResourceManagementOfBdt.yaml\#/components/schemas/TrafficDescriptor\'

warnNotifReq:

description: Indicates whether the BDT warning notification is enabled
or disabled.

type: boolean

default: false

\#

BdtPolicyData:

description: Describes the authorization data of an Individual BDT
policy resource.

type: object

required:

\- bdtRefId

\- transfPolicies

properties:

bdtRefId:

\$ref: \'TS29122\_CommonData.yaml\#/components/schemas/BdtReferenceId\'

transfPolicies:

description: Contains transfer policies.

type: array

items:

\$ref: \'\#/components/schemas/TransferPolicy\'

minItems: 1

selTransPolicyId:

description: Contains an identity of the selected transfer policy.

type: integer

suppFeat:

\$ref:
\'TS29571\_CommonData.yaml\#/components/schemas/SupportedFeatures\'

\#

PatchBdtPolicy:

description: Describes the updates in authorization data of an
Individual BDT Policy created by the PCF.

type: object

properties:

bdtPolData:

\$ref: \'\#/components/schemas/BdtPolicyDataPatch\'

bdtReqData:

\$ref: \'\#/components/schemas/BdtReqDataPatch\'

\#

BdtPolicyDataPatch:

description: A JSON Merge Patch body schema containing modification
instruction to be performed on the bdtPolData attribute of the BdtPolicy
data structure to select a transfer policy. Adds selTransPolicyId to
BdtPolicyData data structure.

type: object

required:

\- selTransPolicyId

properties:

selTransPolicyId:

description: Contains an identity (i.e. transPolicyId value) of the
selected transfer policy. If the BdtNotification\_5G feature is
supported value 0 indicates that no transfer policy is selected.

type: integer

\#

BdtReqDataPatch:

description: A JSON Merge Patch body schema containing modification
instruction to be performed on the bdtReqData attribute of the BdtPolicy
data structure to indicate whether the BDT warning notification is
enabled or disabled. Modifies warnNotifReq from BdtReqData data
structure.

type: object

properties:

warnNotifReq:

description: Indicates whether the BDT warning notification is enabled
or disabled.

type: boolean

\#

TransferPolicy:

description: Describes a transfer policy.

type: object

required:

\- ratingGroup

\- recTimeInt

\- transPolicyId

properties:

maxBitRateDl:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/BitRate\'

maxBitRateUl:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/BitRate\'

ratingGroup:

description: Indicates a rating group for the recommended time window.

type: integer

recTimeInt:

\$ref: \'TS29122\_CommonData.yaml\#/components/schemas/TimeWindow\'

transPolicyId:

description: Contains an identity of a transfer policy.

type: integer

NetworkAreaInfo:

description: Describes a network area information in which the NF
service consumer requests the number of UEs.

type: object

properties:

ecgis:

description: Contains a list of E-UTRA cell identities.

type: array

items:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Ecgi\'

minItems: 1

ncgis:

description: Contains a list of NR cell identities.

type: array

items:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Ncgi\'

minItems: 1

gRanNodeIds:

description: Contains a list of NG RAN nodes.

type: array

items:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/GlobalRanNodeId\'

minItems: 1

tais:

description: Contains a list of tracking area identities.

type: array

items:

\$ref: \'TS29571\_CommonData.yaml\#/components/schemas/Tai\'

minItems: 1

\#

Notification:

description: Describes a BDT notification.

type: object

required:

\- bdtRefId

properties:

bdtRefId:

\$ref: \'TS29122\_CommonData.yaml\#/components/schemas/BdtReferenceId\'

candPolicies:

description: Contains a list of the candidate transfer policies from
which the AF may select a new transfer policy due to a network
performance is below the criteria set by the operator.

type: array

items:

\$ref: \'\#/components/schemas/TransferPolicy\'

minItems: 1

nwAreaInfo:

\$ref: \'\#/components/schemas/NetworkAreaInfo\'

timeWindow:

\$ref: \'TS29122\_CommonData.yaml\#/components/schemas/TimeWindow\'

\#

\# Simple data types

\#

AspId:

description: Contains an identity of an application service provider.

type: string

\#

\#

######## Annex B (informative): Change history

+-------+-------+-------+-------+-------+-------+-------+-------+
| **C   |       |       |       |       |       |       |       |
| hange |       |       |       |       |       |       |       |
| hist  |       |       |       |       |       |       |       |
| ory** |       |       |       |       |       |       |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| **D   | **TSG | **TSG | *     | **    | **    | **Su  | **New |
| ate** |  \#** | D     | *CR** | Rev** | Cat** | bject | vers  |
|       |       | oc.** |       |       |       | /Comm | ion** |
|       |       |       |       |       |       | ent** |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    |       |       |       |       |       | TS    | 0.0.0 |
| 18-01 |       |       |       |       |       | ske   |       |
|       |       |       |       |       |       | leton |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | C3-1  |       |       |       | Incl  | 0.1.0 |
| 18-01 | 3\#94 | 80369 |       |       |       | usion |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | C3-1  |       |
|       |       |       |       |       |       | 80188 |       |
|       |       |       |       |       |       | a     |       |
|       |       |       |       |       |       | greed |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | CT3   |       |
|       |       |       |       |       |       | \#94. |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | C3-1  |       |       |       | Incl  | 0.2.0 |
| 18-03 | 3\#95 | 81376 |       |       |       | usion |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | docu  |       |
|       |       |       |       |       |       | ments |       |
|       |       |       |       |       |       | a     |       |
|       |       |       |       |       |       | greed |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | CT3   |       |
|       |       |       |       |       |       | \#95: |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 1055, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 1091, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 1268, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 1269, |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 1270. |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | C3-1  |       |       |       | Incl  | 0.3.0 |
| 18-04 | 3\#96 | 82524 |       |       |       | usion |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | docu  |       |
|       |       |       |       |       |       | ments |       |
|       |       |       |       |       |       | a     |       |
|       |       |       |       |       |       | greed |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | CT3   |       |
|       |       |       |       |       |       | \#96: |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       |       | **    |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 2048, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 2428, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 2427, |       |
|       |       |       |       |       |       | C3    |       |
|       |       |       |       |       |       | -1820 |       |
|       |       |       |       |       |       | 51,** |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       |       | **    |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 2052, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 2053, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 2429, |       |
|       |       |       |       |       |       | C3    |       |
|       |       |       |       |       |       | -1824 |       |
|       |       |       |       |       |       | 54,** |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       |       | **    |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 2430, |       |
|       |       |       |       |       |       | C3    |       |
|       |       |       |       |       |       | -1822 |       |
|       |       |       |       |       |       | 32.** |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | C3-1  |       |       |       | Incl  | 0.4.0 |
| 18-06 | 3\#97 | 83915 |       |       |       | usion |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | docu  |       |
|       |       |       |       |       |       | ments |       |
|       |       |       |       |       |       | a     |       |
|       |       |       |       |       |       | greed |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | CT3   |       |
|       |       |       |       |       |       | \#97: |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       |       | **    |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 3241, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 3280, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 3289, |       |
|       |       |       |       |       |       | C3    |       |
|       |       |       |       |       |       | -1832 |       |
|       |       |       |       |       |       | 91,** |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       |       | **    |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 3292, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 3297, |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 3298, |       |
|       |       |       |       |       |       | C3    |       |
|       |       |       |       |       |       | -1835 |       |
|       |       |       |       |       |       | 62,** |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       |       | **C3  |       |
|       |       |       |       |       |       | -1835 |       |
|       |       |       |       |       |       | 63,** |       |
|       |       |       |       |       |       | C3-1  |       |
|       |       |       |       |       |       | 83564 |       |
|       |       |       |       |       |       | **,** |       |
|       |       |       |       |       |       | C3-1  |       |
|       |       |       |       |       |       | 83565 |       |
|       |       |       |       |       |       | **,** |       |
|       |       |       |       |       |       | C3-1  |       |
|       |       |       |       |       |       | 83714 |       |
|       |       |       |       |       |       | **,** |       |
|       |       |       |       |       |       |       |       |
|       |       |       |       |       |       | C3-18 |       |
|       |       |       |       |       |       | 3869. |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  |       |       |       | TS    | 1.0.0 |
| 18-06 | T\#80 | 81028 |       |       |       | sent  |       |
|       |       |       |       |       |       | to    |       |
|       |       |       |       |       |       | pl    |       |
|       |       |       |       |       |       | enary |       |
|       |       |       |       |       |       | for   |       |
|       |       |       |       |       |       | app   |       |
|       |       |       |       |       |       | roval |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  |       |       |       | TS    | 1     |
| 18-06 | T\#80 | 81028 |       |       |       | app   | 5.0.0 |
|       |       |       |       |       |       | roved |       |
|       |       |       |       |       |       | by    |       |
|       |       |       |       |       |       | pl    |       |
|       |       |       |       |       |       | enary |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | **C   | 0001  | 1     | B     | F     | 1     |
| 18-09 | T\#81 | P-182 |       |       |       | ormat | 5.1.0 |
|       |       | 015** |       |       |       | of    |       |
|       |       |       |       |       |       | b     |       |
|       |       |       |       |       |       | dtPol |       |
|       |       |       |       |       |       | icyId |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | **C   | 0002  | 4     | B     | Ne    | 1     |
| 18-09 | T\#81 | P-182 |       |       |       | twork | 5.1.0 |
|       |       | 015** |       |       |       | area  |       |
|       |       |       |       |       |       | i     |       |
|       |       |       |       |       |       | nform |       |
|       |       |       |       |       |       | ation |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | **C   | 0003  | 1     | F     | D     | 1     |
| 18-09 | T\#81 | P-182 |       |       |       | escri | 5.1.0 |
|       |       | 015** |       |       |       | ption |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Struc |       |
|       |       |       |       |       |       | tured |       |
|       |       |       |       |       |       | data  |       |
|       |       |       |       |       |       | types |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | **C   | 0004  | 1     | F     | Res   | 1     |
| 18-09 | T\#81 | P-182 |       |       |       | ource | 5.1.0 |
|       |       | 015** |       |       |       | stru  |       |
|       |       |       |       |       |       | cture |       |
|       |       |       |       |       |       | pr    |       |
|       |       |       |       |       |       | esent |       |
|       |       |       |       |       |       | ation |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | **C   | 0005  | 1     | F     | Re    | 1     |
| 18-09 | T\#81 | P-182 |       |       |       | moval | 5.1.0 |
|       |       | 015** |       |       |       | of    |       |
|       |       |       |       |       |       | e     |       |
|       |       |       |       |       |       | xtern |       |
|       |       |       |       |       |       | alDoc |       |
|       |       |       |       |       |       | field |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | **C   | 0006  |       | F     | C     | 1     |
| 18-09 | T\#81 | P-182 |       |       |       | orrec | 5.1.0 |
|       |       | 015** |       |       |       | tions |       |
|       |       |       |       |       |       | re    |       |
|       |       |       |       |       |       | lated |       |
|       |       |       |       |       |       | to    |       |
|       |       |       |       |       |       | Fe    |       |
|       |       |       |       |       |       | ature |       |
|       |       |       |       |       |       | n     |       |
|       |       |       |       |       |       | egoti |       |
|       |       |       |       |       |       | ation |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | **C   | 0007  |       | F     | \"404 | 1     |
| 18-09 | T\#81 | P-182 |       |       |       | Not   | 5.1.0 |
|       |       | 015** |       |       |       | fo    |       |
|       |       |       |       |       |       | und\" |       |
|       |       |       |       |       |       | res   |       |
|       |       |       |       |       |       | ponse |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0008  | 1     | F     | Corre | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | ction | 5.2.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | ap    |       |
|       |       |       |       |       |       | iName |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0010  |       | F     | Supp  | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | orted | 5.2.0 |
|       |       |       |       |       |       | co    |       |
|       |       |       |       |       |       | ntent |       |
|       |       |       |       |       |       | types |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0011  |       | F     | Defin | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | ition | 5.2.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Bdt   |       |
|       |       |       |       |       |       | Polic |       |
|       |       |       |       |       |       | yData |       |
|       |       |       |       |       |       | stru  |       |
|       |       |       |       |       |       | cture |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0012  |       | F     | Non-  | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | empty | 5.2.0 |
|       |       |       |       |       |       | a     |       |
|       |       |       |       |       |       | rrays |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
|       |       |       |       |       |       | file  |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0013  | 1     | F     | A     | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | dding | 5.2.0 |
|       |       |       |       |       |       | the   |       |
|       |       |       |       |       |       | ex    |       |
|       |       |       |       |       |       | terna |       |
|       |       |       |       |       |       | lDocs |       |
|       |       |       |       |       |       | field |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | the   |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0014  |       | F     | A     | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | dding | 5.2.0 |
|       |       |       |       |       |       | HTTP  |       |
|       |       |       |       |       |       | s     |       |
|       |       |       |       |       |       | tatus |       |
|       |       |       |       |       |       | code  |       |
|       |       |       |       |       |       | \"200 |       |
|       |       |       |       |       |       | OK\"  |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0015  | 1     | F     | Error | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | indic | 5.2.0 |
|       |       |       |       |       |       | ating |       |
|       |       |       |       |       |       | \"U   |       |
|       |       |       |       |       |       | nspec |       |
|       |       |       |       |       |       | ified |       |
|       |       |       |       |       |       | res   |       |
|       |       |       |       |       |       | ource |       |
|       |       |       |       |       |       | URI   |       |
|       |       |       |       |       |       | s     |       |
|       |       |       |       |       |       | truct |       |
|       |       |       |       |       |       | ure\" |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0016  | 3     | F     | Np    | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | cf\_B | 5.2.0 |
|       |       |       |       |       |       | DTPol |       |
|       |       |       |       |       |       | icyCo |       |
|       |       |       |       |       |       | ntrol |       |
|       |       |       |       |       |       | API   |       |
|       |       |       |       |       |       | Aut   |       |
|       |       |       |       |       |       | horiz |       |
|       |       |       |       |       |       | ation |       |
|       |       |       |       |       |       | based |       |
|       |       |       |       |       |       | on    |       |
|       |       |       |       |       |       | O     |       |
|       |       |       |       |       |       | Auth2 |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0017  | 1     | F     | API   | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | ve    | 5.2.0 |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | u     |       |
|       |       |       |       |       |       | pdate |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0018  |       | F     | De    | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | fault | 5.2.0 |
|       |       |       |       |       |       | value |       |
|       |       |       |       |       |       | for   |       |
|       |       |       |       |       |       | ap    |       |
|       |       |       |       |       |       | iRoot |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0019  | 1     | F     | Ope   | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | nAPI: | 5.2.0 |
|       |       |       |       |       |       | HTTP  |       |
|       |       |       |       |       |       | s     |       |
|       |       |       |       |       |       | tatus |       |
|       |       |       |       |       |       | codes |       |
|       |       |       |       |       |       | alig  |       |
|       |       |       |       |       |       | nment |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0020  | 1     | F     | N     | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | gRanN | 5.2.0 |
|       |       |       |       |       |       | odeId |       |
|       |       |       |       |       |       | defin |       |
|       |       |       |       |       |       | ition |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0021  |       | F     | Ope   | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | nAPI: | 5.2.0 |
|       |       |       |       |       |       | usage |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | the   |       |
|       |       |       |       |       |       | \"t   |       |
|       |       |       |       |       |       | ags\" |       |
|       |       |       |       |       |       | ke    |       |
|       |       |       |       |       |       | yword |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0022  |       | F     | Loc   | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | ation | 5.2.0 |
|       |       |       |       |       |       | h     |       |
|       |       |       |       |       |       | eader |       |
|       |       |       |       |       |       | field |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0023  | 1     | F     | Data  | 1     |
| 18-12 | T\#82 | 83205 |       |       |       | stru  | 5.2.0 |
|       |       |       |       |       |       | cture |       |
|       |       |       |       |       |       | used  |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | PATCH |       |
|       |       |       |       |       |       | re    |       |
|       |       |       |       |       |       | quest |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0024  |       | F     | Alig  | 1     |
| 19-03 | T\#83 | 90112 |       |       |       | nment | 5.3.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | the   |       |
|       |       |       |       |       |       | BDT   |       |
|       |       |       |       |       |       | proce |       |
|       |       |       |       |       |       | dures |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0025  | 1     | F     | St    | 1     |
| 19-05 | T\#84 | 91084 |       |       |       | orage | 5.4.0 |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | prece |       |
|       |       |       |       |       |       | dence |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
|       |       |       |       |       |       | spe   |       |
|       |       |       |       |       |       | cific |       |
|       |       |       |       |       |       | ation |       |
|       |       |       |       |       |       | file  |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0028  | 1     | F     | Copy  | 1     |
| 19-06 | T\#84 | 91084 |       |       |       | right | 5.4.0 |
|       |       |       |       |       |       | Note  |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | YAML  |       |
|       |       |       |       |       |       | file  |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0030  |       | F     | Op    | 1     |
| 19-06 | T\#84 | 91084 |       |       |       | enAPI | 5.4.0 |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | n     |       |
|       |       |       |       |       |       | umber |       |
|       |       |       |       |       |       | u     |       |
|       |       |       |       |       |       | pdate |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0026  | 2     | B     | Su    | 1     |
| 19-06 | T\#84 | 91105 |       |       |       | pport | 6.0.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Npcf\ |       |
|       |       |       |       |       |       | _BDTP |       |
|       |       |       |       |       |       | olicy |       |
|       |       |       |       |       |       | Contr |       |
|       |       |       |       |       |       | ol\_N |       |
|       |       |       |       |       |       | otify |       |
|       |       |       |       |       |       | se    |       |
|       |       |       |       |       |       | rvice |       |
|       |       |       |       |       |       | oper  |       |
|       |       |       |       |       |       | ation |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0027  | 1     | B     | Add   | 1     |
| 19-06 | T\#84 | 91090 |       |       |       | Ext   | 6.0.0 |
|       |       |       |       |       |       | ernal |       |
|       |       |       |       |       |       | group |       |
|       |       |       |       |       |       | Id    |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0031  | 2     | F     | Op    | 1     |
| 19-06 | T\#84 | 91101 |       |       |       | enAPI | 6.0.0 |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | n     |       |
|       |       |       |       |       |       | umber |       |
|       |       |       |       |       |       | u     |       |
|       |       |       |       |       |       | pdate |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0032  | 1     | B     | Mo    | 1     |
| 19-09 | T\#85 | 92157 |       |       |       | dific | 6.1.0 |
|       |       |       |       |       |       | ation |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | BDT   |       |
|       |       |       |       |       |       | wa    |       |
|       |       |       |       |       |       | rning |       |
|       |       |       |       |       |       | no    |       |
|       |       |       |       |       |       | tific |       |
|       |       |       |       |       |       | ation |       |
|       |       |       |       |       |       | re    |       |
|       |       |       |       |       |       | quest |       |
|       |       |       |       |       |       | indic |       |
|       |       |       |       |       |       | ation |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0034  |       | F     | Op    | 1     |
| 19-09 | T\#85 | 92173 |       |       |       | enAPI | 6.1.0 |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | u     |       |
|       |       |       |       |       |       | pdate |       |
|       |       |       |       |       |       | for   |       |
|       |       |       |       |       |       | TS    |       |
|       |       |       |       |       |       | 2     |       |
|       |       |       |       |       |       | 9.554 |       |
|       |       |       |       |       |       | R     |       |
|       |       |       |       |       |       | el-16 |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0035  | 1     | F     | Indic | 1     |
| 19-12 | T\#86 | 93198 |       |       |       | ation | 6.2.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | \"B   |       |
|       |       |       |       |       |       | dtNot |       |
|       |       |       |       |       |       | ifica |       |
|       |       |       |       |       |       | tion\ |       |
|       |       |       |       |       |       | _5G\" |       |
|       |       |       |       |       |       | fe    |       |
|       |       |       |       |       |       | ature |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | C     | CP-1  | 0037  |       | F     | U     | 1     |
| 19-12 | T\#86 | 93212 |       |       |       | pdate | 6.2.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | API   |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | TS    |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
|       |       |       |       |       |       | file  |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0036  | 2     | B     | BDT   | 1     |
| 20-03 | \#87e | 00208 |       |       |       | ren   | 6.3.0 |
|       |       |       |       |       |       | egoti |       |
|       |       |       |       |       |       | ation |       |
|       |       |       |       |       |       | upon  |       |
|       |       |       |       |       |       | the   |       |
|       |       |       |       |       |       | ne    |       |
|       |       |       |       |       |       | twork |       |
|       |       |       |       |       |       | condi |       |
|       |       |       |       |       |       | tions |       |
|       |       |       |       |       |       | c     |       |
|       |       |       |       |       |       | hange |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0038  | 2     | B     | map   | 1     |
| 20-03 | \#87e | 00219 |       |       |       | ASPid | 6.3.0 |
|       |       |       |       |       |       | to    |       |
|       |       |       |       |       |       | DNN   |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | S     |       |
|       |       |       |       |       |       | NSSAI |       |
|       |       |       |       |       |       | for   |       |
|       |       |       |       |       |       | xBDT  |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0039  |       | F     | U     | 1     |
| 20-03 | \#87e | 00216 |       |       |       | pdate | 6.3.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | TS    |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | ex    |       |
|       |       |       |       |       |       | terna |       |
|       |       |       |       |       |       | lDocs |       |
|       |       |       |       |       |       | field |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0040  | 1     | F     | Re    | 1     |
| 20-06 | \#88e | 01234 |       |       |       | moval | 6.4.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | not   |       |
|       |       |       |       |       |       | valid |       |
|       |       |       |       |       |       | BDT   |       |
|       |       |       |       |       |       | p     |       |
|       |       |       |       |       |       | olicy |       |
|       |       |       |       |       |       | from  |       |
|       |       |       |       |       |       | UDR   |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0041  | 1     | F     | St    | 1     |
| 20-06 | \#88e | 01244 |       |       |       | orage | 6.4.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | YAML  |       |
|       |       |       |       |       |       | files |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | ETSI  |       |
|       |       |       |       |       |       | Forge |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0043  | 1     | F     | URI   | 1     |
| 20-06 | \#88e | 01256 |       |       |       | of    | 6.4.0 |
|       |       |       |       |       |       | the   |       |
|       |       |       |       |       |       | Np    |       |
|       |       |       |       |       |       | cf\_B |       |
|       |       |       |       |       |       | DTPol |       |
|       |       |       |       |       |       | icyCo |       |
|       |       |       |       |       |       | ntrol |       |
|       |       |       |       |       |       | se    |       |
|       |       |       |       |       |       | rvice |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0045  | 1     | F     | Tr    | 1     |
| 20-06 | \#88e | 01276 |       |       |       | affic | 6.4.0 |
|       |       |       |       |       |       | descr |       |
|       |       |       |       |       |       | iptor |       |
|       |       |       |       |       |       | for   |       |
|       |       |       |       |       |       | xBDT  |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0047  |       | A     | Ope   | 1     |
| 20-06 | \#88e | 01225 |       |       |       | nAPI: | 6.4.0 |
|       |       |       |       |       |       | a     |       |
|       |       |       |       |       |       | dding |       |
|       |       |       |       |       |       | Loc   |       |
|       |       |       |       |       |       | ation |       |
|       |       |       |       |       |       | h     |       |
|       |       |       |       |       |       | eader |       |
|       |       |       |       |       |       | field |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | 303   |       |
|       |       |       |       |       |       | res   |       |
|       |       |       |       |       |       | ponse |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0048  | 1     | F     | O     | 1     |
| 20-06 | \#88e | 01244 |       |       |       | ption | 6.4.0 |
|       |       |       |       |       |       | ality |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Prob  |       |
|       |       |       |       |       |       | lemDe |       |
|       |       |       |       |       |       | tails |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0049  | 1     | F     | Supp  | 1     |
| 20-06 | \#88e | 01244 |       |       |       | orted | 6.4.0 |
|       |       |       |       |       |       | hea   |       |
|       |       |       |       |       |       | ders, |       |
|       |       |       |       |       |       | Res   |       |
|       |       |       |       |       |       | ource |       |
|       |       |       |       |       |       | Data  |       |
|       |       |       |       |       |       | type  |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | yaml  |       |
|       |       |       |       |       |       | ma    |       |
|       |       |       |       |       |       | pping |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0051  |       | F     | U     | 1     |
| 20-06 | \#88e | 01255 |       |       |       | pdate | 6.4.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | TS    |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | ex    |       |
|       |       |       |       |       |       | terna |       |
|       |       |       |       |       |       | lDocs |       |
|       |       |       |       |       |       | field |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0053  | 1     | F     | TS    | 1     |
| 20-12 | \#90e | 03139 |       |       |       | 2     | 6.5.0 |
|       |       |       |       |       |       | 9.554 |       |
|       |       |       |       |       |       | Esse  |       |
|       |       |       |       |       |       | ntial |       |
|       |       |       |       |       |       | C     |       |
|       |       |       |       |       |       | orrec |       |
|       |       |       |       |       |       | tions |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | align |       |
|       |       |       |       |       |       | ments |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0054  | 1     | F     | Corre | 1     |
| 20-12 | \#90e | 03129 |       |       |       | ction | 6.5.0 |
|       |       |       |       |       |       | to    |       |
|       |       |       |       |       |       | the   |       |
|       |       |       |       |       |       | BDT   |       |
|       |       |       |       |       |       | p     |       |
|       |       |       |       |       |       | olicy |       |
|       |       |       |       |       |       | re-n  |       |
|       |       |       |       |       |       | egoti |       |
|       |       |       |       |       |       | ation |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0055  | 1     | F     | St    | 1     |
| 20-12 | \#90e | 03139 |       |       |       | orage | 6.5.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | YAML  |       |
|       |       |       |       |       |       | files |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | ETSI  |       |
|       |       |       |       |       |       | Forge |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0056  | 1     | F     | Corre | 1     |
| 20-12 | \#90e | 03110 |       |       |       | ction | 6.5.0 |
|       |       |       |       |       |       | to    |       |
|       |       |       |       |       |       | su    |       |
|       |       |       |       |       |       | pport |       |
|       |       |       |       |       |       | r     |       |
|       |       |       |       |       |       | edire |       |
|       |       |       |       |       |       | ction |       |
|       |       |       |       |       |       | codes |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | the   |       |
|       |       |       |       |       |       | u     |       |
|       |       |       |       |       |       | pdate |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | the   |       |
|       |       |       |       |       |       | Cal   |       |
|       |       |       |       |       |       | lback |       |
|       |       |       |       |       |       | URI   |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0057  |       | F     | U     | 1     |
| 20-12 | \#90e | 03152 |       |       |       | pdate | 6.5.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | TS    |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | ex    |       |
|       |       |       |       |       |       | terna |       |
|       |       |       |       |       |       | lDocs |       |
|       |       |       |       |       |       | field |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0058  |       | F     | Supp  | 1     |
| 21-03 | \#91e | 10191 |       |       |       | orted | 6.6.0 |
|       |       |       |       |       |       | fe    |       |
|       |       |       |       |       |       | ature |       |
|       |       |       |       |       |       | n     |       |
|       |       |       |       |       |       | umber |       |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | ES3XX |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0062  | 1     | F     | set   | 1     |
| 21-03 | \#91e | 10206 |       |       |       | bdtpS | 6.6.0 |
|       |       |       |       |       |       | tatus |       |
|       |       |       |       |       |       | to    |       |
|       |       |       |       |       |       | VALID |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0064  | 1     | A     | Corre | 1     |
| 21-03 | \#91e | 10201 |       |       |       | ction | 6.6.0 |
|       |       |       |       |       |       | to    |       |
|       |       |       |       |       |       | PATCH |       |
|       |       |       |       |       |       | m     |       |
|       |       |       |       |       |       | ethod |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0066  |       | F     | U     | 1     |
| 21-03 | \#91e | 10239 |       |       |       | pdate | 6.6.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | TS    |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | ex    |       |
|       |       |       |       |       |       | terna |       |
|       |       |       |       |       |       | lDocs |       |
|       |       |       |       |       |       | field |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0067  | 1     | F     | Red   | 1     |
| 21-06 | \#92e | 11200 |       |       |       | irect | 6.7.0 |
|       |       |       |       |       |       | resp  |       |
|       |       |       |       |       |       | onses |       |
|       |       |       |       |       |       | with  |       |
|       |       |       |       |       |       | \"app |       |
|       |       |       |       |       |       | licat |       |
|       |       |       |       |       |       | ion/j |       |
|       |       |       |       |       |       | son\" |       |
|       |       |       |       |       |       | media |       |
|       |       |       |       |       |       | type  |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0069  |       |       | U     | 1     |
| 21-06 | \#92e | 11264 |       |       |       | pdate | 6.7.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | Op    |       |
|       |       |       |       |       |       | enAPI |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | and   |       |
|       |       |       |       |       |       | TS    |       |
|       |       |       |       |       |       | ve    |       |
|       |       |       |       |       |       | rsion |       |
|       |       |       |       |       |       | in    |       |
|       |       |       |       |       |       | ex    |       |
|       |       |       |       |       |       | terna |       |
|       |       |       |       |       |       | lDocs |       |
|       |       |       |       |       |       | field |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
| 20    | CT    | CP-2  | 0074  | 1     | F     | Alig  | 1     |
| 22-03 | \#95e | 20176 |       |       |       | nment | 6.8.0 |
|       |       |       |       |       |       | of    |       |
|       |       |       |       |       |       | \"A   |       |
|       |       |       |       |       |       | pplic |       |
|       |       |       |       |       |       | ation |       |
|       |       |       |       |       |       | Err   |       |
|       |       |       |       |       |       | ors\" |       |
|       |       |       |       |       |       | c     |       |
|       |       |       |       |       |       | lause |       |
|       |       |       |       |       |       | with  |       |
|       |       |       |       |       |       | SBI   |       |
|       |       |       |       |       |       | TS    |       |
|       |       |       |       |       |       | tem   |       |
|       |       |       |       |       |       | plate |       |
+-------+-------+-------+-------+-------+-------+-------+-------+
